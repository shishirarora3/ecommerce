'use strict';
var $mr$MessagePortService$service_$$;
var $mr$mirror$Messages$MSG_MR_MIRROR_NO_AUDIO_CAPTURED$$ = chrome.i18n.getMessage("545449835455981095");
$goog$exportSymbol$$("mr.IssueSeverity", {$FATAL$:"fatal", $WARNING$:"warning", $NOTIFICATION$:"notification"});
$goog$exportSymbol$$("mr.IssueAction", {$DISMISS$:"dismiss", $LEARN_MORE$:"learn_more"});
var $mr$Issue$$ = function($title$jscomp$16$$, $severity$$) {
  this.sinkId = this.routeId = null;
  this.severity = $severity$$;
  this.isBlocking = "fatal" == this.severity ? !0 : !1;
  this.title = $title$jscomp$16$$;
  this.message = null;
  this.defaultAction = "dismiss";
  this.helpPageId = this.secondaryActions = null;
}, $JSCompiler_StaticMethods_setSecondaryActions$$ = function() {
  var $JSCompiler_StaticMethods_setDefaultActionLearnMore$self$jscomp$inline_1233$$ = new $mr$Issue$$($mr$cloud$Messages$MSG_MR_HANGOUT_PRIVACY$$, "notification");
  $mr$Assertions$assert$$(!0);
  $JSCompiler_StaticMethods_setDefaultActionLearnMore$self$jscomp$inline_1233$$.helpPageId = 6320939;
  $JSCompiler_StaticMethods_setDefaultActionLearnMore$self$jscomp$inline_1233$$.defaultAction = "learn_more";
  $JSCompiler_StaticMethods_setDefaultActionLearnMore$self$jscomp$inline_1233$$.secondaryActions = ["dismiss"];
  return $JSCompiler_StaticMethods_setDefaultActionLearnMore$self$jscomp$inline_1233$$;
}, $JSCompiler_StaticMethods_setIsBlocking$$ = function($JSCompiler_StaticMethods_setIsBlocking$self$$) {
  $JSCompiler_StaticMethods_setIsBlocking$self$$.isBlocking = !0;
  return $JSCompiler_StaticMethods_setIsBlocking$self$$;
}, $JSCompiler_StaticMethods_setRouteId$$ = function($JSCompiler_StaticMethods_setRouteId$self$$, $routeId$jscomp$1$$) {
  $JSCompiler_StaticMethods_setRouteId$self$$.routeId = $routeId$jscomp$1$$;
  return $JSCompiler_StaticMethods_setRouteId$self$$;
}, $JSCompiler_StaticMethods_mr_Issue_prototype$setSinkId$$ = function($JSCompiler_StaticMethods_mr_Issue_prototype$setSinkId$self$$, $sinkId$jscomp$1$$) {
  $JSCompiler_StaticMethods_mr_Issue_prototype$setSinkId$self$$.sinkId = $sinkId$jscomp$1$$;
  return $JSCompiler_StaticMethods_mr_Issue_prototype$setSinkId$self$$;
};
var $module$contents$mr$CancellablePromise_CancellablePromise$$ = function($init$jscomp$2$$, $onCancelled$$) {
  var $$jscomp$this$jscomp$7$$ = this;
  this.$f$ = void 0 === $onCancelled$$ ? null : $onCancelled$$;
  this.$b$ = new Promise(function($resolve$jscomp$10$$, $reject$jscomp$9$$) {
    var $reject1$$ = function($reason$jscomp$10$$) {
      $$jscomp$this$jscomp$7$$.$f$ = null;
      $reject$jscomp$9$$($reason$jscomp$10$$);
    };
    $$jscomp$this$jscomp$7$$.$g$ = $reject1$$;
    $init$jscomp$2$$(function($value$jscomp$180$$) {
      $$jscomp$this$jscomp$7$$.$f$ = null;
      $resolve$jscomp$10$$($value$jscomp$180$$);
    }, $reject1$$);
  });
};
$module$contents$mr$CancellablePromise_CancellablePromise$$.prototype.cancel = function($reason$jscomp$11$$) {
  this.$g$($reason$jscomp$11$$);
  if (this.$f$) {
    var $onCancelled$jscomp$1$$ = this.$f$;
    this.$f$ = null;
    setTimeout(function() {
      return $onCancelled$jscomp$1$$($reason$jscomp$11$$);
    }, 0);
  }
};
var $JSCompiler_StaticMethods_chain$$ = function($JSCompiler_StaticMethods_chain$self$$, $onResolved$$, $onRejected$jscomp$4$$) {
  $onRejected$jscomp$4$$ = void 0 === $onRejected$jscomp$4$$ ? null : $onRejected$jscomp$4$$;
  return new $module$contents$mr$CancellablePromise_CancellablePromise$$(function($resolve$jscomp$11$$, $reject$jscomp$10$$) {
    $JSCompiler_StaticMethods_chain$self$$.$b$.then(function($value$jscomp$181$$) {
      if ($onResolved$$) {
        try {
          $resolve$jscomp$11$$($onResolved$$($value$jscomp$181$$));
        } catch ($reason$jscomp$12$$) {
          $reject$jscomp$10$$($reason$jscomp$12$$);
        }
      } else {
        $resolve$jscomp$11$$($value$jscomp$181$$);
      }
    }, function($reason$jscomp$13$$) {
      if ($onRejected$jscomp$4$$) {
        try {
          $resolve$jscomp$11$$($onRejected$jscomp$4$$($reason$jscomp$13$$));
        } catch ($reason2$$) {
          $reject$jscomp$10$$($reason2$$);
        }
      } else {
        $reject$jscomp$10$$($reason$jscomp$13$$);
      }
    });
  }, function($reason$jscomp$14$$) {
    $JSCompiler_StaticMethods_chain$self$$.cancel($reason$jscomp$14$$);
  });
};
$module$contents$mr$CancellablePromise_CancellablePromise$$.prototype.then = function($onResolved$jscomp$1$$, $onRejected$jscomp$5$$) {
  return $JSCompiler_StaticMethods_chain$$(this, $onResolved$jscomp$1$$, void 0 === $onRejected$jscomp$5$$ ? null : $onRejected$jscomp$5$$);
};
$module$contents$mr$CancellablePromise_CancellablePromise$$.prototype.catch = function($onRejected$jscomp$6$$) {
  return $JSCompiler_StaticMethods_chain$$(this, null, $onRejected$jscomp$6$$);
};
var $module$contents$mr$CancellablePromise_CancellablePromise$resolve$$ = function($value$jscomp$182$$) {
  return new $module$contents$mr$CancellablePromise_CancellablePromise$$(function($resolve$jscomp$12$$) {
    $resolve$jscomp$12$$($value$jscomp$182$$);
  });
}, $module$contents$mr$CancellablePromise_CancellablePromise$reject$$ = function($reason$jscomp$15$$) {
  return new $module$contents$mr$CancellablePromise_CancellablePromise$$(function($resolve$jscomp$13$$, $reject$jscomp$12$$) {
    $reject$jscomp$12$$($reason$jscomp$15$$);
  });
}, $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$ = function($promise$jscomp$6$$) {
  return new $module$contents$mr$CancellablePromise_CancellablePromise$$(function($resolve$jscomp$14$$, $reject$jscomp$13$$) {
    $promise$jscomp$6$$.then($resolve$jscomp$14$$, $reject$jscomp$13$$);
  });
}, $module$contents$mr$CancellablePromise_CancellablePromise$withUncancellableStep$$ = function($promise$jscomp$7$$, $startCancellableStep$$) {
  var $wasCancelled$$ = !1, $innerPromise$$ = null;
  return new $module$contents$mr$CancellablePromise_CancellablePromise$$(function($resolve$jscomp$15$$, $reject$jscomp$14$$) {
    $promise$jscomp$7$$.then(function($value$jscomp$183$$) {
      $wasCancelled$$ || ($innerPromise$$ = $startCancellableStep$$($value$jscomp$183$$), $innerPromise$$.$b$.then($resolve$jscomp$15$$, $reject$jscomp$14$$));
    }, $reject$jscomp$14$$);
  }, function($reason$jscomp$16$$) {
    $innerPromise$$ ? $innerPromise$$.cancel($reason$jscomp$16$$) : $wasCancelled$$ = !0;
  });
};
var $mr$MirrorAnalytics$CapturingFailure$$ = {$CAPTURE_TAB_FAIL_EMPTY_STREAM$:0, $CAPTURE_DESKTOP_FAIL_ERROR_TIMEOUT$:1, $CAPTURE_TAB_TIMEOUT$:2, $CAPTURE_DESKTOP_FAIL_ERROR_USER_CANCEL$:3, $ANSWER_NOT_RECEIVED$:4, $CAPTURE_TAB_FAIL_ERROR_TIMEOUT$:5, $ICE_CONNECTION_CLOSED$:6, $TAB_FAIL$:7, $DESKTOP_FAIL$:8, UNKNOWN:9}, $mr$mirror$Error$$ = function($$jscomp$tmp$error$jscomp$1_message$jscomp$57$$, $reason$jscomp$18$$) {
  $$jscomp$tmp$error$jscomp$1_message$jscomp$57$$ = Error.call(this, $$jscomp$tmp$error$jscomp$1_message$jscomp$57$$);
  this.message = $$jscomp$tmp$error$jscomp$1_message$jscomp$57$$.message;
  "stack" in $$jscomp$tmp$error$jscomp$1_message$jscomp$57$$ && (this.stack = $$jscomp$tmp$error$jscomp$1_message$jscomp$57$$.stack);
  this.reason = 0 <= $reason$jscomp$18$$ && 9 >= $reason$jscomp$18$$ ? $reason$jscomp$18$$ : 9;
};
$$jscomp$inherits$$($mr$mirror$Error$$, Error);
var $mr$PlatformUtils$isWindows8OrNewer$$ = function() {
  var $$jscomp$destructuring$var2_version$jscomp$12$$ = $$jscomp$makeIterator$$(navigator.userAgent.match(/Windows NT (\d+.\d+)/) || []);
  $$jscomp$destructuring$var2_version$jscomp$12$$.next();
  $$jscomp$destructuring$var2_version$jscomp$12$$ = $$jscomp$destructuring$var2_version$jscomp$12$$.next().value;
  return 6.2 <= parseFloat($$jscomp$destructuring$var2_version$jscomp$12$$);
}, $mr$PlatformUtils$getCurrentOS$$ = function() {
  var $userAgent$jscomp$7$$ = navigator.userAgent;
  return $userAgent$jscomp$7$$.includes("CrOS") ? "ChromeOS" : $userAgent$jscomp$7$$.includes("Windows") ? "Windows" : $userAgent$jscomp$7$$.includes("Macintosh") ? "Mac" : $userAgent$jscomp$7$$.includes("Linux") ? "Linux" : "Other";
};
var $mr$mirror$Config$isTDLSSupportedByPlatform$$ = !("undefined" == typeof chrome || !chrome.networkingPrivate || !chrome.networkingPrivate.setWifiTDLSEnabledState || "ChromeOS" != $mr$PlatformUtils$getCurrentOS$$()), $mr$mirror$Config$isDesktopAudioCaptureAvailable$$ = ["ChromeOS", "Windows"].includes($mr$PlatformUtils$getCurrentOS$$());
var $mr$mirror$CaptureParameters$$ = function($captureSurface$$, $mirrorSettings$$, $opt_offscreenTabUrl$$, $opt_presentationId$$) {
  $opt_offscreenTabUrl$$ && ($mr$Assertions$assert$$("offscreen_tab" == $captureSurface$$), $mr$Assertions$assert$$($opt_presentationId$$));
  this.$f$ = $captureSurface$$;
  this.$b$ = $mirrorSettings$$;
  this.$g$ = $opt_offscreenTabUrl$$ || null;
  this.presentationId = $opt_presentationId$$ || null;
}, $JSCompiler_StaticMethods_toMediaConstraints$$ = function($JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$, $constraints$jscomp$inline_1237_sourceId$$) {
  if ("tab" == $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$.$f$) {
    $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$ = $JSCompiler_StaticMethods_toTabMediaConstraints_$$($JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$);
  } else {
    if ("offscreen_tab" == $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$.$f$) {
      $mr$Assertions$assert$$($JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$.presentationId, "Missing offscreen capture presentation id"), $constraints$jscomp$inline_1237_sourceId$$ = $JSCompiler_StaticMethods_toTabMediaConstraints_$$($JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$), $constraints$jscomp$inline_1237_sourceId$$.presentationId = $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$.presentationId, 
      $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$ = $constraints$jscomp$inline_1237_sourceId$$;
    } else {
      var $constraints$jscomp$inline_1241$$ = {audio:!1, video:!1};
      $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$.$b$.shouldCaptureVideo ? ($mr$Assertions$assert$$($constraints$jscomp$inline_1237_sourceId$$), $constraints$jscomp$inline_1241$$.video = {mandatory:{chromeMediaSource:"desktop", chromeMediaSourceId:$constraints$jscomp$inline_1237_sourceId$$}}, $JSCompiler_StaticMethods_setCommonVideoConstraints_$$($JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$, 
      $constraints$jscomp$inline_1241$$.video.mandatory), $mr$mirror$Config$isDesktopAudioCaptureAvailable$$ && $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$.$b$.shouldCaptureAudio && ($constraints$jscomp$inline_1241$$.audio = {mandatory:{chromeMediaSource:"system", chromeMediaSourceId:$constraints$jscomp$inline_1237_sourceId$$}})) : $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$.$b$.shouldCaptureAudio && 
      ($mr$Assertions$assert$$(!$constraints$jscomp$inline_1237_sourceId$$), $mr$Assertions$assert$$($mr$mirror$Config$isDesktopAudioCaptureAvailable$$), $constraints$jscomp$inline_1241$$.audio = {mandatory:{chromeMediaSource:"system"}});
      $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$ = $constraints$jscomp$inline_1241$$;
    }
  }
  return $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$463_JSCompiler_temp$jscomp$464$$;
}, $JSCompiler_StaticMethods_toTabMediaConstraints_$$ = function($JSCompiler_StaticMethods_toTabMediaConstraints_$self$$) {
  var $constraints$jscomp$11$$ = {audio:$JSCompiler_StaticMethods_toTabMediaConstraints_$self$$.$b$.shouldCaptureAudio, video:$JSCompiler_StaticMethods_toTabMediaConstraints_$self$$.$b$.shouldCaptureVideo};
  $JSCompiler_StaticMethods_toTabMediaConstraints_$self$$.$b$.shouldCaptureVideo && ($constraints$jscomp$11$$.videoConstraints = {mandatory:{enableAutoThrottling:!0}}, $JSCompiler_StaticMethods_setCommonVideoConstraints_$$($JSCompiler_StaticMethods_toTabMediaConstraints_$self$$, $constraints$jscomp$11$$.videoConstraints.mandatory));
  return $constraints$jscomp$11$$;
}, $JSCompiler_StaticMethods_setCommonVideoConstraints_$$ = function($JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$, $constraints$jscomp$14$$) {
  var $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$ = $JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$b$.minWidth, $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$ = $JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$b$.minHeight;
  if ($JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$b$.senderSideLetterboxing) {
    $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$ = $JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$b$;
    if (0 == $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.minHeight || 0 == $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.maxHeight ? 0 : Math.floor(100.0 * $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.minWidth / $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.minHeight) == 
    Math.floor(100.0 * $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.maxWidth / $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.maxHeight)) {
      $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$ = {width:$JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.minWidth, height:$JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.minHeight};
    } else {
      $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.maxWidth;
      for (var $b$jscomp$inline_1245_width$jscomp$inline_1247$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.maxHeight; 0 != $b$jscomp$inline_1245_width$jscomp$inline_1247$$;) {
        var $remainder$jscomp$inline_1246_upFactor$jscomp$inline_1249$$ = $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$ % $b$jscomp$inline_1245_width$jscomp$inline_1247$$;
        $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$ = $b$jscomp$inline_1245_width$jscomp$inline_1247$$;
        $b$jscomp$inline_1245_width$jscomp$inline_1247$$ = $remainder$jscomp$inline_1246_upFactor$jscomp$inline_1249$$;
      }
      $b$jscomp$inline_1245_width$jscomp$inline_1247$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.maxWidth / $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$;
      $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.maxHeight / $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$;
      if ($b$jscomp$inline_1245_width$jscomp$inline_1247$$ < $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.minWidth || $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$ < $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.minHeight) {
        if ($remainder$jscomp$inline_1246_upFactor$jscomp$inline_1249$$ = Math.max($JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.minWidth / $b$jscomp$inline_1245_width$jscomp$inline_1247$$, $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.minHeight / $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$), $b$jscomp$inline_1245_width$jscomp$inline_1247$$ *= 
        $remainder$jscomp$inline_1246_upFactor$jscomp$inline_1249$$, $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$ *= $remainder$jscomp$inline_1246_upFactor$jscomp$inline_1249$$, $b$jscomp$inline_1245_width$jscomp$inline_1247$$ > $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.maxWidth || $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$ > $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.maxHeight) {
          $b$jscomp$inline_1245_width$jscomp$inline_1247$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.maxWidth, $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$.maxHeight;
        }
      }
      $b$jscomp$inline_1245_width$jscomp$inline_1247$$ = Math.round($b$jscomp$inline_1245_width$jscomp$inline_1247$$);
      $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$ = Math.round($a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$);
      $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$ = {width:$b$jscomp$inline_1245_width$jscomp$inline_1247$$, height:$a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$};
    }
    $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$;
    $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$ = $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$.width;
    $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$ = $a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$.height;
  }
  Object.assign($constraints$jscomp$14$$, {minWidth:$JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_1243_JSCompiler_inline_result$jscomp$468_minWidth$$, minHeight:$a$jscomp$inline_1244_altMin_height$jscomp$inline_1248_minHeight$$, maxWidth:$JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$b$.maxWidth, maxHeight:$JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$b$.maxHeight, minFrameRate:$JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$b$.minFrameRate, 
  maxFrameRate:$JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$b$.maxFrameRate});
};
var $mr$mirror$MirrorMediaStream$$ = function($captureParams$$) {
  this.$b$ = $captureParams$$;
  this.$f$ = this.$onStreamEnded_$ = null;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.mirror.MirrorMediaStream");
};
$mr$mirror$MirrorMediaStream$$.prototype.start = function() {
  return "tab" == this.$b$.$f$ ? $JSCompiler_StaticMethods_startTabCapturing_$$(this) : "offscreen_tab" == this.$b$.$f$ ? $JSCompiler_StaticMethods_startOffscreenTabCapturing_$$(this) : $JSCompiler_StaticMethods_startDesktopCapturing_$$(this);
};
var $JSCompiler_StaticMethods_startTabCapturing_$$ = function($JSCompiler_StaticMethods_startTabCapturing_$self$$) {
  var $constraints$jscomp$15$$ = $JSCompiler_StaticMethods_toMediaConstraints$$($JSCompiler_StaticMethods_startTabCapturing_$self$$.$b$);
  $JSCompiler_StaticMethods_startTabCapturing_$self$$.$logger_$.info("Starting tab capture with constraints " + JSON.stringify($constraints$jscomp$15$$));
  return new Promise(function($resolve$jscomp$16$$, $reject$jscomp$15$$) {
    chrome.tabCapture.capture($constraints$jscomp$15$$, function($stream$jscomp$4$$) {
      $stream$jscomp$4$$ ? ($JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$$($JSCompiler_StaticMethods_startTabCapturing_$self$$, $stream$jscomp$4$$), $resolve$jscomp$16$$($JSCompiler_StaticMethods_startTabCapturing_$self$$)) : $reject$jscomp$15$$($JSCompiler_StaticMethods_createTabCaptureError_$$());
    });
    window.setTimeout(function() {
      $reject$jscomp$15$$(new $mr$mirror$Error$$("chrome.tabCapture.capture failed to call its callback", 2));
    }, 5000);
  });
};
$mr$mirror$MirrorMediaStream$$.prototype.$g$ = function($event$jscomp$12$$) {
  $event$jscomp$12$$ && this.$logger_$.info(function() {
    return "Track " + JSON.stringify($event$jscomp$12$$.target) + " ended";
  });
  this.stop();
};
var $JSCompiler_StaticMethods_createTabCaptureError_$$ = function() {
  return chrome.runtime.lastError && chrome.runtime.lastError.message ? new $mr$mirror$Error$$(chrome.runtime.lastError.message, 7) : new $mr$mirror$Error$$("empty_stream", 0);
}, $mr$mirror$MirrorMediaStream$requestScreenCaptureSourceId$$ = function($showAudioCheckbox$$) {
  $showAudioCheckbox$$ = void 0 === $showAudioCheckbox$$ ? !0 : $showAudioCheckbox$$;
  return new Promise(function($resolve$jscomp$17$$, $reject$jscomp$16$$) {
    var $desktopChooserConfig$$ = ["screen"];
    $showAudioCheckbox$$ && $desktopChooserConfig$$.push("audio");
    "Linux" == $mr$PlatformUtils$getCurrentOS$$() && $desktopChooserConfig$$.push("window");
    var $timeoutId$$ = window.setTimeout(function() {
      $requestId$jscomp$3$$ && chrome.desktopCapture.cancelChooseDesktopMedia($requestId$jscomp$3$$);
      $reject$jscomp$16$$(new $mr$mirror$Error$$("timeout", 1));
    }, 60000);
    var $requestId$jscomp$3$$ = chrome.desktopCapture.chooseDesktopMedia($desktopChooserConfig$$, null, function($sourceId$jscomp$2$$) {
      window.clearTimeout($timeoutId$$);
      $sourceId$jscomp$2$$ ? $resolve$jscomp$17$$($sourceId$jscomp$2$$) : $reject$jscomp$16$$(new $mr$mirror$Error$$("User cancelled capture dialog", 3));
    });
  });
}, $JSCompiler_StaticMethods_generateScreenCaptureStream_$$ = function($JSCompiler_StaticMethods_generateScreenCaptureStream_$self$$, $constraints$jscomp$16$$) {
  return new Promise(function($resolve$jscomp$18$$, $reject$jscomp$17$$) {
    $JSCompiler_StaticMethods_generateScreenCaptureStream_$self$$.$logger_$.info(function() {
      return "Starting desktop capture with constraints " + JSON.stringify($constraints$jscomp$16$$);
    });
    navigator.mediaDevices.getUserMedia($constraints$jscomp$16$$).then(function($stream$jscomp$5$$) {
      $stream$jscomp$5$$ || $reject$jscomp$17$$(new $mr$mirror$Error$$("empty_stream", 8));
      $JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$$($JSCompiler_StaticMethods_generateScreenCaptureStream_$self$$, $stream$jscomp$5$$);
      $resolve$jscomp$18$$($stream$jscomp$5$$);
    }, function($error$jscomp$16$$) {
      var $errorReason$$ = 8;
      "NotAllowedError" == $error$jscomp$16$$.name && ($errorReason$$ = 3);
      $reject$jscomp$17$$(new $mr$mirror$Error$$($error$jscomp$16$$.name + " " + $error$jscomp$16$$.constraintName + ": " + $error$jscomp$16$$.message, $errorReason$$));
    });
  });
}, $JSCompiler_StaticMethods_startDesktopCapturing_$$ = function($JSCompiler_StaticMethods_startDesktopCapturing_$self$$) {
  return $mr$mirror$Config$isDesktopAudioCaptureAvailable$$ && $JSCompiler_StaticMethods_startDesktopCapturing_$self$$.$b$.$b$.shouldCaptureAudio && !$JSCompiler_StaticMethods_startDesktopCapturing_$self$$.$b$.$b$.shouldCaptureVideo ? $JSCompiler_StaticMethods_generateScreenCaptureStream_$$($JSCompiler_StaticMethods_startDesktopCapturing_$self$$, $JSCompiler_StaticMethods_toMediaConstraints$$($JSCompiler_StaticMethods_startDesktopCapturing_$self$$.$b$)).then(function() {
    return $JSCompiler_StaticMethods_startDesktopCapturing_$self$$;
  }) : $mr$mirror$MirrorMediaStream$requestScreenCaptureSourceId$$().then(function($constraints$jscomp$17_sourceId$jscomp$3$$) {
    $constraints$jscomp$17_sourceId$jscomp$3$$ = $JSCompiler_StaticMethods_toMediaConstraints$$($JSCompiler_StaticMethods_startDesktopCapturing_$self$$.$b$, $constraints$jscomp$17_sourceId$jscomp$3$$);
    return $JSCompiler_StaticMethods_generateScreenCaptureStream_$$($JSCompiler_StaticMethods_startDesktopCapturing_$self$$, $constraints$jscomp$17_sourceId$jscomp$3$$).then(function() {
      return $JSCompiler_StaticMethods_startDesktopCapturing_$self$$;
    });
  });
}, $JSCompiler_StaticMethods_startOffscreenTabCapturing_$$ = function($JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$) {
  $mr$Assertions$assert$$(!!$JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$.$b$.$g$);
  var $constraints$jscomp$18$$ = $JSCompiler_StaticMethods_toMediaConstraints$$($JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$.$b$);
  $JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$.$logger_$.info(function() {
    return "Starting offscreen tab capture with constraints " + JSON.stringify($constraints$jscomp$18$$);
  });
  return new Promise(function($resolve$jscomp$19$$, $reject$jscomp$18$$) {
    chrome.tabCapture.captureOffscreenTab($JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$.$b$.$g$.toString(), $constraints$jscomp$18$$, function($stream$jscomp$6$$) {
      $stream$jscomp$6$$ ? ($JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$$($JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$, $stream$jscomp$6$$), $resolve$jscomp$19$$($JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$)) : $reject$jscomp$18$$($JSCompiler_StaticMethods_createTabCaptureError_$$());
    });
  });
}, $JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$$ = function($JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$self$$, $stream$jscomp$7$$) {
  $JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$self$$.$f$ = $stream$jscomp$7$$;
  $mr$Assertions$assert$$($stream$jscomp$7$$.getAudioTracks().length || $stream$jscomp$7$$.getVideoTracks().length, "Expecting at least one audio or video track.");
  $stream$jscomp$7$$.getTracks().forEach(function($track$jscomp$4$$) {
    $track$jscomp$4$$.onended = $JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$self$$.$g$.bind($JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$self$$);
  });
};
$mr$mirror$MirrorMediaStream$$.prototype.stop = function() {
  this.$f$ && (this.$f$.getTracks().forEach(function($track$jscomp$5$$) {
    $track$jscomp$5$$.onended = null;
    $track$jscomp$5$$.stop();
  }), this.$f$ = null, this.$onStreamEnded_$ && this.$onStreamEnded_$());
};
var $mr$Module$$ = function() {
}, $mr$Module$load$$ = function($moduleId$jscomp$7$$) {
  var $module$jscomp$2_resolver$jscomp$1$$ = $mr$Module$moduleById_$$.get($moduleId$jscomp$7$$) || null;
  if ($module$jscomp$2_resolver$jscomp$1$$) {
    return Promise.resolve($module$jscomp$2_resolver$jscomp$1$$);
  }
  $module$jscomp$2_resolver$jscomp$1$$ = $mr$Module$resolverByModuleId_$$.get($moduleId$jscomp$7$$);
  $module$jscomp$2_resolver$jscomp$1$$ || ($module$jscomp$2_resolver$jscomp$1$$ = new $mr$PromiseResolver$$, $mr$Module$resolverByModuleId_$$.set($moduleId$jscomp$7$$, $module$jscomp$2_resolver$jscomp$1$$), $mr$Module$loadBundleForModule_$$($moduleId$jscomp$7$$, $module$jscomp$2_resolver$jscomp$1$$));
  return $module$jscomp$2_resolver$jscomp$1$$.$b$;
}, $mr$Module$loadBundleForModule_$$ = function($moduleId$jscomp$8$$, $resolver$jscomp$2$$) {
  var $bundle$$ = $mr$Module$MODULE_TO_BUNDLE_MAPPING_$$.get($moduleId$jscomp$8$$) || null;
  if (!$bundle$$) {
    $resolver$jscomp$2$$.reject(Error("No corresponding bundle for " + $moduleId$jscomp$8$$));
  } else {
    if (!$mr$Module$DEFAULT_LOAD_BUNDLES_$$.has($bundle$$)) {
      var $bundlePromise$$ = $mr$Module$bundlePromises_$$.get($bundle$$);
      $bundlePromise$$ || ($mr$Module$logger_$$.info("Loading bundle " + $bundle$$ + " for module " + $moduleId$jscomp$8$$), $bundlePromise$$ = $mr$Module$doLoadBundle_$$($bundle$$), $mr$Module$bundlePromises_$$.set($bundle$$, $bundlePromise$$));
      $bundlePromise$$.catch(function($e$jscomp$34$$) {
        $resolver$jscomp$2$$.reject($e$jscomp$34$$);
      });
    }
  }
}, $mr$Module$doLoadBundle_$$ = function($bundle$jscomp$1$$) {
  var $resolver$jscomp$3$$ = new $mr$PromiseResolver$$;
  $resolver$jscomp$3$$.$b$.then(function() {
    $mr$Module$logger_$$.info("Bundle " + $bundle$jscomp$1$$ + " loaded");
  }, function($e$jscomp$35$$) {
    $mr$Module$logger_$$.error("Failed to load bundle " + $bundle$jscomp$1$$);
    throw $e$jscomp$35$$;
  });
  var $script$jscomp$17$$ = document.createElement("script");
  $script$jscomp$17$$.src = chrome.extension.getURL($bundle$jscomp$1$$);
  $script$jscomp$17$$.setAttribute("type", "text/javascript");
  $script$jscomp$17$$.async = !0;
  $script$jscomp$17$$.onload = function() {
    return $resolver$jscomp$3$$.resolve(void 0);
  };
  $script$jscomp$17$$.onerror = function() {
    return $resolver$jscomp$3$$.reject(Error("Failed to load bundle " + $bundle$jscomp$1$$));
  };
  document.head.appendChild($script$jscomp$17$$);
  return $resolver$jscomp$3$$.$b$;
}, $mr$Module$onModuleLoaded$$ = function($moduleId$jscomp$10_resolver$jscomp$4$$, $module$jscomp$3$$) {
  if ($mr$Module$moduleById_$$.has($moduleId$jscomp$10_resolver$jscomp$4$$)) {
    throw Error("Duplicate module " + $moduleId$jscomp$10_resolver$jscomp$4$$);
  }
  $mr$Module$moduleById_$$.set($moduleId$jscomp$10_resolver$jscomp$4$$, $module$jscomp$3$$);
  ($moduleId$jscomp$10_resolver$jscomp$4$$ = $mr$Module$resolverByModuleId_$$.get($moduleId$jscomp$10_resolver$jscomp$4$$)) && $moduleId$jscomp$10_resolver$jscomp$4$$.resolve($module$jscomp$3$$);
};
$mr$Module$$.prototype.handleEvent = function($event$jscomp$13$$, $args$jscomp$18$$) {
  for (var $$jscomp$restIndex$$ = 1; $$jscomp$restIndex$$ < arguments.length; ++$$jscomp$restIndex$$) {
  }
  throw Error("Not implemented");
};
var $mr$Module$MODULE_TO_BUNDLE_MAPPING_$$ = new Map([["mr.cast.ChannelService", "background_script.js"], ["mr.cast.SinkDiscoveryService", "background_script.js"], ["mr.mirror.cast.Service", "mirroring_cast_streaming.js"], ["mr.cloud.slarti.SinkDiscoveryService", "background_script.js"], ["mr.cloud.discovery.WeaveSinkDiscoveryService", "background_script.js"], ["mr.mirror.hangouts.HangoutsService", "mirroring_hangouts.js"], ["mr.mirror.hangouts.MeetingsService", "mirroring_hangouts.js"], ["mr.ProviderManager", 
"background_script.js"], ["mr.mirror.webrtc.WebRtcService", "mirroring_webrtc.js"]]), $mr$Module$DEFAULT_LOAD_BUNDLES_$$ = new Set(["background_script.js"]), $mr$Module$logger_$$ = $mr$Logger$getInstance$$("mr.Module"), $mr$Module$moduleById_$$ = new Map, $mr$Module$resolverByModuleId_$$ = new Map, $mr$Module$bundlePromises_$$ = new Map;
var $mr$EventAnalytics$firstEvent_$$, $mr$EventAnalytics$Event$$ = {$MEDIA_ROUTER$:0, $CAST_CHANNEL_ON_ERROR$:1, $CAST_CHANNEL_ON_MESSAGE$:2, $DIAL_ON_DEVICE_LIST$:3, $DIAL_ON_ERROR$:4, $GCM_ON_MESSAGE$:5, $IDENTITY_ON_SIGN_IN_CHANGED$:6, $MDNS_ON_SERVICE_LIST$:7, $NETWORKING_PRIVATE_ON_NETWORKS_CHANGED$:8, $NETWORKING_PRIVATE_ON_NETWORK_LIST_CHANGED$:9, $PROCESSES_ON_UPDATED$:10, $RUNTIME_ON_MESSAGE$:11, $RUNTIME_ON_MESSAGE_EXTERNAL$:12, $SETTINGS_PRIVATE_ON_PREFS_CHANGED$:13, $TABS_ON_UPDATED$:14}, 
$mr$EventAnalytics$recordEvent$$ = function($eventType$jscomp$3$$) {
  void 0 == $mr$EventAnalytics$firstEvent_$$ && ($mr$Analytics$recordEnum$$("MediaRouter.Provider.WakeEvent", $eventType$jscomp$3$$, $mr$EventAnalytics$Event$$), $mr$EventAnalytics$firstEvent_$$ = $eventType$jscomp$3$$);
};
var $mr$MediaSourceUtils$isMirrorSource$$ = function($sourceUrn$$) {
  return $mr$MediaSourceUtils$isTabMirrorSource$$($sourceUrn$$) || $mr$MediaSourceUtils$isDesktopMirrorSource$$($sourceUrn$$);
}, $mr$MediaSourceUtils$isPresentationSource$$ = function($sourceUrn$jscomp$1$$) {
  try {
    var $url$jscomp$95$$ = new URL($sourceUrn$jscomp$1$$);
    return "http:" != $url$jscomp$95$$.protocol && "https:" != $url$jscomp$95$$.protocol ? !1 : -1 == $url$jscomp$95$$.hash.indexOf("__castAppId__");
  } catch ($err$jscomp$11$$) {
    return !1;
  }
}, $mr$MediaSourceUtils$MIRROR_APP_ID_ORIGIN_WHITELIST_$$ = ["https://docs.google.com"], $mr$MediaSourceUtils$getWhitelistedOrigins$$ = function($sourceUrn$jscomp$2$$) {
  return window.localStorage["debug.allowAllOrigins"] ? null : -1 != $sourceUrn$jscomp$2$$.indexOf("0F5096E8") ? $mr$MediaSourceUtils$MIRROR_APP_ID_ORIGIN_WHITELIST_$$ : null;
}, $mr$MediaSourceUtils$isTabMirrorSource$$ = function($sourceUrn$jscomp$3$$) {
  return $sourceUrn$jscomp$3$$.startsWith("urn:x-org.chromium.media:source:tab:") || -1 != $sourceUrn$jscomp$3$$.indexOf("0F5096E8");
}, $mr$MediaSourceUtils$isDesktopMirrorSource$$ = function($sourceUrn$jscomp$4$$) {
  return "urn:x-org.chromium.media:source:desktop" == $sourceUrn$jscomp$4$$;
}, $mr$MediaSourceUtils$getMirrorTabId$$ = function($sourceUrn$jscomp$5$$) {
  var $pos$jscomp$1$$ = $sourceUrn$jscomp$5$$.search("urn:x-org.chromium.media:source:tab:");
  return -1 == $pos$jscomp$1$$ ? null : parseInt($sourceUrn$jscomp$5$$.substr($pos$jscomp$1$$ + 36), 10) || null;
};
var $mr$mirror$Service$$ = function($serviceName$jscomp$2$$, $mirrorServiceCallbacks$$) {
  this.$ea$ = $serviceName$jscomp$2$$;
  this.$h$ = $mirrorServiceCallbacks$$ || null;
  this.$f$ = this.$b$ = null;
  this.$logger$ = $mr$Logger$getInstance$$("mr.mirror.Service." + $serviceName$jscomp$2$$);
  this.$Y$ = this.$da$.bind(this);
  this.$G$ = !1;
};
$$jscomp$inherits$$($mr$mirror$Service$$, $mr$Module$$);
$JSCompiler_prototypeAlias$$ = $mr$mirror$Service$$.prototype;
$JSCompiler_prototypeAlias$$.initialize = function($mirrorServiceCallbacks$jscomp$1$$, $useMirroringService$$) {
  this.$G$ || (this.$h$ = $mirrorServiceCallbacks$jscomp$1$$, this.$G$ = !0, this.$doInitialize$($useMirroringService$$));
};
$JSCompiler_prototypeAlias$$.$doInitialize$ = function() {
};
$JSCompiler_prototypeAlias$$.getName = function() {
  return this.$ea$;
};
$JSCompiler_prototypeAlias$$.$mr_mirror_Service_prototype$startMirroring$ = function($route$jscomp$1$$, $sourceUrn$jscomp$6$$, $mirrorSettings$jscomp$1$$, $opt_presentationId$jscomp$1$$, $opt_streamStartedCallback$$) {
  var $$jscomp$this$jscomp$14$$ = this;
  this.$logger$.info("Start mirroring on route " + $route$jscomp$1$$.id);
  if (!this.$G$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Not initialized"));
  }
  var $promise$jscomp$8$$ = new Promise(function($resolve$jscomp$20$$, $reject$jscomp$19$$) {
    $$jscomp$this$jscomp$14$$.$s$().then(function() {
      var $captureParams$jscomp$1$$ = $mr$mirror$Service$createCaptureParameters_$$($sourceUrn$jscomp$6$$, $mirrorSettings$jscomp$1$$, $opt_presentationId$jscomp$1$$);
      return (new $mr$mirror$MirrorMediaStream$$($captureParams$jscomp$1$$)).start();
    }).then(function($onStreamEnded$jscomp$inline_1252_stream$jscomp$8$$) {
      if ($$jscomp$this$jscomp$14$$.$f$) {
        throw $onStreamEnded$jscomp$inline_1252_stream$jscomp$8$$.stop(), new $mr$mirror$Error$$("Cannot start multiple streams");
      }
      $$jscomp$this$jscomp$14$$.$f$ = $onStreamEnded$jscomp$inline_1252_stream$jscomp$8$$;
      $onStreamEnded$jscomp$inline_1252_stream$jscomp$8$$ = $$jscomp$this$jscomp$14$$.$H$.bind($$jscomp$this$jscomp$14$$);
      $$jscomp$this$jscomp$14$$.$f$.$onStreamEnded_$ = $onStreamEnded$jscomp$inline_1252_stream$jscomp$8$$;
      return $opt_streamStartedCallback$$ ? $opt_streamStartedCallback$$($route$jscomp$1$$).$b$ : $route$jscomp$1$$;
    }).then(function($onActivityUpdate$jscomp$inline_1255_updatedRoute$$) {
      if ($$jscomp$this$jscomp$14$$.$b$) {
        throw new $mr$mirror$Error$$("Cannot start multiple sessions");
      }
      if (!$$jscomp$this$jscomp$14$$.$f$) {
        throw new $mr$mirror$Error$$("Media stream ended before session could start.");
      }
      $$jscomp$this$jscomp$14$$.$b$ = $$jscomp$this$jscomp$14$$.$createMirrorSession$($mirrorSettings$jscomp$1$$, $onActivityUpdate$jscomp$inline_1255_updatedRoute$$);
      $onActivityUpdate$jscomp$inline_1255_updatedRoute$$.$mirrorInitData$.$activity$ = $$jscomp$this$jscomp$14$$.$b$.$activity$;
      $onActivityUpdate$jscomp$inline_1255_updatedRoute$$ = $$jscomp$this$jscomp$14$$.$h$.$handleMirrorActivityUpdate$.bind($$jscomp$this$jscomp$14$$.$h$);
      $$jscomp$this$jscomp$14$$.$b$.$L$ = $onActivityUpdate$jscomp$inline_1255_updatedRoute$$;
      $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$$($$jscomp$this$jscomp$14$$.$b$);
      return $$jscomp$this$jscomp$14$$.$b$.start($$jscomp$this$jscomp$14$$.$f$.$f$);
    }).then(function() {
      $mr$MediaSourceUtils$isTabMirrorSource$$($sourceUrn$jscomp$6$$) && !chrome.tabs.onUpdated.hasListener($$jscomp$this$jscomp$14$$.$Y$) && chrome.tabs.onUpdated.addListener($$jscomp$this$jscomp$14$$.$Y$);
      return $$jscomp$this$jscomp$14$$.$ca$($route$jscomp$1$$, $sourceUrn$jscomp$6$$, $mirrorSettings$jscomp$1$$);
    }).then(function() {
      $resolve$jscomp$20$$($route$jscomp$1$$);
    }).catch(function($err$jscomp$12$$) {
      $JSCompiler_StaticMethods_onStartError_$$($$jscomp$this$jscomp$14$$, $err$jscomp$12$$);
      return $$jscomp$this$jscomp$14$$.$H$().then(function() {
        $reject$jscomp$19$$($err$jscomp$12$$);
      });
    });
  });
  return $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($promise$jscomp$8$$);
};
$JSCompiler_prototypeAlias$$.$mr_mirror_Service_prototype$updateMirroring$ = function($route$jscomp$2$$, $sourceUrn$jscomp$7$$, $mirrorSettings$jscomp$2$$, $opt_presentationId$jscomp$2$$, $opt_tabId$jscomp$2$$, $opt_streamStartedCallback$jscomp$1$$) {
  this.$logger$.info("Update mirroring on route " + $route$jscomp$2$$.id);
  return this.$G$ ? $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_StaticMethods_doUpdateMirroring_$$(this, $route$jscomp$2$$, $sourceUrn$jscomp$7$$, $mirrorSettings$jscomp$2$$, $opt_presentationId$jscomp$2$$, $opt_streamStartedCallback$jscomp$1$$)) : $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Not initialized"));
};
var $JSCompiler_StaticMethods_doUpdateMirroring_$$ = function($JSCompiler_StaticMethods_doUpdateMirroring_$self$$, $route$jscomp$3$$, $sourceUrn$jscomp$8$$, $mirrorSettings$jscomp$3$$, $opt_presentationId$jscomp$3$$, $opt_streamStartedCallback$jscomp$2$$) {
  if (!$JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$b$) {
    return Promise.reject(new $mr$mirror$Error$$("No session to update streams on", 7));
  }
  if (!$JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$b$.$supportsUpdateStream$()) {
    return Promise.reject(new $mr$mirror$Error$$("Session does not support updating stream", 7));
  }
  var $streamSwapped$$ = !1;
  return new Promise(function($resolve$jscomp$21$$, $reject$jscomp$20$$) {
    var $captureParams$jscomp$2$$ = $mr$mirror$Service$createCaptureParameters_$$($sourceUrn$jscomp$8$$, $mirrorSettings$jscomp$3$$, $opt_presentationId$jscomp$3$$);
    (new $mr$mirror$MirrorMediaStream$$($captureParams$jscomp$2$$)).start().then(function($onStreamEnded$jscomp$inline_1261_stream$jscomp$9$$) {
      $JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$f$ && ($JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$f$.$onStreamEnded_$ = null, $JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$f$.stop(), $JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$recordStreamEnded$());
      $JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$f$ = $onStreamEnded$jscomp$inline_1261_stream$jscomp$9$$;
      $onStreamEnded$jscomp$inline_1261_stream$jscomp$9$$ = $JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$H$.bind($JSCompiler_StaticMethods_doUpdateMirroring_$self$$);
      $JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$f$.$onStreamEnded_$ = $onStreamEnded$jscomp$inline_1261_stream$jscomp$9$$;
      $streamSwapped$$ = !0;
      return $opt_streamStartedCallback$jscomp$2$$ ? $opt_streamStartedCallback$jscomp$2$$($route$jscomp$3$$).$b$ : $route$jscomp$3$$;
    }).then(function() {
      if (!$JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$b$) {
        throw new $mr$mirror$Error$$("Session ended while updating stream");
      }
      if (!$JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$f$) {
        throw new $mr$mirror$Error$$("Media stream ended before session could be updated.");
      }
      return $JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$b$.$updateStream$($JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$f$.$f$);
    }).then($JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$ca$.bind($JSCompiler_StaticMethods_doUpdateMirroring_$self$$, $route$jscomp$3$$, $sourceUrn$jscomp$8$$, $mirrorSettings$jscomp$3$$)).then(function() {
      return $resolve$jscomp$21$$($route$jscomp$3$$);
    }).catch(function($err$jscomp$13$$) {
      $JSCompiler_StaticMethods_onStartError_$$($JSCompiler_StaticMethods_doUpdateMirroring_$self$$, $err$jscomp$13$$);
      if ($streamSwapped$$) {
        return $JSCompiler_StaticMethods_doUpdateMirroring_$self$$.$H$().then(function() {
          $reject$jscomp$20$$($err$jscomp$13$$);
        });
      }
      $reject$jscomp$20$$($err$jscomp$13$$);
    });
  });
};
$mr$mirror$Service$$.prototype.$ca$ = function($route$jscomp$4$$, $sourceUrn$jscomp$9$$, $mirrorSettings$jscomp$4$$) {
  var $$jscomp$this$jscomp$16$$ = this;
  return new Promise(function($resolve$jscomp$22$$, $mediaStream$jscomp$inline_1265_reject$jscomp$21$$) {
    if ($$jscomp$this$jscomp$16$$.$b$) {
      $mr$MediaSourceUtils$isTabMirrorSource$$($sourceUrn$jscomp$9$$) ? ($JSCompiler_StaticMethods_setTabId$$($$jscomp$this$jscomp$16$$.$b$, $route$jscomp$4$$.$mirrorInitData$.tabId), $$jscomp$this$jscomp$16$$.$recordTabMirrorStartSuccess$()) : $mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$9$$) ? ($JSCompiler_StaticMethods_setTabId$$($$jscomp$this$jscomp$16$$.$b$, $route$jscomp$4$$.$mirrorInitData$.tabId), $$jscomp$this$jscomp$16$$.$recordOffscreenTabMirrorStartSuccess$()) : $$jscomp$this$jscomp$16$$.$recordDesktopMirrorStartSuccess$();
      $mediaStream$jscomp$inline_1265_reject$jscomp$21$$ = $$jscomp$this$jscomp$16$$.$f$;
      var $sinkId$jscomp$inline_1266$$ = $route$jscomp$4$$.sinkId;
      $mirrorSettings$jscomp$4$$.shouldCaptureAudio && $mediaStream$jscomp$inline_1265_reject$jscomp$21$$.$f$ && !$mediaStream$jscomp$inline_1265_reject$jscomp$21$$.$f$.getAudioTracks().length && $$jscomp$this$jscomp$16$$.$h$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$sendIssue$($JSCompiler_StaticMethods_mr_Issue_prototype$setSinkId$$(new $mr$Issue$$($mr$mirror$Messages$MSG_MR_MIRROR_NO_AUDIO_CAPTURED$$, "notification"), $sinkId$jscomp$inline_1266$$));
      $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$$($$jscomp$this$jscomp$16$$.$b$);
      $resolve$jscomp$22$$();
    } else {
      $mediaStream$jscomp$inline_1265_reject$jscomp$21$$(new $mr$mirror$Error$$("Session gone before executing post-startup steps", 7));
    }
  });
};
var $JSCompiler_StaticMethods_onStartError_$$ = function($JSCompiler_StaticMethods_onStartError_$self$$, $error$jscomp$17$$) {
  $error$jscomp$17$$.reason = null != $error$jscomp$17$$.reason ? $error$jscomp$17$$.reason : 9;
  $JSCompiler_StaticMethods_onStartError_$self$$.$logger$.error("Failed to start mirroring: " + $error$jscomp$17$$.message + (",  reason = " + $error$jscomp$17$$.reason + ": " + $error$jscomp$17$$.stack));
  $JSCompiler_StaticMethods_onStartError_$self$$.$recordMirrorStartFailure$($error$jscomp$17$$.reason);
};
$mr$mirror$Service$$.prototype.$s$ = function() {
  var $$jscomp$this$jscomp$17$$ = this;
  return this.$G$ ? this.$H$().then(function($hadSession$$) {
    $hadSession$$ && $$jscomp$this$jscomp$17$$.$recordMirrorSessionEnded$();
    return $hadSession$$;
  }) : Promise.reject("Not initialized");
};
$mr$mirror$Service$$.prototype.$H$ = function() {
  var $$jscomp$this$jscomp$18$$ = this;
  chrome.tabs.onUpdated.removeListener(this.$Y$);
  var $streamToCleanUp$$ = this.$f$;
  this.$f$ = null;
  $streamToCleanUp$$ && ($streamToCleanUp$$.$onStreamEnded_$ = null);
  var $sessionToCleanUp$$ = this.$b$;
  this.$b$ = null;
  var $cleanupPromise$$;
  $sessionToCleanUp$$ ? $cleanupPromise$$ = this.$beforeCleanUpSession$($sessionToCleanUp$$).catch(function($err$jscomp$14$$) {
    return $$jscomp$this$jscomp$18$$.$logger$.error("Error in before-cleanup steps", $err$jscomp$14$$);
  }).then(function() {
    return $sessionToCleanUp$$.stop();
  }).catch(function($err$jscomp$15$$) {
    return $$jscomp$this$jscomp$18$$.$logger$.error("Error stopping session", $err$jscomp$15$$);
  }).then(function() {
    $$jscomp$this$jscomp$18$$.$h$.$onMirrorSessionEnded$($sessionToCleanUp$$.$f$.id);
  }).catch(function($err$jscomp$16$$) {
    return $$jscomp$this$jscomp$18$$.$logger$.error("Error in ended callbacks", $err$jscomp$16$$);
  }).then(function() {
    return !0;
  }) : $cleanupPromise$$ = Promise.resolve(!1);
  $streamToCleanUp$$ && ($cleanupPromise$$ = $cleanupPromise$$.then(function($hadSession$jscomp$1$$) {
    $streamToCleanUp$$.stop();
    $$jscomp$this$jscomp$18$$.$recordStreamEnded$();
    return $hadSession$jscomp$1$$;
  }));
  return $cleanupPromise$$;
};
$mr$mirror$Service$$.prototype.$beforeCleanUpSession$ = function() {
  return Promise.resolve();
};
$mr$mirror$Service$$.prototype.$da$ = function($tabId$jscomp$12$$, $changeInfo$$, $tab$$) {
  $mr$EventAnalytics$recordEvent$$(14);
  this.$b$ && $JSCompiler_StaticMethods_onTabUpdated$$(this.$b$, $tabId$jscomp$12$$, $changeInfo$$, $tab$$);
};
var $mr$mirror$Service$createCaptureParameters_$$ = function($sourceUrn$jscomp$10$$, $mirrorSettings$jscomp$5$$, $opt_presentationId$jscomp$4$$) {
  if ($mr$MediaSourceUtils$isTabMirrorSource$$($sourceUrn$jscomp$10$$)) {
    return new $mr$mirror$CaptureParameters$$("tab", $mirrorSettings$jscomp$5$$);
  }
  if ($mr$MediaSourceUtils$isDesktopMirrorSource$$($sourceUrn$jscomp$10$$)) {
    return new $mr$mirror$CaptureParameters$$("desktop", $mirrorSettings$jscomp$5$$);
  }
  if ($mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$10$$)) {
    if (!$opt_presentationId$jscomp$4$$) {
      throw new $mr$mirror$Error$$("Missing offscreen tab presentation id");
    }
    return new $mr$mirror$CaptureParameters$$("offscreen_tab", $mirrorSettings$jscomp$5$$, $sourceUrn$jscomp$10$$, $opt_presentationId$jscomp$4$$);
  }
  throw new $mr$mirror$Error$$("Source URN does not suggest a known capture type.");
};
$JSCompiler_prototypeAlias$$ = $mr$mirror$Service$$.prototype;
$JSCompiler_prototypeAlias$$.$createMirrorSession$ = function() {
};
$JSCompiler_prototypeAlias$$.$recordTabMirrorStartSuccess$ = function() {
};
$JSCompiler_prototypeAlias$$.$recordDesktopMirrorStartSuccess$ = function() {
};
$JSCompiler_prototypeAlias$$.$recordOffscreenTabMirrorStartSuccess$ = function() {
};
$JSCompiler_prototypeAlias$$.$recordMirrorSessionEnded$ = function() {
};
$JSCompiler_prototypeAlias$$.$recordMirrorStartFailure$ = function() {
};
$JSCompiler_prototypeAlias$$.$recordStreamEnded$ = function() {
};
$JSCompiler_prototypeAlias$$.$mr_mirror_Service_prototype$requestLogUpload$ = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
$JSCompiler_prototypeAlias$$.createMediaRouteController = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
var $module$contents$mr$mirror$Activity_Activity$$ = function($type$jscomp$168$$, $incognito$$, $origin$$) {
  this.$f$ = $type$jscomp$168$$;
  this.$h$ = $incognito$$;
  this.$b$ = void 0 === $origin$$ ? null : $origin$$;
  this.$g$ = null;
}, $JSCompiler_StaticMethods_getRouteDescription$$ = function($JSCompiler_StaticMethods_getRouteDescription$self$$) {
  switch($JSCompiler_StaticMethods_getRouteDescription$self$$.$f$) {
    case "mirror_tab":
      return $JSCompiler_StaticMethods_getRouteDescription$self$$.$b$ ? "Casting tab (" + $JSCompiler_StaticMethods_getRouteDescription$self$$.$b$ + ")" : "Casting tab";
    case "mirror_desktop":
      return "Casting desktop";
    case "mirror_file":
      return "Casting local content";
    case "media_remoting":
      return $JSCompiler_StaticMethods_getRouteDescription$self$$.$b$ ? "Casting media (" + $JSCompiler_StaticMethods_getRouteDescription$self$$.$b$ + ")" : "Casting media";
    case "presentation":
      return "Casting " + ($JSCompiler_StaticMethods_getRouteDescription$self$$.$b$ || "site");
    default:
      return $mr$Assertions$assert$$(!1, "Unexpected type " + $JSCompiler_StaticMethods_getRouteDescription$self$$.$f$), "";
  }
}, $JSCompiler_StaticMethods_getCastRemoteTitle$$ = function($JSCompiler_StaticMethods_getCastRemoteTitle$self$$) {
  if ($JSCompiler_StaticMethods_getCastRemoteTitle$self$$.$h$) {
    return "Casting active";
  }
  switch($JSCompiler_StaticMethods_getCastRemoteTitle$self$$.$f$) {
    case "mirror_tab":
      return "Casting tab";
    case "mirror_desktop":
      return "Casting desktop";
    case "mirror_file":
      return "Casting local content";
    case "media_remoting":
      return "Casting media";
    case "presentation":
      return "Casting site";
    default:
      return $mr$Assertions$assert$$(!1, "Unexpected type " + $JSCompiler_StaticMethods_getCastRemoteTitle$self$$.$f$), "";
  }
};
var $mr$TabUtils$getTab$$ = function($tabId$jscomp$13$$) {
  return (new Promise(function($resolve$jscomp$23$$) {
    chrome.tabs.get($tabId$jscomp$13$$, $resolve$jscomp$23$$);
  })).then(function($tab$jscomp$1$$) {
    if (!$tab$jscomp$1$$) {
      throw Error("No such tab " + $tabId$jscomp$13$$);
    }
    return $tab$jscomp$1$$;
  });
};
var $mr$mirror$Session$$ = function($route$jscomp$7$$, $onActivityUpdate_origin$jscomp$inline_1273$$) {
  this.$f$ = $route$jscomp$7$$;
  this.$L$ = void 0 === $onActivityUpdate_origin$jscomp$inline_1273$$ ? null : $onActivityUpdate_origin$jscomp$inline_1273$$;
  $onActivityUpdate_origin$jscomp$inline_1273$$ = null;
  var $source$jscomp$inline_1274$$ = $mr$Assertions$assert$$($route$jscomp$7$$.mediaSource);
  if ($mr$MediaSourceUtils$isPresentationSource$$($source$jscomp$inline_1274$$)) {
    var $type$jscomp$inline_1272$$ = "presentation";
    $onActivityUpdate_origin$jscomp$inline_1273$$ = (new URL($source$jscomp$inline_1274$$)).origin;
  } else {
    $mr$MediaSourceUtils$isTabMirrorSource$$($source$jscomp$inline_1274$$) ? $type$jscomp$inline_1272$$ = "mirror_tab" : $mr$MediaSourceUtils$isDesktopMirrorSource$$($source$jscomp$inline_1274$$) && ($type$jscomp$inline_1272$$ = "mirror_desktop");
  }
  $mr$Assertions$assert$$($type$jscomp$inline_1272$$, "Unexpected mediaSource " + $source$jscomp$inline_1274$$);
  this.$activity$ = new $module$contents$mr$mirror$Activity_Activity$$($type$jscomp$inline_1272$$, $route$jscomp$7$$.offTheRecord, $onActivityUpdate_origin$jscomp$inline_1273$$);
  this.$g$ = this.tabId = null;
  this.$K$ = !1;
}, $JSCompiler_StaticMethods_setTabId$$ = function($JSCompiler_StaticMethods_setTabId$self$$, $tabId$jscomp$14$$) {
  $JSCompiler_StaticMethods_setTabId$self$$.tabId != $tabId$jscomp$14$$ ? ($JSCompiler_StaticMethods_setTabId$self$$.tabId = $tabId$jscomp$14$$, $mr$TabUtils$getTab$$($tabId$jscomp$14$$).then(function($tab$jscomp$2$$) {
    $JSCompiler_StaticMethods_setTabId$self$$.$g$ = $tab$jscomp$2$$;
    $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$$($JSCompiler_StaticMethods_setTabId$self$$);
  })) : Promise.resolve();
}, $JSCompiler_StaticMethods_onTabUpdated$$ = function($JSCompiler_StaticMethods_onTabUpdated$self$$, $tabId$jscomp$15$$, $changeInfo$jscomp$1$$, $tab$jscomp$3$$) {
  $tabId$jscomp$15$$ == $JSCompiler_StaticMethods_onTabUpdated$self$$.tabId && ("complete" == $changeInfo$jscomp$1$$.status || $changeInfo$jscomp$1$$.favIconUrl && "complete" == $tab$jscomp$3$$.status) && ($JSCompiler_StaticMethods_onTabUpdated$self$$.$g$ = $tab$jscomp$3$$, $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$$($JSCompiler_StaticMethods_onTabUpdated$self$$));
}, $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$$ = function($JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$) {
  if ($JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$g$) {
    $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$activity$.$g$ = $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$g$.title;
    $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$activity$.$h$ = $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$g$.incognito;
    var $url$jscomp$96$$ = new URL($JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$g$.url);
    "file:" == $url$jscomp$96$$.protocol ? ($JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$activity$.$f$ = "mirror_file", $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$activity$.$b$ = null) : ($JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$activity$.$f$ = $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$K$ ? "media_remoting" : "mirror_tab", $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$activity$.$b$ = 
    "https:" == $url$jscomp$96$$.protocol ? $url$jscomp$96$$.origin.substr(8) : $url$jscomp$96$$.origin);
  }
  $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$f$.description = $JSCompiler_StaticMethods_getRouteDescription$$($JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$activity$);
  $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$L$ && $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$L$($JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$f$, $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$activity$);
  $JSCompiler_StaticMethods_mr_mirror_Session_prototype$onActivityUpdated$self$$.$sendActivityToSink$();
};
$JSCompiler_prototypeAlias$$ = $mr$mirror$Session$$.prototype;
$JSCompiler_prototypeAlias$$.start = function() {
};
$JSCompiler_prototypeAlias$$.$supportsUpdateStream$ = function() {
  return !1;
};
$JSCompiler_prototypeAlias$$.$updateStream$ = function() {
};
$JSCompiler_prototypeAlias$$.stop = function() {
  return Promise.resolve();
};
$JSCompiler_prototypeAlias$$.$sendActivityToSink$ = function() {
};
var $mr$mirror$Settings$$ = function() {
  var $$jscomp$this$jscomp$20$$ = this;
  this.$f$ = 1920;
  this.$b$ = 1080;
  this.maxWidth = this.$f$;
  this.maxHeight = this.$b$;
  this.minHeight = this.minWidth = 180;
  this.senderSideLetterboxing = !1;
  this.minFrameRate = 0;
  this.maxFrameRate = 30;
  this.minVideoBitrate = 300;
  this.maxVideoBitrate = 5000;
  this.audioBitrate = 0;
  this.animatedLatencyMillis = this.minLatencyMillis = this.maxLatencyMillis = 400;
  this.dscpEnabled = ["Mac", "Linux", "ChromeOS"].includes($mr$PlatformUtils$getCurrentOS$$()) || $mr$PlatformUtils$isWindows8OrNewer$$();
  this.enableLogging = !0;
  this.useTdls = !1;
  this.shouldCaptureAudio = this.shouldCaptureVideo = !0;
  var $overrides$jscomp$1$$ = window.localStorage ? window.localStorage.getItem($mr$mirror$Settings$OverridesKey$$) : null;
  if ($overrides$jscomp$1$$) {
    try {
      var $parsedOverrides$$ = JSON.parse(String($overrides$jscomp$1$$));
      if ($parsedOverrides$$ instanceof Object) {
        $JSCompiler_StaticMethods_update_$$(this, $parsedOverrides$$), $mr$Logger$getInstance$$("mr.mirror.Settings").$warning$(function() {
          return "Initial mr.mirror.Settings overridden to: " + $JSCompiler_StaticMethods_toJsonString$$($$jscomp$this$jscomp$20$$);
        });
      } else {
        throw Error("localStorage[" + $mr$mirror$Settings$OverridesKey$$ + "] does not parse as an Object: " + $overrides$jscomp$1$$);
      }
    } catch ($exception$jscomp$12$$) {
      throw $mr$Logger$getInstance$$("mr.mirror.Settings").error($mr$mirror$Settings$OverridesKey$$ + ' must be of the form \'{"maxWidth":640, "maxHeight":360}\'.', $exception$jscomp$12$$), Error("Overrides not parseable.  See ERROR log for details.");
    }
  }
};
$mr$mirror$Settings$$.prototype.clone = function() {
  var $settings$jscomp$2$$ = new $mr$mirror$Settings$$;
  $JSCompiler_StaticMethods_update_$$($settings$jscomp$2$$, this);
  return $settings$jscomp$2$$;
};
var $JSCompiler_StaticMethods_toJsonString$$ = function($JSCompiler_StaticMethods_toJsonString$self$$) {
  return JSON.stringify($JSCompiler_StaticMethods_toJsonString$self$$, function($key$jscomp$102$$, $value$jscomp$184$$) {
    if (0 == $key$jscomp$102$$.length || !$key$jscomp$102$$.endsWith("_")) {
      return $value$jscomp$184$$;
    }
  });
}, $JSCompiler_StaticMethods_update_$$ = function($JSCompiler_StaticMethods_update_$self$$, $settings$jscomp$3$$) {
  for (var $$jscomp$iter$229$$ = $$jscomp$makeIterator$$(Object.keys($settings$jscomp$3$$)), $$jscomp$key$key_key$jscomp$103$$ = $$jscomp$iter$229$$.next(); !$$jscomp$key$key_key$jscomp$103$$.done; $$jscomp$key$key_key$jscomp$103$$ = $$jscomp$iter$229$$.next()) {
    $$jscomp$key$key_key$jscomp$103$$ = $$jscomp$key$key_key$jscomp$103$$.value, $$jscomp$key$key_key$jscomp$103$$.endsWith("_") || typeof $settings$jscomp$3$$[$$jscomp$key$key_key$jscomp$103$$] !== typeof $JSCompiler_StaticMethods_update_$self$$[$$jscomp$key$key_key$jscomp$103$$] || ($JSCompiler_StaticMethods_update_$self$$[$$jscomp$key$key_key$jscomp$103$$] = $settings$jscomp$3$$[$$jscomp$key$key_key$jscomp$103$$]);
  }
}, $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$$ = function($JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$) {
  var $clampedWidth_screenWidth$$ = Math.round(screen.width * window.devicePixelRatio), $$jscomp$destructuring$var3_clampedHeight_screenHeight$$ = Math.round(screen.height * window.devicePixelRatio);
  $$jscomp$destructuring$var3_clampedHeight_screenHeight$$ > $clampedWidth_screenWidth$$ && ($$jscomp$destructuring$var3_clampedHeight_screenHeight$$ = $$jscomp$makeIterator$$([$$jscomp$destructuring$var3_clampedHeight_screenHeight$$, $clampedWidth_screenWidth$$]), $clampedWidth_screenWidth$$ = $$jscomp$destructuring$var3_clampedHeight_screenHeight$$.next().value, $$jscomp$destructuring$var3_clampedHeight_screenHeight$$ = $$jscomp$destructuring$var3_clampedHeight_screenHeight$$.next().value);
  $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.maxHeight * $clampedWidth_screenWidth$$ < $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.maxWidth * $$jscomp$destructuring$var3_clampedHeight_screenHeight$$ ? ($clampedWidth_screenWidth$$ = Math.min($JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.maxWidth, $clampedWidth_screenWidth$$), $clampedWidth_screenWidth$$ -= $clampedWidth_screenWidth$$ % 160, $$jscomp$destructuring$var3_clampedHeight_screenHeight$$ = 
  90 * $clampedWidth_screenWidth$$ / 160) : ($$jscomp$destructuring$var3_clampedHeight_screenHeight$$ = Math.min($JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.maxHeight, $$jscomp$destructuring$var3_clampedHeight_screenHeight$$), $$jscomp$destructuring$var3_clampedHeight_screenHeight$$ -= $$jscomp$destructuring$var3_clampedHeight_screenHeight$$ % 90, $clampedWidth_screenWidth$$ = 160 * $$jscomp$destructuring$var3_clampedHeight_screenHeight$$ / 90);
  if ($clampedWidth_screenWidth$$ < Math.max(160, $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.minWidth) || $$jscomp$destructuring$var3_clampedHeight_screenHeight$$ < Math.max(90, $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.minHeight)) {
    $clampedWidth_screenWidth$$ = Math.max(160, $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.minWidth), $$jscomp$destructuring$var3_clampedHeight_screenHeight$$ = Math.max(90, $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.minHeight);
  }
  $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.maxWidth = $clampedWidth_screenWidth$$;
  $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.maxHeight = $$jscomp$destructuring$var3_clampedHeight_screenHeight$$;
}, $mr$mirror$Settings$OverridesKey$$ = "mr.mirror.Settings.Overrides";
var $mr$webrtc$Message$$ = function($type$jscomp$171$$, $opt_data$jscomp$13$$) {
  this.type = $type$jscomp$171$$;
  this.data = $opt_data$jscomp$13$$;
}, $mr$webrtc$Message$fromString$$ = function($messageJson_messageStr$$) {
  $messageJson_messageStr$$ = JSON.parse($messageJson_messageStr$$);
  if (!$messageJson_messageStr$$.type) {
    throw Error("Invalid message");
  }
  return new $mr$webrtc$Message$$($messageJson_messageStr$$.type, $messageJson_messageStr$$.data);
}, $mr$webrtc$OfferMessageData$$ = function($description$jscomp$8$$, $opt_settings$$, $opt_mediaConstraints$$, $opt_presentationUrl$$, $opt_presentationId$jscomp$5$$) {
  this.description = $description$jscomp$8$$;
  this.settings = $opt_settings$$ || null;
  this.mediaConstraints = $opt_mediaConstraints$$ || null;
  this.presentationUrl = $opt_presentationUrl$$ || null;
  this.presentationId = $opt_presentationId$jscomp$5$$ || null;
};
var $mr$webrtc$PeerConnection$$ = function($routeId$jscomp$3$$, $turnCreds$$) {
  $mr$Assertions$assert$$(void 0 !== webkitRTCPeerConnection, "webkitRTCPeerConnection is not available.  Do you need to set flags?");
  this.$logger_$ = $mr$Logger$getInstance$$("cv2.PeerConnection");
  this.$L$ = $mr$webrtc$PeerConnection$MEDIA_CONSTRAINTS$$;
  this.$peerConnection_$ = $JSCompiler_StaticMethods_createPeerConnection_$$(this, $turnCreds$$);
  this.$h$ = this.$peerConnection_$.createDataChannel($routeId$jscomp$3$$, {reliable:!1});
  this.$J$ = new $mr$PromiseResolver$$;
  this.$o$ = !1;
  this.$g$ = 0;
  this.$f$ = null;
  this.$s$ = this.$l$ = 0;
  this.$b$ = !1;
  this.$H$ = function() {
  };
  this.$m$ = function() {
  };
  this.$G$ = function() {
  };
  this.$C$ = function() {
  };
}, $JSCompiler_StaticMethods_setOnConnectionSuccess$$ = function($JSCompiler_StaticMethods_setOnConnectionSuccess$self$$, $successFn$$) {
  $JSCompiler_StaticMethods_setOnConnectionSuccess$self$$.$m$ = $successFn$$;
}, $JSCompiler_StaticMethods_setOnConnectionFailure$$ = function($JSCompiler_StaticMethods_setOnConnectionFailure$self$$, $failureFn$$) {
  $JSCompiler_StaticMethods_setOnConnectionFailure$self$$.$G$ = $failureFn$$;
}, $JSCompiler_StaticMethods_setOnConnectionClosed$$ = function($JSCompiler_StaticMethods_setOnConnectionClosed$self$$, $closedFn$$) {
  $JSCompiler_StaticMethods_setOnConnectionClosed$self$$.$C$ = $closedFn$$;
}, $JSCompiler_StaticMethods_setOnOfferDescriptionReady$$ = function($JSCompiler_StaticMethods_setOnOfferDescriptionReady$self$$, $onOfferFn$$) {
  $JSCompiler_StaticMethods_setOnOfferDescriptionReady$self$$.$H$ = $onOfferFn$$;
}, $JSCompiler_StaticMethods_setOnDataChannelMessage$$ = function($JSCompiler_StaticMethods_setOnDataChannelMessage$self$$, $onMessageFn$$) {
  $JSCompiler_StaticMethods_setOnDataChannelMessage$self$$.$h$.onmessage = function($event$jscomp$14$$) {
    $onMessageFn$$($event$jscomp$14$$.data);
  };
}, $JSCompiler_StaticMethods_getPeerConnectionConfig_$$ = function($turnCreds$jscomp$1$$) {
  var $config$jscomp$10$$ = {};
  $config$jscomp$10$$.iceServers = [{url:"stun:stun.l.google.com:19302"}].concat($turnCreds$jscomp$1$$);
  return $config$jscomp$10$$;
}, $JSCompiler_StaticMethods_createPeerConnection_$$ = function($JSCompiler_StaticMethods_createPeerConnection_$self$$, $peerConnection_turnCreds$jscomp$2$$) {
  var $config$jscomp$11$$ = $JSCompiler_StaticMethods_getPeerConnectionConfig_$$($peerConnection_turnCreds$jscomp$2$$);
  $peerConnection_turnCreds$jscomp$2$$ = new webkitRTCPeerConnection($config$jscomp$11$$);
  $peerConnection_turnCreds$jscomp$2$$.onicecandidate = $JSCompiler_StaticMethods_createPeerConnection_$self$$.$M$.bind($JSCompiler_StaticMethods_createPeerConnection_$self$$);
  $peerConnection_turnCreds$jscomp$2$$.onicegatheringstatechange = $JSCompiler_StaticMethods_createPeerConnection_$self$$.$R$.bind($JSCompiler_StaticMethods_createPeerConnection_$self$$);
  $peerConnection_turnCreds$jscomp$2$$.oniceconnectionstatechange = $JSCompiler_StaticMethods_createPeerConnection_$self$$.$O$.bind($JSCompiler_StaticMethods_createPeerConnection_$self$$);
  $JSCompiler_StaticMethods_createPeerConnection_$self$$.$logger_$.info(function() {
    return "Created webkitRTCPeerConnnection with config: " + JSON.stringify($config$jscomp$11$$);
  });
  return $peerConnection_turnCreds$jscomp$2$$;
};
$mr$webrtc$PeerConnection$$.prototype.start = function() {
  this.$b$ || (this.$b$ = !0, $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$$(this));
};
$mr$webrtc$PeerConnection$$.prototype.stop = function() {
  this.$logger_$.info("Stopping peer connection...");
  this.$b$ && (this.$b$ = !1, "closed" != this.$peerConnection_$.signalingState && this.$peerConnection_$.close());
  this.$peerConnection_$ = null;
};
var $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$$ = function($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$) {
  $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$logger_$.info("Sending offer to peer.");
  $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$l$ = Date.now();
  $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$peerConnection_$.createOffer($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$K$.bind($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$), function($error$jscomp$18$$) {
    $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$logger_$.$warning$("Error creating offer.", $error$jscomp$18$$);
  }, $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$L$);
  $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$J$.$b$.then(function($sessionDescription$$) {
    $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$H$($sessionDescription$$);
  });
};
$mr$webrtc$PeerConnection$$.prototype.$K$ = function($sessionDescription$jscomp$1$$) {
  var $$jscomp$this$jscomp$22$$ = this;
  this.$logger_$.info(function() {
    return "Setting local description: " + JSON.stringify($sessionDescription$jscomp$1$$);
  });
  this.$peerConnection_$.setLocalDescription($sessionDescription$jscomp$1$$, function() {
    $$jscomp$this$jscomp$22$$.$logger_$.info("Local description set successfully");
  }, function($error$jscomp$19$$) {
    $$jscomp$this$jscomp$22$$.$logger_$.$warning$("Error setting local description.", $error$jscomp$19$$);
  });
};
var $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$$ = function($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$self$$, $sessionDescription$jscomp$2$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$self$$.$logger_$, function() {
    return "<===: " + JSON.stringify($sessionDescription$jscomp$2$$);
  });
  var $description$jscomp$10$$ = new RTCSessionDescription($sessionDescription$jscomp$2$$);
  $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$self$$.$logger_$.info(function() {
    return "Setting remote description: " + JSON.stringify($description$jscomp$10$$);
  });
  $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$self$$.$peerConnection_$.setRemoteDescription($description$jscomp$10$$, function() {
    $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$self$$.$logger_$.info("Remote description set successfully.");
  }, function($error$jscomp$20$$) {
    $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$self$$.$logger_$.$warning$("Error setting remote description.", $error$jscomp$20$$);
  });
};
$mr$webrtc$PeerConnection$$.prototype.$M$ = function($event$jscomp$15$$) {
  var $$jscomp$this$jscomp$24$$ = this;
  $event$jscomp$15$$.candidate ? (this.$g$++, this.$s$ = Date.now(), 1 == this.$g$ ? ($mr$Assertions$assert$$(null == this.$f$), this.$f$ = setTimeout(function() {
    $$jscomp$this$jscomp$24$$.$logger_$.info("ICE candidate gathering timed out.");
    $$jscomp$this$jscomp$24$$.$f$ = null;
    $JSCompiler_StaticMethods_resolveSessionDescription_$$($$jscomp$this$jscomp$24$$);
  }, 5E3)) : this.$o$ && this.$logger_$.$warning$("Received ICE candidate after resolving session description.")) : (this.$logger_$.info("End of ICE candidates."), $mr$Timing$recordDuration$$("MediaRouter.WebRtc.IceCandidateGathering.Duration.Reported", Date.now() - this.$l$), $JSCompiler_StaticMethods_resolveSessionDescription_$$(this), 0 < this.$g$ && $mr$Timing$recordDuration$$("MediaRouter.WebRtc.IceCandidateGathering.Duration.Real", this.$s$ - this.$l$));
};
$mr$webrtc$PeerConnection$$.prototype.$R$ = function() {
  "completed" == this.$peerConnection_$.iceGatheringState && $JSCompiler_StaticMethods_resolveSessionDescription_$$(this);
};
var $JSCompiler_StaticMethods_resolveSessionDescription_$$ = function($JSCompiler_StaticMethods_resolveSessionDescription_$self$$) {
  clearTimeout($JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$f$);
  $JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$f$ = null;
  if (!$JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$o$) {
    $JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$logger_$.info("Resolving sesion description after gathering " + $JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$g$ + " ICE candidates.");
    var $description$jscomp$inline_1302$$ = $JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$peerConnection_$.localDescription;
    $JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$J$.resolve({type:$description$jscomp$inline_1302$$.type, sdp:$description$jscomp$inline_1302$$.sdp});
    $JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$o$ = !0;
  }
};
$mr$webrtc$PeerConnection$$.prototype.$O$ = function($event$jscomp$16$$) {
  var $$jscomp$this$jscomp$25$$ = this;
  if (this.$peerConnection_$) {
    var $state$jscomp$2$$ = this.$peerConnection_$.iceConnectionState;
    this.$logger_$.info("New ICE connection state: " + $state$jscomp$2$$ + ".");
    "connected" == $state$jscomp$2$$ ? this.$m$("iceconnected") : "completed" == $state$jscomp$2$$ ? this.$m$("icecompleted") : "failed" == $state$jscomp$2$$ ? (this.$logger_$.$warning$(function() {
      return "Ice connection failed: " + JSON.stringify($event$jscomp$16$$);
    }), this.$G$("icefailed")) : "closed" == $state$jscomp$2$$ ? this.$C$("iceclosed") : "disconnected" == $state$jscomp$2$$ && (this.$logger_$.$warning$("Ice connection state is bad."), this.$b$ && (this.$logger_$.info("Restarting ICE."), this.$peerConnection_$.createOffer(this.$K$.bind(this), function($error$jscomp$21$$) {
      $$jscomp$this$jscomp$25$$.$logger_$.$warning$("Error creating new offer.", $error$jscomp$21$$);
    }, $mr$webrtc$PeerConnection$ICE_RESTART_MEDIA_CONSTRAINTS$$)));
  }
};
var $mr$webrtc$PeerConnection$MEDIA_CONSTRAINTS$$ = {mandatory:{OfferToReceiveAudio:!0, OfferToReceiveVideo:!0}}, $mr$webrtc$PeerConnection$ICE_RESTART_MEDIA_CONSTRAINTS$$ = {mandatory:{IceRestart:!0, OfferToReceiveAudio:!0, OfferToReceiveVideo:!0}};
var $goog$crypt$byteArrayToHex$$ = function() {
  var $array$jscomp$15$$ = window.crypto.getRandomValues(new Uint8Array(16));
  return $goog$array$map$$($array$jscomp$15$$, function($hexByte_numByte$$) {
    $hexByte_numByte$$ = $hexByte_numByte$$.toString(16);
    return 1 < $hexByte_numByte$$.length ? $hexByte_numByte$$ : "0" + $hexByte_numByte$$;
  }).join("");
}, $goog$crypt$stringToUtf8ByteArray$$ = function($str$jscomp$94$$) {
  for (var $out$$ = [], $p$jscomp$5$$ = 0, $i$jscomp$105$$ = 0; $i$jscomp$105$$ < $str$jscomp$94$$.length; $i$jscomp$105$$++) {
    var $c$jscomp$8$$ = $str$jscomp$94$$.charCodeAt($i$jscomp$105$$);
    128 > $c$jscomp$8$$ ? $out$$[$p$jscomp$5$$++] = $c$jscomp$8$$ : (2048 > $c$jscomp$8$$ ? $out$$[$p$jscomp$5$$++] = $c$jscomp$8$$ >> 6 | 192 : (55296 == ($c$jscomp$8$$ & 64512) && $i$jscomp$105$$ + 1 < $str$jscomp$94$$.length && 56320 == ($str$jscomp$94$$.charCodeAt($i$jscomp$105$$ + 1) & 64512) ? ($c$jscomp$8$$ = 65536 + (($c$jscomp$8$$ & 1023) << 10) + ($str$jscomp$94$$.charCodeAt(++$i$jscomp$105$$) & 1023), $out$$[$p$jscomp$5$$++] = $c$jscomp$8$$ >> 18 | 240, $out$$[$p$jscomp$5$$++] = $c$jscomp$8$$ >> 
    12 & 63 | 128) : $out$$[$p$jscomp$5$$++] = $c$jscomp$8$$ >> 12 | 224, $out$$[$p$jscomp$5$$++] = $c$jscomp$8$$ >> 6 & 63 | 128), $out$$[$p$jscomp$5$$++] = $c$jscomp$8$$ & 63 | 128);
  }
  return $out$$;
}, $goog$crypt$utf8ByteArrayToString$$ = function($bytes$jscomp$1$$) {
  for (var $out$jscomp$1$$ = [], $pos$jscomp$2$$ = 0, $c$jscomp$9$$ = 0; $pos$jscomp$2$$ < $bytes$jscomp$1$$.length;) {
    var $c1_u$$ = $bytes$jscomp$1$$[$pos$jscomp$2$$++];
    if (128 > $c1_u$$) {
      $out$jscomp$1$$[$c$jscomp$9$$++] = String.fromCharCode($c1_u$$);
    } else {
      if (191 < $c1_u$$ && 224 > $c1_u$$) {
        var $c2$$ = $bytes$jscomp$1$$[$pos$jscomp$2$$++];
        $out$jscomp$1$$[$c$jscomp$9$$++] = String.fromCharCode(($c1_u$$ & 31) << 6 | $c2$$ & 63);
      } else {
        if (239 < $c1_u$$ && 365 > $c1_u$$) {
          $c2$$ = $bytes$jscomp$1$$[$pos$jscomp$2$$++];
          var $c3$$ = $bytes$jscomp$1$$[$pos$jscomp$2$$++], $c4$$ = $bytes$jscomp$1$$[$pos$jscomp$2$$++];
          $c1_u$$ = (($c1_u$$ & 7) << 18 | ($c2$$ & 63) << 12 | ($c3$$ & 63) << 6 | $c4$$ & 63) - 65536;
          $out$jscomp$1$$[$c$jscomp$9$$++] = String.fromCharCode(55296 + ($c1_u$$ >> 10));
          $out$jscomp$1$$[$c$jscomp$9$$++] = String.fromCharCode(56320 + ($c1_u$$ & 1023));
        } else {
          $c2$$ = $bytes$jscomp$1$$[$pos$jscomp$2$$++], $c3$$ = $bytes$jscomp$1$$[$pos$jscomp$2$$++], $out$jscomp$1$$[$c$jscomp$9$$++] = String.fromCharCode(($c1_u$$ & 15) << 12 | ($c2$$ & 63) << 6 | $c3$$ & 63);
        }
      }
    }
  }
  return $out$jscomp$1$$.join("");
};
var $goog$crypt$base64$byteToCharMaps_$$ = {}, $goog$crypt$base64$charToByteMap_$$ = null, $goog$crypt$base64$encodeByteArray$$ = function($input$jscomp$10$$) {
  var $alphabet_byteToCharMap$$;
  $goog$asserts$assert$$($goog$isArrayLike$$($input$jscomp$10$$), "encodeByteArray takes an array as a parameter");
  void 0 === $alphabet_byteToCharMap$$ && ($alphabet_byteToCharMap$$ = 0);
  $goog$crypt$base64$init_$$();
  $alphabet_byteToCharMap$$ = $goog$crypt$base64$byteToCharMaps_$$[$alphabet_byteToCharMap$$];
  for (var $output$jscomp$4$$ = [], $i$jscomp$107$$ = 0; $i$jscomp$107$$ < $input$jscomp$10$$.length; $i$jscomp$107$$ += 3) {
    var $byte1_outByte2$$ = $input$jscomp$10$$[$i$jscomp$107$$], $haveByte2$$ = $i$jscomp$107$$ + 1 < $input$jscomp$10$$.length, $byte2_outByte3$$ = $haveByte2$$ ? $input$jscomp$10$$[$i$jscomp$107$$ + 1] : 0, $haveByte3$$ = $i$jscomp$107$$ + 2 < $input$jscomp$10$$.length, $byte3_outByte4$$ = $haveByte3$$ ? $input$jscomp$10$$[$i$jscomp$107$$ + 2] : 0, $outByte1$$ = $byte1_outByte2$$ >> 2;
    $byte1_outByte2$$ = ($byte1_outByte2$$ & 3) << 4 | $byte2_outByte3$$ >> 4;
    $byte2_outByte3$$ = ($byte2_outByte3$$ & 15) << 2 | $byte3_outByte4$$ >> 6;
    $byte3_outByte4$$ &= 63;
    $haveByte3$$ || ($byte3_outByte4$$ = 64, $haveByte2$$ || ($byte2_outByte3$$ = 64));
    $output$jscomp$4$$.push($alphabet_byteToCharMap$$[$outByte1$$], $alphabet_byteToCharMap$$[$byte1_outByte2$$], $alphabet_byteToCharMap$$[$byte2_outByte3$$] || "", $alphabet_byteToCharMap$$[$byte3_outByte4$$] || "");
  }
  return $output$jscomp$4$$.join("");
}, $goog$crypt$base64$decodeStringToUint8Array$$ = function($input$jscomp$14$$) {
  $goog$asserts$assert$$(!$goog$userAgent$IE$$ || $goog$userAgent$isVersionOrHigher$$("10"), "Browser does not support typed arrays");
  var $len$jscomp$1$$ = $input$jscomp$14$$.length, $approxByteLength$$ = 3 * $len$jscomp$1$$ / 4;
  $approxByteLength$$ % 3 ? $approxByteLength$$ = Math.floor($approxByteLength$$) : -1 != "=.".indexOf($input$jscomp$14$$[$len$jscomp$1$$ - 1]) && ($approxByteLength$$ = -1 != "=.".indexOf($input$jscomp$14$$[$len$jscomp$1$$ - 2]) ? $approxByteLength$$ - 2 : $approxByteLength$$ - 1);
  var $output$jscomp$7$$ = new Uint8Array($approxByteLength$$), $outLen$$ = 0;
  $goog$crypt$base64$decodeStringInternal_$$($input$jscomp$14$$, function($b$jscomp$24$$) {
    $output$jscomp$7$$[$outLen$$++] = $b$jscomp$24$$;
  });
  return $output$jscomp$7$$.subarray(0, $outLen$$);
}, $goog$crypt$base64$decodeStringInternal_$$ = function($input$jscomp$15$$, $pushByte$jscomp$3$$) {
  function $getByte$$($default_val$$) {
    for (; $nextCharIndex$$ < $input$jscomp$15$$.length;) {
      var $ch$jscomp$5$$ = $input$jscomp$15$$.charAt($nextCharIndex$$++), $b$jscomp$25$$ = $goog$crypt$base64$charToByteMap_$$[$ch$jscomp$5$$];
      if (null != $b$jscomp$25$$) {
        return $b$jscomp$25$$;
      }
      if (!$goog$string$internal$isEmptyOrWhitespace$$($ch$jscomp$5$$)) {
        throw Error("Unknown base64 encoding at char: " + $ch$jscomp$5$$);
      }
    }
    return $default_val$$;
  }
  $goog$crypt$base64$init_$$();
  for (var $nextCharIndex$$ = 0;;) {
    var $byte1$jscomp$1$$ = $getByte$$(-1), $byte2$jscomp$1$$ = $getByte$$(0), $byte3$jscomp$1$$ = $getByte$$(64), $byte4$$ = $getByte$$(64);
    if (64 === $byte4$$ && -1 === $byte1$jscomp$1$$) {
      break;
    }
    $pushByte$jscomp$3$$($byte1$jscomp$1$$ << 2 | $byte2$jscomp$1$$ >> 4);
    64 != $byte3$jscomp$1$$ && ($pushByte$jscomp$3$$($byte2$jscomp$1$$ << 4 & 240 | $byte3$jscomp$1$$ >> 2), 64 != $byte4$$ && $pushByte$jscomp$3$$($byte3$jscomp$1$$ << 6 & 192 | $byte4$$));
  }
}, $goog$crypt$base64$init_$$ = function() {
  if (!$goog$crypt$base64$charToByteMap_$$) {
    $goog$crypt$base64$charToByteMap_$$ = {};
    for (var $commonChars$$ = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""), $specialChars$$ = ["+/=", "+/", "-_=", "-_.", "-_"], $i$jscomp$108$$ = 0; 5 > $i$jscomp$108$$; $i$jscomp$108$$++) {
      var $chars$jscomp$2$$ = $commonChars$$.concat($specialChars$$[$i$jscomp$108$$].split(""));
      $goog$crypt$base64$byteToCharMaps_$$[$i$jscomp$108$$] = $chars$jscomp$2$$;
      for (var $j$jscomp$9$$ = 0; $j$jscomp$9$$ < $chars$jscomp$2$$.length; $j$jscomp$9$$++) {
        var $char$jscomp$1$$ = $chars$jscomp$2$$[$j$jscomp$9$$], $existingByte$$ = $goog$crypt$base64$charToByteMap_$$[$char$jscomp$1$$];
        void 0 === $existingByte$$ ? $goog$crypt$base64$charToByteMap_$$[$char$jscomp$1$$] = $j$jscomp$9$$ : $goog$asserts$assert$$($existingByte$$ === $j$jscomp$9$$);
      }
    }
  }
};
var $jspb$utils$split64Low$$ = 0, $jspb$utils$split64High$$ = 0, $jspb$utils$splitInt64$$ = function($highBits$jscomp$1_value$jscomp$188$$) {
  var $sign$$ = 0 > $highBits$jscomp$1_value$jscomp$188$$;
  $highBits$jscomp$1_value$jscomp$188$$ = Math.abs($highBits$jscomp$1_value$jscomp$188$$);
  var $lowBits$jscomp$1$$ = $highBits$jscomp$1_value$jscomp$188$$ >>> 0;
  $highBits$jscomp$1_value$jscomp$188$$ = Math.floor(($highBits$jscomp$1_value$jscomp$188$$ - $lowBits$jscomp$1$$) / 4294967296);
  $highBits$jscomp$1_value$jscomp$188$$ >>>= 0;
  $sign$$ && ($highBits$jscomp$1_value$jscomp$188$$ = ~$highBits$jscomp$1_value$jscomp$188$$ >>> 0, $lowBits$jscomp$1$$ = (~$lowBits$jscomp$1$$ >>> 0) + 1, 4294967295 < $lowBits$jscomp$1$$ && ($lowBits$jscomp$1$$ = 0, $highBits$jscomp$1_value$jscomp$188$$++, 4294967295 < $highBits$jscomp$1_value$jscomp$188$$ && ($highBits$jscomp$1_value$jscomp$188$$ = 0)));
  $jspb$utils$split64Low$$ = $lowBits$jscomp$1$$;
  $jspb$utils$split64High$$ = $highBits$jscomp$1_value$jscomp$188$$;
}, $jspb$utils$joinUint64$$ = function($bitsLow$$, $bitsHigh$$) {
  return 4294967296 * $bitsHigh$$ + ($bitsLow$$ >>> 0);
}, $jspb$utils$joinInt64$$ = function($bitsLow$jscomp$1_result$jscomp$26$$, $bitsHigh$jscomp$1$$) {
  var $sign$jscomp$4$$ = $bitsHigh$jscomp$1$$ & 2147483648;
  $sign$jscomp$4$$ && ($bitsLow$jscomp$1_result$jscomp$26$$ = ~$bitsLow$jscomp$1_result$jscomp$26$$ + 1 >>> 0, $bitsHigh$jscomp$1$$ = ~$bitsHigh$jscomp$1$$ >>> 0, 0 == $bitsLow$jscomp$1_result$jscomp$26$$ && ($bitsHigh$jscomp$1$$ = $bitsHigh$jscomp$1$$ + 1 >>> 0));
  $bitsLow$jscomp$1_result$jscomp$26$$ = $jspb$utils$joinUint64$$($bitsLow$jscomp$1_result$jscomp$26$$, $bitsHigh$jscomp$1$$);
  return $sign$jscomp$4$$ ? -$bitsLow$jscomp$1_result$jscomp$26$$ : $bitsLow$jscomp$1_result$jscomp$26$$;
}, $jspb$utils$joinUnsignedDecimalString$$ = function($bitsLow$jscomp$8_digitA$$, $bitsHigh$jscomp$8_digitC_high$$) {
  function $decimalFrom1e7$$($digit1e7_partial$$, $needLeadingZeros$$) {
    $digit1e7_partial$$ = $digit1e7_partial$$ ? String($digit1e7_partial$$) : "";
    return $needLeadingZeros$$ ? "0000000".slice($digit1e7_partial$$.length) + $digit1e7_partial$$ : $digit1e7_partial$$;
  }
  if (2097151 >= $bitsHigh$jscomp$8_digitC_high$$) {
    return "" + (4294967296 * $bitsHigh$jscomp$8_digitC_high$$ + $bitsLow$jscomp$8_digitA$$);
  }
  var $digitB_mid$$ = ($bitsLow$jscomp$8_digitA$$ >>> 24 | $bitsHigh$jscomp$8_digitC_high$$ << 8) >>> 0 & 16777215;
  $bitsHigh$jscomp$8_digitC_high$$ = $bitsHigh$jscomp$8_digitC_high$$ >> 16 & 65535;
  $bitsLow$jscomp$8_digitA$$ = ($bitsLow$jscomp$8_digitA$$ & 16777215) + 6777216 * $digitB_mid$$ + 6710656 * $bitsHigh$jscomp$8_digitC_high$$;
  $digitB_mid$$ += 8147497 * $bitsHigh$jscomp$8_digitC_high$$;
  $bitsHigh$jscomp$8_digitC_high$$ *= 2;
  10000000 <= $bitsLow$jscomp$8_digitA$$ && ($digitB_mid$$ += Math.floor($bitsLow$jscomp$8_digitA$$ / 10000000), $bitsLow$jscomp$8_digitA$$ %= 10000000);
  10000000 <= $digitB_mid$$ && ($bitsHigh$jscomp$8_digitC_high$$ += Math.floor($digitB_mid$$ / 10000000), $digitB_mid$$ %= 10000000);
  return $decimalFrom1e7$$($bitsHigh$jscomp$8_digitC_high$$, 0) + $decimalFrom1e7$$($digitB_mid$$, $bitsHigh$jscomp$8_digitC_high$$) + $decimalFrom1e7$$($bitsLow$jscomp$8_digitA$$, 1);
}, $jspb$utils$joinSignedDecimalString$$ = function($bitsLow$jscomp$9_result$jscomp$27$$, $bitsHigh$jscomp$9$$) {
  var $negative$$ = $bitsHigh$jscomp$9$$ & 2147483648;
  $negative$$ && ($bitsLow$jscomp$9_result$jscomp$27$$ = ~$bitsLow$jscomp$9_result$jscomp$27$$ + 1 >>> 0, $bitsHigh$jscomp$9$$ = ~$bitsHigh$jscomp$9$$ + (0 == $bitsLow$jscomp$9_result$jscomp$27$$ ? 1 : 0) >>> 0);
  $bitsLow$jscomp$9_result$jscomp$27$$ = $jspb$utils$joinUnsignedDecimalString$$($bitsLow$jscomp$9_result$jscomp$27$$, $bitsHigh$jscomp$9$$);
  return $negative$$ ? "-" + $bitsLow$jscomp$9_result$jscomp$27$$ : $bitsLow$jscomp$9_result$jscomp$27$$;
}, $jspb$utils$byteSourceToUint8Array$$ = function($data$jscomp$74$$) {
  if ($data$jscomp$74$$.constructor === Uint8Array) {
    return $data$jscomp$74$$;
  }
  if ($data$jscomp$74$$.constructor === ArrayBuffer) {
    return new Uint8Array($data$jscomp$74$$);
  }
  if ($data$jscomp$74$$.constructor === Array) {
    return new Uint8Array($data$jscomp$74$$);
  }
  if ($data$jscomp$74$$.constructor === String) {
    return $goog$crypt$base64$decodeStringToUint8Array$$($data$jscomp$74$$);
  }
  $goog$asserts$fail$$("Type not convertible to Uint8Array.");
  return new Uint8Array(0);
};
var $jspb$BinaryDecoder$$ = function($opt_bytes$$, $opt_start$$, $opt_length$jscomp$13$$) {
  this.$g$ = null;
  this.$b$ = this.$f$ = this.$l$ = 0;
  this.$m$ = !1;
  $opt_bytes$$ && $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$$(this, $opt_bytes$$, $opt_start$$, $opt_length$jscomp$13$$);
}, $jspb$BinaryDecoder$instanceCache_$$ = [], $jspb$BinaryDecoder$alloc$$ = function($opt_bytes$jscomp$1$$, $opt_start$jscomp$1$$, $opt_length$jscomp$14$$) {
  if ($jspb$BinaryDecoder$instanceCache_$$.length) {
    var $newDecoder$$ = $jspb$BinaryDecoder$instanceCache_$$.pop();
    $opt_bytes$jscomp$1$$ && $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$$($newDecoder$$, $opt_bytes$jscomp$1$$, $opt_start$jscomp$1$$, $opt_length$jscomp$14$$);
    return $newDecoder$$;
  }
  return new $jspb$BinaryDecoder$$($opt_bytes$jscomp$1$$, $opt_start$jscomp$1$$, $opt_length$jscomp$14$$);
};
$jspb$BinaryDecoder$$.prototype.clone = function() {
  return $jspb$BinaryDecoder$alloc$$(this.$g$, this.$l$, this.$f$ - this.$l$);
};
$jspb$BinaryDecoder$$.prototype.clear = function() {
  this.$g$ = null;
  this.$b$ = this.$f$ = this.$l$ = 0;
  this.$m$ = !1;
};
var $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$$ = function($JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$, $data$jscomp$75$$, $opt_start$jscomp$2$$, $opt_length$jscomp$15$$) {
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$g$ = $jspb$utils$byteSourceToUint8Array$$($data$jscomp$75$$);
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$l$ = $goog$isDef$$($opt_start$jscomp$2$$) ? $opt_start$jscomp$2$$ : 0;
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$f$ = $goog$isDef$$($opt_length$jscomp$15$$) ? $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$l$ + $opt_length$jscomp$15$$ : $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$g$.length;
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$b$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$l$;
};
$jspb$BinaryDecoder$$.prototype.reset = function() {
  this.$b$ = this.$l$;
};
var $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$$ = function($JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$self$$, $count$jscomp$26$$) {
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$self$$.$b$ += $count$jscomp$26$$;
  $goog$asserts$assert$$($JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$self$$.$b$ <= $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$self$$.$f$);
}, $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readSplitVarint64$$ = function($JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readSplitVarint64$self$$, $convert$jscomp$2$$) {
  for (var $temp$jscomp$5$$ = 128, $lowBits$jscomp$3$$ = 0, $highBits$jscomp$3$$ = 0, $i$jscomp$118$$ = 0; 4 > $i$jscomp$118$$ && 128 <= $temp$jscomp$5$$; $i$jscomp$118$$++) {
    $temp$jscomp$5$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readSplitVarint64$self$$.$g$[$JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readSplitVarint64$self$$.$b$++], $lowBits$jscomp$3$$ |= ($temp$jscomp$5$$ & 127) << 7 * $i$jscomp$118$$;
  }
  128 <= $temp$jscomp$5$$ && ($temp$jscomp$5$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readSplitVarint64$self$$.$g$[$JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readSplitVarint64$self$$.$b$++], $lowBits$jscomp$3$$ |= ($temp$jscomp$5$$ & 127) << 28, $highBits$jscomp$3$$ |= ($temp$jscomp$5$$ & 127) >> 4);
  if (128 <= $temp$jscomp$5$$) {
    for ($i$jscomp$118$$ = 0; 5 > $i$jscomp$118$$ && 128 <= $temp$jscomp$5$$; $i$jscomp$118$$++) {
      $temp$jscomp$5$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readSplitVarint64$self$$.$g$[$JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readSplitVarint64$self$$.$b$++], $highBits$jscomp$3$$ |= ($temp$jscomp$5$$ & 127) << 7 * $i$jscomp$118$$ + 3;
    }
  }
  if (128 > $temp$jscomp$5$$) {
    return $convert$jscomp$2$$($lowBits$jscomp$3$$ >>> 0, $highBits$jscomp$3$$ >>> 0);
  }
  $goog$asserts$fail$$("Failed to read varint, encoding is invalid.");
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readSplitVarint64$self$$.$m$ = !0;
};
$jspb$BinaryDecoder$$.prototype.$h$ = function() {
  var $bytes$jscomp$4$$ = this.$g$;
  var $temp$jscomp$6$$ = $bytes$jscomp$4$$[this.$b$ + 0];
  var $x$jscomp$100$$ = $temp$jscomp$6$$ & 127;
  if (128 > $temp$jscomp$6$$) {
    return this.$b$ += 1, $goog$asserts$assert$$(this.$b$ <= this.$f$), $x$jscomp$100$$;
  }
  $temp$jscomp$6$$ = $bytes$jscomp$4$$[this.$b$ + 1];
  $x$jscomp$100$$ |= ($temp$jscomp$6$$ & 127) << 7;
  if (128 > $temp$jscomp$6$$) {
    return this.$b$ += 2, $goog$asserts$assert$$(this.$b$ <= this.$f$), $x$jscomp$100$$;
  }
  $temp$jscomp$6$$ = $bytes$jscomp$4$$[this.$b$ + 2];
  $x$jscomp$100$$ |= ($temp$jscomp$6$$ & 127) << 14;
  if (128 > $temp$jscomp$6$$) {
    return this.$b$ += 3, $goog$asserts$assert$$(this.$b$ <= this.$f$), $x$jscomp$100$$;
  }
  $temp$jscomp$6$$ = $bytes$jscomp$4$$[this.$b$ + 3];
  $x$jscomp$100$$ |= ($temp$jscomp$6$$ & 127) << 21;
  if (128 > $temp$jscomp$6$$) {
    return this.$b$ += 4, $goog$asserts$assert$$(this.$b$ <= this.$f$), $x$jscomp$100$$;
  }
  $temp$jscomp$6$$ = $bytes$jscomp$4$$[this.$b$ + 4];
  $x$jscomp$100$$ |= ($temp$jscomp$6$$ & 15) << 28;
  if (128 > $temp$jscomp$6$$) {
    return this.$b$ += 5, $goog$asserts$assert$$(this.$b$ <= this.$f$), $x$jscomp$100$$ >>> 0;
  }
  this.$b$ += 5;
  128 <= $bytes$jscomp$4$$[this.$b$++] && 128 <= $bytes$jscomp$4$$[this.$b$++] && 128 <= $bytes$jscomp$4$$[this.$b$++] && 128 <= $bytes$jscomp$4$$[this.$b$++] && 128 <= $bytes$jscomp$4$$[this.$b$++] && $goog$asserts$assert$$(!1);
  $goog$asserts$assert$$(this.$b$ <= this.$f$);
  return $x$jscomp$100$$;
};
$jspb$BinaryDecoder$$.prototype.$s$ = $jspb$BinaryDecoder$$.prototype.$h$;
$jspb$BinaryDecoder$$.prototype.$o$ = function() {
  return this.$s$();
};
var $jspb$BinaryReader$$ = function($opt_bytes$jscomp$2$$) {
  this.$f$ = $jspb$BinaryDecoder$alloc$$($opt_bytes$jscomp$2$$, void 0, void 0);
  this.$m$ = this.$f$.$b$;
  this.$h$ = this.$b$ = -1;
  this.$l$ = !1;
}, $JSCompiler_StaticMethods_isEndGroup$$ = function($JSCompiler_StaticMethods_isEndGroup$self$$) {
  return 4 == $JSCompiler_StaticMethods_isEndGroup$self$$.$h$;
};
$jspb$BinaryReader$$.prototype.reset = function() {
  this.$f$.reset();
  this.$h$ = this.$b$ = -1;
};
var $JSCompiler_StaticMethods_nextField$$ = function($JSCompiler_StaticMethods_nextField$self$$) {
  var $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1304_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_6618_JSCompiler_temp$jscomp$6419_nextField$$ = $JSCompiler_StaticMethods_nextField$self$$.$f$;
  if ($JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1304_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_6618_JSCompiler_temp$jscomp$6419_nextField$$.$b$ == $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1304_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_6618_JSCompiler_temp$jscomp$6419_nextField$$.$f$) {
    return !1;
  }
  ($JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1304_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_6618_JSCompiler_temp$jscomp$6419_nextField$$ = $JSCompiler_StaticMethods_nextField$self$$.$l$) || ($JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1304_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_6618_JSCompiler_temp$jscomp$6419_nextField$$ = $JSCompiler_StaticMethods_nextField$self$$.$f$, $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1304_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_6618_JSCompiler_temp$jscomp$6419_nextField$$ = 
  $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1304_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_6618_JSCompiler_temp$jscomp$6419_nextField$$.$m$ || 0 > $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1304_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_6618_JSCompiler_temp$jscomp$6419_nextField$$.$b$ || $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1304_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_6618_JSCompiler_temp$jscomp$6419_nextField$$.$b$ > 
  $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1304_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_6618_JSCompiler_temp$jscomp$6419_nextField$$.$f$);
  if ($JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1304_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_6618_JSCompiler_temp$jscomp$6419_nextField$$) {
    return $goog$asserts$fail$$("Decoder hit an error"), !1;
  }
  $JSCompiler_StaticMethods_nextField$self$$.$m$ = $JSCompiler_StaticMethods_nextField$self$$.$f$.$b$;
  var $header$jscomp$3_nextWireType$$ = $JSCompiler_StaticMethods_nextField$self$$.$f$.$h$();
  $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1304_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_6618_JSCompiler_temp$jscomp$6419_nextField$$ = $header$jscomp$3_nextWireType$$ >>> 3;
  $header$jscomp$3_nextWireType$$ &= 7;
  if (0 != $header$jscomp$3_nextWireType$$ && 5 != $header$jscomp$3_nextWireType$$ && 1 != $header$jscomp$3_nextWireType$$ && 2 != $header$jscomp$3_nextWireType$$ && 3 != $header$jscomp$3_nextWireType$$ && 4 != $header$jscomp$3_nextWireType$$) {
    return $goog$asserts$fail$$("Invalid wire type: %s (at position %s)", $header$jscomp$3_nextWireType$$, $JSCompiler_StaticMethods_nextField$self$$.$m$), $JSCompiler_StaticMethods_nextField$self$$.$l$ = !0, !1;
  }
  $JSCompiler_StaticMethods_nextField$self$$.$b$ = $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1304_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_6618_JSCompiler_temp$jscomp$6419_nextField$$;
  $JSCompiler_StaticMethods_nextField$self$$.$h$ = $header$jscomp$3_nextWireType$$;
  return !0;
}, $JSCompiler_StaticMethods_skipField$$ = function($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$) {
  switch($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$h$) {
    case 0:
      if (0 != $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$h$) {
        $goog$asserts$fail$$("Invalid wire type for skipVarintField"), $JSCompiler_StaticMethods_skipField$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$);
      } else {
        for ($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$ = $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$f$; $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$g$[$JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$b$] & 128;) {
          $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$b$++;
        }
        $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$b$++;
      }
      break;
    case 1:
      1 != $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$h$ ? ($goog$asserts$fail$$("Invalid wire type for skipFixed64Field"), $JSCompiler_StaticMethods_skipField$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$)) : $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$f$, 
      8);
      break;
    case 2:
      if (2 != $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$h$) {
        $goog$asserts$fail$$("Invalid wire type for skipDelimitedField"), $JSCompiler_StaticMethods_skipField$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$);
      } else {
        var $length$jscomp$inline_1311_previousField$jscomp$inline_1316$$ = $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$f$.$h$();
        $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$f$, $length$jscomp$inline_1311_previousField$jscomp$inline_1316$$);
      }
      break;
    case 5:
      5 != $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$h$ ? ($goog$asserts$fail$$("Invalid wire type for skipFixed32Field"), $JSCompiler_StaticMethods_skipField$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$)) : $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$f$, 
      4);
      break;
    case 3:
      $length$jscomp$inline_1311_previousField$jscomp$inline_1316$$ = $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$b$;
      do {
        if (!$JSCompiler_StaticMethods_nextField$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$)) {
          $goog$asserts$fail$$("Unmatched start-group tag: stream EOF");
          $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$l$ = !0;
          break;
        }
        if (4 == $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$h$) {
          $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$b$ != $length$jscomp$inline_1311_previousField$jscomp$inline_1316$$ && ($goog$asserts$fail$$("Unmatched end-group tag"), $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$.$l$ = !0);
          break;
        }
        $JSCompiler_StaticMethods_skipField$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_6620$$);
      } while (1);
      break;
    default:
      $goog$asserts$fail$$("Invalid wire encoding for field.");
  }
};
$jspb$BinaryReader$$.prototype.$g$ = function($message$jscomp$59$$, $reader$$) {
  $goog$asserts$assert$$(2 == this.$h$);
  var $oldEnd$$ = this.$f$.$f$, $length$jscomp$31_newEnd$$ = this.$f$.$h$();
  $length$jscomp$31_newEnd$$ = this.$f$.$b$ + $length$jscomp$31_newEnd$$;
  this.$f$.$f$ = $length$jscomp$31_newEnd$$;
  $reader$$($message$jscomp$59$$, this);
  this.$f$.$b$ = $length$jscomp$31_newEnd$$;
  this.$f$.$f$ = $oldEnd$$;
};
var $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt32$$ = function($JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt32$self$$) {
  $goog$asserts$assert$$(0 == $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt32$self$$.$h$);
  return $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt32$self$$.$f$.$s$();
}, $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt64$$ = function($JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt64$self$$) {
  $goog$asserts$assert$$(0 == $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt64$self$$.$h$);
  return $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readSplitVarint64$$($JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt64$self$$.$f$, $jspb$utils$joinInt64$$);
}, $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readUint64$$ = function($JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readUint64$self$$) {
  $goog$asserts$assert$$(0 == $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readUint64$self$$.$h$);
  return $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readSplitVarint64$$($JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readUint64$self$$.$f$, $jspb$utils$joinUint64$$);
}, $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$$ = function($JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$) {
  $goog$asserts$assert$$(5 == $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$.$h$);
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$.$f$;
  var $a$jscomp$inline_6623_exp$jscomp$inline_6630$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$.$g$[$JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$.$b$ + 0];
  var $b$jscomp$inline_6624_bitsLow$jscomp$inline_1328_mant$jscomp$inline_6631$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$.$g$[$JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$.$b$ + 1];
  var $c$jscomp$inline_6625$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$.$g$[$JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$.$b$ + 2], $d$jscomp$inline_6626$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$.$g$[$JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$.$b$ + 
  3];
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$.$b$ += 4;
  $goog$asserts$assert$$($JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$.$b$ <= $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$.$f$);
  $b$jscomp$inline_6624_bitsLow$jscomp$inline_1328_mant$jscomp$inline_6631$$ = ($a$jscomp$inline_6623_exp$jscomp$inline_6630$$ << 0 | $b$jscomp$inline_6624_bitsLow$jscomp$inline_1328_mant$jscomp$inline_6631$$ << 8 | $c$jscomp$inline_6625$$ << 16 | $d$jscomp$inline_6626$$ << 24) >>> 0;
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$ = 2 * ($b$jscomp$inline_6624_bitsLow$jscomp$inline_1328_mant$jscomp$inline_6631$$ >> 31) + 1;
  $a$jscomp$inline_6623_exp$jscomp$inline_6630$$ = $b$jscomp$inline_6624_bitsLow$jscomp$inline_1328_mant$jscomp$inline_6631$$ >>> 23 & 255;
  $b$jscomp$inline_6624_bitsLow$jscomp$inline_1328_mant$jscomp$inline_6631$$ &= 8388607;
  return 255 == $a$jscomp$inline_6623_exp$jscomp$inline_6630$$ ? $b$jscomp$inline_6624_bitsLow$jscomp$inline_1328_mant$jscomp$inline_6631$$ ? NaN : Infinity * $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$ : 0 == $a$jscomp$inline_6623_exp$jscomp$inline_6630$$ ? $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$ * 
  Math.pow(2, -149) * $b$jscomp$inline_6624_bitsLow$jscomp$inline_1328_mant$jscomp$inline_6631$$ : $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readUint32$self$jscomp$inline_6622_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readFloat$self_sign$jscomp$inline_6629$$ * Math.pow(2, $a$jscomp$inline_6623_exp$jscomp$inline_6630$$ - 150) * ($b$jscomp$inline_6624_bitsLow$jscomp$inline_1328_mant$jscomp$inline_6631$$ + Math.pow(2, 23));
}, $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readBool$$ = function($JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readBool$self$$) {
  $goog$asserts$assert$$(0 == $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readBool$self$$.$h$);
  return !!$JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readBool$self$$.$f$.$h$();
}, $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$$ = function($JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self$$) {
  $goog$asserts$assert$$(0 == $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self$$.$h$);
  return $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readSplitVarint64$$($JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self$$.$f$, $jspb$utils$joinInt64$$);
}, $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$$ = function($JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1330_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$) {
  $goog$asserts$assert$$(2 == $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1330_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$.$h$);
  var $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1330_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$.$f$.$h$();
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1330_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1330_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$.$f$;
  var $JSCompiler_temp_const$jscomp$6417_bytes$jscomp$inline_1332$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1330_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$.$g$, $cursor$jscomp$inline_1333$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1330_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$.$b$, $end$jscomp$inline_1334_str$jscomp$inline_6634$$ = $cursor$jscomp$inline_1333$$ + 
  $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$;
  $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$ = [];
  for (var $i$jscomp$inline_6635_result$jscomp$inline_1336$$ = ""; $cursor$jscomp$inline_1333$$ < $end$jscomp$inline_1334_str$jscomp$inline_6634$$;) {
    var $c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$ = $JSCompiler_temp_const$jscomp$6417_bytes$jscomp$inline_1332$$[$cursor$jscomp$inline_1333$$++];
    if (128 > $c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$) {
      $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$.push($c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$);
    } else {
      if (192 > $c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$) {
        continue;
      } else {
        if (224 > $c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$) {
          var $c2$jscomp$inline_1338$$ = $JSCompiler_temp_const$jscomp$6417_bytes$jscomp$inline_1332$$[$cursor$jscomp$inline_1333$$++];
          $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$.push(($c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$ & 31) << 6 | $c2$jscomp$inline_1338$$ & 63);
        } else {
          if (240 > $c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$) {
            $c2$jscomp$inline_1338$$ = $JSCompiler_temp_const$jscomp$6417_bytes$jscomp$inline_1332$$[$cursor$jscomp$inline_1333$$++];
            var $c3$jscomp$inline_1339$$ = $JSCompiler_temp_const$jscomp$6417_bytes$jscomp$inline_1332$$[$cursor$jscomp$inline_1333$$++];
            $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$.push(($c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$ & 15) << 12 | ($c2$jscomp$inline_1338$$ & 63) << 6 | $c3$jscomp$inline_1339$$ & 63);
          } else {
            if (248 > $c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$) {
              $c2$jscomp$inline_1338$$ = $JSCompiler_temp_const$jscomp$6417_bytes$jscomp$inline_1332$$[$cursor$jscomp$inline_1333$$++];
              $c3$jscomp$inline_1339$$ = $JSCompiler_temp_const$jscomp$6417_bytes$jscomp$inline_1332$$[$cursor$jscomp$inline_1333$$++];
              var $c4$jscomp$inline_1340$$ = $JSCompiler_temp_const$jscomp$6417_bytes$jscomp$inline_1332$$[$cursor$jscomp$inline_1333$$++];
              $c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$ = ($c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$ & 7) << 18 | ($c2$jscomp$inline_1338$$ & 63) << 12 | ($c3$jscomp$inline_1339$$ & 63) << 6 | $c4$jscomp$inline_1340$$ & 63;
              $c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$ -= 65536;
              $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$.push(($c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$ >> 10 & 1023) + 55296, ($c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$ & 1023) + 56320);
            }
          }
        }
      }
    }
    8192 <= $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$.length && ($i$jscomp$inline_6635_result$jscomp$inline_1336$$ += String.fromCharCode.apply(null, $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$), $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$.length = 0);
  }
  $JSCompiler_temp_const$jscomp$6417_bytes$jscomp$inline_1332$$ = $i$jscomp$inline_6635_result$jscomp$inline_1336$$;
  if (8192 >= $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$.length) {
    $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$ = String.fromCharCode.apply(null, $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$);
  } else {
    $end$jscomp$inline_1334_str$jscomp$inline_6634$$ = "";
    for ($i$jscomp$inline_6635_result$jscomp$inline_1336$$ = 0; $i$jscomp$inline_6635_result$jscomp$inline_1336$$ < $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$.length; $i$jscomp$inline_6635_result$jscomp$inline_1336$$ += 8192) {
      $c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$ = $goog$array$slice$$($JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$, $i$jscomp$inline_6635_result$jscomp$inline_1336$$, $i$jscomp$inline_6635_result$jscomp$inline_1336$$ + 8192), $end$jscomp$inline_1334_str$jscomp$inline_6634$$ += String.fromCharCode.apply(null, $c$jscomp$inline_1337_chunk$jscomp$inline_6636_codepoint$jscomp$inline_1341$$);
    }
    $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$ = $end$jscomp$inline_1334_str$jscomp$inline_6634$$;
  }
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1330_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$.$b$ = $cursor$jscomp$inline_1333$$;
  return $JSCompiler_temp_const$jscomp$6417_bytes$jscomp$inline_1332$$ + $JSCompiler_inline_result$jscomp$6418_codeUnits$jscomp$inline_1335_length$jscomp$33$$;
}, $JSCompiler_StaticMethods_readPackedField_$$ = function($JSCompiler_StaticMethods_readPackedField_$self$$, $decodeMethod$$) {
  $goog$asserts$assert$$(2 == $JSCompiler_StaticMethods_readPackedField_$self$$.$h$);
  var $end$jscomp$18_length$jscomp$35$$ = $JSCompiler_StaticMethods_readPackedField_$self$$.$f$.$h$();
  $end$jscomp$18_length$jscomp$35$$ = $JSCompiler_StaticMethods_readPackedField_$self$$.$f$.$b$ + $end$jscomp$18_length$jscomp$35$$;
  for (var $result$jscomp$34$$ = []; $JSCompiler_StaticMethods_readPackedField_$self$$.$f$.$b$ < $end$jscomp$18_length$jscomp$35$$;) {
    $result$jscomp$34$$.push($decodeMethod$$.call($JSCompiler_StaticMethods_readPackedField_$self$$.$f$));
  }
  return $result$jscomp$34$$;
};
var $jspb$arith$UInt64$$ = function($lo$jscomp$1$$, $hi$jscomp$1$$) {
  this.$b$ = $lo$jscomp$1$$;
  this.$f$ = $hi$jscomp$1$$;
}, $JSCompiler_StaticMethods_rightShift$$ = function($JSCompiler_StaticMethods_rightShift$self$$) {
  return new $jspb$arith$UInt64$$(($JSCompiler_StaticMethods_rightShift$self$$.$b$ >>> 1 | ($JSCompiler_StaticMethods_rightShift$self$$.$f$ & 1) << 31) >>> 0, $JSCompiler_StaticMethods_rightShift$self$$.$f$ >>> 1 >>> 0);
}, $JSCompiler_StaticMethods_leftShift$$ = function($JSCompiler_StaticMethods_leftShift$self$$) {
  return new $jspb$arith$UInt64$$($JSCompiler_StaticMethods_leftShift$self$$.$b$ << 1 >>> 0, ($JSCompiler_StaticMethods_leftShift$self$$.$f$ << 1 | $JSCompiler_StaticMethods_leftShift$self$$.$b$ >>> 31) >>> 0);
};
$jspb$arith$UInt64$$.prototype.add = function($other$jscomp$7$$) {
  return new $jspb$arith$UInt64$$((this.$b$ + $other$jscomp$7$$.$b$ & 4294967295) >>> 0 >>> 0, ((this.$f$ + $other$jscomp$7$$.$f$ & 4294967295) >>> 0) + (4294967296 <= this.$b$ + $other$jscomp$7$$.$b$ ? 1 : 0) >>> 0);
};
$jspb$arith$UInt64$$.prototype.sub = function($other$jscomp$8$$) {
  return new $jspb$arith$UInt64$$((this.$b$ - $other$jscomp$8$$.$b$ & 4294967295) >>> 0 >>> 0, ((this.$f$ - $other$jscomp$8$$.$f$ & 4294967295) >>> 0) - (0 > this.$b$ - $other$jscomp$8$$.$b$ ? 1 : 0) >>> 0);
};
var $jspb$arith$UInt64$mul32x32$$ = function($a$jscomp$35_productLow$$) {
  var $aLow_productHigh$$ = $a$jscomp$35_productLow$$ & 65535, $aHigh$$ = $a$jscomp$35_productLow$$ >>> 16;
  $a$jscomp$35_productLow$$ = 10 * $aLow_productHigh$$ + 65536 * (0 * $aLow_productHigh$$ & 65535) + 65536 * (10 * $aHigh$$ & 65535);
  for ($aLow_productHigh$$ = 0 * $aHigh$$ + (0 * $aLow_productHigh$$ >>> 16) + (10 * $aHigh$$ >>> 16); 4294967296 <= $a$jscomp$35_productLow$$;) {
    $a$jscomp$35_productLow$$ -= 4294967296, $aLow_productHigh$$ += 1;
  }
  return new $jspb$arith$UInt64$$($a$jscomp$35_productLow$$ >>> 0, $aLow_productHigh$$ >>> 0);
};
$jspb$arith$UInt64$$.prototype.toString = function() {
  for (var $result$jscomp$35$$ = "", $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$ = this; 0 != $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$.$b$ || 0 != $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$.$f$;) {
    var $divResult_quotient$jscomp$inline_1345$$ = new $jspb$arith$UInt64$$(0, 0);
    $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$ = new $jspb$arith$UInt64$$($num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$.$b$, $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$.$f$);
    for (var $divisor$jscomp$inline_1347$$ = new $jspb$arith$UInt64$$(10, 0), $unit$jscomp$inline_1348$$ = new $jspb$arith$UInt64$$(1, 0); !($divisor$jscomp$inline_1347$$.$f$ & 2147483648);) {
      $divisor$jscomp$inline_1347$$ = $JSCompiler_StaticMethods_leftShift$$($divisor$jscomp$inline_1347$$), $unit$jscomp$inline_1348$$ = $JSCompiler_StaticMethods_leftShift$$($unit$jscomp$inline_1348$$);
    }
    for (; 0 != $unit$jscomp$inline_1348$$.$b$ || 0 != $unit$jscomp$inline_1348$$.$f$;) {
      0 >= ($divisor$jscomp$inline_1347$$.$f$ < $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$.$f$ || $divisor$jscomp$inline_1347$$.$f$ == $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$.$f$ && $divisor$jscomp$inline_1347$$.$b$ < $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$.$b$ ? -1 : $divisor$jscomp$inline_1347$$.$f$ == $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$.$f$ && $divisor$jscomp$inline_1347$$.$b$ == $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$.$b$ ? 
      0 : 1) && ($divResult_quotient$jscomp$inline_1345$$ = $divResult_quotient$jscomp$inline_1345$$.add($unit$jscomp$inline_1348$$), $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$ = $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$.sub($divisor$jscomp$inline_1347$$)), $divisor$jscomp$inline_1347$$ = $JSCompiler_StaticMethods_rightShift$$($divisor$jscomp$inline_1347$$), $unit$jscomp$inline_1348$$ = $JSCompiler_StaticMethods_rightShift$$($unit$jscomp$inline_1348$$);
    }
    $divResult_quotient$jscomp$inline_1345$$ = [$divResult_quotient$jscomp$inline_1345$$, $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$];
    $num$jscomp$13_quotient$jscomp$1_remainder$jscomp$inline_1346$$ = $divResult_quotient$jscomp$inline_1345$$[0];
    $result$jscomp$35$$ = $divResult_quotient$jscomp$inline_1345$$[1].$b$ + $result$jscomp$35$$;
  }
  "" == $result$jscomp$35$$ && ($result$jscomp$35$$ = "0");
  return $result$jscomp$35$$;
};
var $jspb$arith$UInt64$fromString$$ = function($s$jscomp$27$$) {
  for (var $hi$jscomp$inline_1353_result$jscomp$36$$ = new $jspb$arith$UInt64$$(0, 0), $digit64$$ = new $jspb$arith$UInt64$$(0, 0), $i$jscomp$120$$ = 0; $i$jscomp$120$$ < $s$jscomp$27$$.length; $i$jscomp$120$$++) {
    if ("0" > $s$jscomp$27$$[$i$jscomp$120$$] || "9" < $s$jscomp$27$$[$i$jscomp$120$$]) {
      return null;
    }
    $digit64$$.$b$ = parseInt($s$jscomp$27$$[$i$jscomp$120$$], 10);
    var $lo$jscomp$inline_1352$$ = $jspb$arith$UInt64$mul32x32$$($hi$jscomp$inline_1353_result$jscomp$36$$.$b$);
    $hi$jscomp$inline_1353_result$jscomp$36$$ = $jspb$arith$UInt64$mul32x32$$($hi$jscomp$inline_1353_result$jscomp$36$$.$f$);
    $hi$jscomp$inline_1353_result$jscomp$36$$.$f$ = $hi$jscomp$inline_1353_result$jscomp$36$$.$b$;
    $hi$jscomp$inline_1353_result$jscomp$36$$.$b$ = 0;
    $hi$jscomp$inline_1353_result$jscomp$36$$ = $lo$jscomp$inline_1352$$.add($hi$jscomp$inline_1353_result$jscomp$36$$).add($digit64$$);
  }
  return $hi$jscomp$inline_1353_result$jscomp$36$$;
};
$jspb$arith$UInt64$$.prototype.clone = function() {
  return new $jspb$arith$UInt64$$(this.$b$, this.$f$);
};
var $jspb$arith$Int64$$ = function($lo$jscomp$7$$, $hi$jscomp$7$$) {
  this.$b$ = $lo$jscomp$7$$;
  this.$f$ = $hi$jscomp$7$$;
};
$jspb$arith$Int64$$.prototype.add = function($other$jscomp$9$$) {
  return new $jspb$arith$Int64$$((this.$b$ + $other$jscomp$9$$.$b$ & 4294967295) >>> 0 >>> 0, ((this.$f$ + $other$jscomp$9$$.$f$ & 4294967295) >>> 0) + (4294967296 <= this.$b$ + $other$jscomp$9$$.$b$ ? 1 : 0) >>> 0);
};
$jspb$arith$Int64$$.prototype.sub = function($other$jscomp$10$$) {
  return new $jspb$arith$Int64$$((this.$b$ - $other$jscomp$10$$.$b$ & 4294967295) >>> 0 >>> 0, ((this.$f$ - $other$jscomp$10$$.$f$ & 4294967295) >>> 0) - (0 > this.$b$ - $other$jscomp$10$$.$b$ ? 1 : 0) >>> 0);
};
$jspb$arith$Int64$$.prototype.clone = function() {
  return new $jspb$arith$Int64$$(this.$b$, this.$f$);
};
$jspb$arith$Int64$$.prototype.toString = function() {
  var $sign$jscomp$7$$ = 0 != (this.$f$ & 2147483648), $num$jscomp$14$$ = new $jspb$arith$UInt64$$(this.$b$, this.$f$);
  $sign$jscomp$7$$ && ($num$jscomp$14$$ = (new $jspb$arith$UInt64$$(0, 0)).sub($num$jscomp$14$$));
  return ($sign$jscomp$7$$ ? "-" : "") + $num$jscomp$14$$.toString();
};
var $jspb$BinaryEncoder$$ = function() {
  this.$b$ = [];
};
$jspb$BinaryEncoder$$.prototype.length = function() {
  return this.$b$.length;
};
$jspb$BinaryEncoder$$.prototype.end = function() {
  var $buffer$jscomp$22$$ = this.$b$;
  this.$b$ = [];
  return $buffer$jscomp$22$$;
};
var $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeSplitVarint64$$ = function($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeSplitVarint64$self$$, $lowBits$jscomp$6$$, $highBits$jscomp$6$$) {
  $goog$asserts$assert$$($lowBits$jscomp$6$$ == Math.floor($lowBits$jscomp$6$$));
  $goog$asserts$assert$$($highBits$jscomp$6$$ == Math.floor($highBits$jscomp$6$$));
  $goog$asserts$assert$$(0 <= $lowBits$jscomp$6$$ && 4294967296 > $lowBits$jscomp$6$$);
  for ($goog$asserts$assert$$(0 <= $highBits$jscomp$6$$ && 4294967296 > $highBits$jscomp$6$$); 0 < $highBits$jscomp$6$$ || 127 < $lowBits$jscomp$6$$;) {
    $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeSplitVarint64$self$$.$b$.push($lowBits$jscomp$6$$ & 127 | 128), $lowBits$jscomp$6$$ = ($lowBits$jscomp$6$$ >>> 7 | $highBits$jscomp$6$$ << 25) >>> 0, $highBits$jscomp$6$$ >>>= 7;
  }
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeSplitVarint64$self$$.$b$.push($lowBits$jscomp$6$$);
}, $JSCompiler_StaticMethods_writeUnsignedVarint32$$ = function($JSCompiler_StaticMethods_writeUnsignedVarint32$self$$, $value$jscomp$197$$) {
  $goog$asserts$assert$$($value$jscomp$197$$ == Math.floor($value$jscomp$197$$));
  for ($goog$asserts$assert$$(0 <= $value$jscomp$197$$ && 4294967296 > $value$jscomp$197$$); 127 < $value$jscomp$197$$;) {
    $JSCompiler_StaticMethods_writeUnsignedVarint32$self$$.$b$.push($value$jscomp$197$$ & 127 | 128), $value$jscomp$197$$ >>>= 7;
  }
  $JSCompiler_StaticMethods_writeUnsignedVarint32$self$$.$b$.push($value$jscomp$197$$);
}, $JSCompiler_StaticMethods_writeSignedVarint32$$ = function($JSCompiler_StaticMethods_writeSignedVarint32$self$$, $value$jscomp$198$$) {
  $goog$asserts$assert$$($value$jscomp$198$$ == Math.floor($value$jscomp$198$$));
  $goog$asserts$assert$$(-2147483648 <= $value$jscomp$198$$ && 2147483648 > $value$jscomp$198$$);
  if (0 <= $value$jscomp$198$$) {
    $JSCompiler_StaticMethods_writeUnsignedVarint32$$($JSCompiler_StaticMethods_writeSignedVarint32$self$$, $value$jscomp$198$$);
  } else {
    for (var $i$jscomp$121$$ = 0; 9 > $i$jscomp$121$$; $i$jscomp$121$$++) {
      $JSCompiler_StaticMethods_writeSignedVarint32$self$$.$b$.push($value$jscomp$198$$ & 127 | 128), $value$jscomp$198$$ >>= 7;
    }
    $JSCompiler_StaticMethods_writeSignedVarint32$self$$.$b$.push(1);
  }
}, $JSCompiler_StaticMethods_writeSignedVarint64$$ = function($JSCompiler_StaticMethods_writeSignedVarint64$self$$, $value$jscomp$200$$) {
  $goog$asserts$assert$$($value$jscomp$200$$ == Math.floor($value$jscomp$200$$));
  $goog$asserts$assert$$(-9223372036854775808 <= $value$jscomp$200$$ && 9223372036854775808 > $value$jscomp$200$$);
  $jspb$utils$splitInt64$$($value$jscomp$200$$);
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeSplitVarint64$$($JSCompiler_StaticMethods_writeSignedVarint64$self$$, $jspb$utils$split64Low$$, $jspb$utils$split64High$$);
}, $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$$ = function($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$self$$, $value$jscomp$206$$) {
  $goog$asserts$assert$$($value$jscomp$206$$ == Math.floor($value$jscomp$206$$));
  $goog$asserts$assert$$(0 <= $value$jscomp$206$$ && 4294967296 > $value$jscomp$206$$);
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$self$$.$b$.push($value$jscomp$206$$ >>> 0 & 255);
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$self$$.$b$.push($value$jscomp$206$$ >>> 8 & 255);
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$self$$.$b$.push($value$jscomp$206$$ >>> 16 & 255);
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$self$$.$b$.push($value$jscomp$206$$ >>> 24 & 255);
}, $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeFloat$$ = function($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeFloat$self$$, $sign$jscomp$inline_1356_value$jscomp$213$$) {
  $goog$asserts$assert$$(Infinity === $sign$jscomp$inline_1356_value$jscomp$213$$ || -Infinity === $sign$jscomp$inline_1356_value$jscomp$213$$ || isNaN($sign$jscomp$inline_1356_value$jscomp$213$$) || -3.4028234663852886E38 <= $sign$jscomp$inline_1356_value$jscomp$213$$ && 3.4028234663852886e+38 >= $sign$jscomp$inline_1356_value$jscomp$213$$);
  var $mant$jscomp$inline_1358_value$jscomp$inline_1355$$ = $sign$jscomp$inline_1356_value$jscomp$213$$;
  $mant$jscomp$inline_1358_value$jscomp$inline_1355$$ = ($sign$jscomp$inline_1356_value$jscomp$213$$ = 0 > $mant$jscomp$inline_1358_value$jscomp$inline_1355$$ ? 1 : 0) ? -$mant$jscomp$inline_1358_value$jscomp$inline_1355$$ : $mant$jscomp$inline_1358_value$jscomp$inline_1355$$;
  if (0 === $mant$jscomp$inline_1358_value$jscomp$inline_1355$$) {
    0 < 1 / $mant$jscomp$inline_1358_value$jscomp$inline_1355$$ ? $jspb$utils$split64Low$$ = $jspb$utils$split64High$$ = 0 : ($jspb$utils$split64High$$ = 0, $jspb$utils$split64Low$$ = 2147483648);
  } else {
    if (isNaN($mant$jscomp$inline_1358_value$jscomp$inline_1355$$)) {
      $jspb$utils$split64High$$ = 0, $jspb$utils$split64Low$$ = 2147483647;
    } else {
      if (3.4028234663852886e+38 < $mant$jscomp$inline_1358_value$jscomp$inline_1355$$) {
        $jspb$utils$split64High$$ = 0, $jspb$utils$split64Low$$ = ($sign$jscomp$inline_1356_value$jscomp$213$$ << 31 | 2139095040) >>> 0;
      } else {
        if (1.1754943508222875e-38 > $mant$jscomp$inline_1358_value$jscomp$inline_1355$$) {
          $mant$jscomp$inline_1358_value$jscomp$inline_1355$$ = Math.round($mant$jscomp$inline_1358_value$jscomp$inline_1355$$ / Math.pow(2, -149)), $jspb$utils$split64High$$ = 0, $jspb$utils$split64Low$$ = ($sign$jscomp$inline_1356_value$jscomp$213$$ << 31 | $mant$jscomp$inline_1358_value$jscomp$inline_1355$$) >>> 0;
        } else {
          var $exp$jscomp$inline_1357$$ = Math.floor(Math.log($mant$jscomp$inline_1358_value$jscomp$inline_1355$$) / Math.LN2);
          $mant$jscomp$inline_1358_value$jscomp$inline_1355$$ *= Math.pow(2, -$exp$jscomp$inline_1357$$);
          $mant$jscomp$inline_1358_value$jscomp$inline_1355$$ = Math.round(8388608 * $mant$jscomp$inline_1358_value$jscomp$inline_1355$$) & 8388607;
          $jspb$utils$split64High$$ = 0;
          $jspb$utils$split64Low$$ = ($sign$jscomp$inline_1356_value$jscomp$213$$ << 31 | $exp$jscomp$inline_1357$$ + 127 << 23 | $mant$jscomp$inline_1358_value$jscomp$inline_1355$$) >>> 0;
        }
      }
    }
  }
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$$($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeFloat$self$$, $jspb$utils$split64Low$$);
};
var $jspb$BinaryWriter$$ = function() {
  this.$m$ = [];
  this.$l$ = 0;
  this.$g$ = new $jspb$BinaryEncoder$$;
  this.$o$ = [];
}, $JSCompiler_StaticMethods_beginDelimited_$$ = function($JSCompiler_StaticMethods_beginDelimited_$self$$, $bookmark$jscomp$1_field$jscomp$6$$) {
  $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_beginDelimited_$self$$, $bookmark$jscomp$1_field$jscomp$6$$, 2);
  $bookmark$jscomp$1_field$jscomp$6$$ = $JSCompiler_StaticMethods_beginDelimited_$self$$.$g$.end();
  $JSCompiler_StaticMethods_beginDelimited_$self$$.$m$.push($bookmark$jscomp$1_field$jscomp$6$$);
  $JSCompiler_StaticMethods_beginDelimited_$self$$.$l$ += $bookmark$jscomp$1_field$jscomp$6$$.length;
  $bookmark$jscomp$1_field$jscomp$6$$.push($JSCompiler_StaticMethods_beginDelimited_$self$$.$l$);
  return $bookmark$jscomp$1_field$jscomp$6$$;
}, $JSCompiler_StaticMethods_endDelimited_$$ = function($JSCompiler_StaticMethods_endDelimited_$self$$, $bookmark$jscomp$2$$) {
  var $messageLength_oldLength$jscomp$1$$ = $bookmark$jscomp$2$$.pop();
  $messageLength_oldLength$jscomp$1$$ = $JSCompiler_StaticMethods_endDelimited_$self$$.$l$ + $JSCompiler_StaticMethods_endDelimited_$self$$.$g$.length() - $messageLength_oldLength$jscomp$1$$;
  for ($goog$asserts$assert$$(0 <= $messageLength_oldLength$jscomp$1$$); 127 < $messageLength_oldLength$jscomp$1$$;) {
    $bookmark$jscomp$2$$.push($messageLength_oldLength$jscomp$1$$ & 127 | 128), $messageLength_oldLength$jscomp$1$$ >>>= 7, $JSCompiler_StaticMethods_endDelimited_$self$$.$l$++;
  }
  $bookmark$jscomp$2$$.push($messageLength_oldLength$jscomp$1$$);
  $JSCompiler_StaticMethods_endDelimited_$self$$.$l$++;
};
$jspb$BinaryWriter$$.prototype.reset = function() {
  this.$m$ = [];
  this.$g$.end();
  this.$l$ = 0;
  this.$o$ = [];
};
var $JSCompiler_StaticMethods_getResultBuffer$$ = function($JSCompiler_StaticMethods_getResultBuffer$self$$) {
  $goog$asserts$assert$$(0 == $JSCompiler_StaticMethods_getResultBuffer$self$$.$o$.length);
  for (var $flat$$ = new Uint8Array($JSCompiler_StaticMethods_getResultBuffer$self$$.$l$ + $JSCompiler_StaticMethods_getResultBuffer$self$$.$g$.length()), $blocks_tail$$ = $JSCompiler_StaticMethods_getResultBuffer$self$$.$m$, $blockCount$$ = $blocks_tail$$.length, $offset$jscomp$23$$ = 0, $i$jscomp$123$$ = 0; $i$jscomp$123$$ < $blockCount$$; $i$jscomp$123$$++) {
    var $block$$ = $blocks_tail$$[$i$jscomp$123$$];
    $flat$$.set($block$$, $offset$jscomp$23$$);
    $offset$jscomp$23$$ += $block$$.length;
  }
  $blocks_tail$$ = $JSCompiler_StaticMethods_getResultBuffer$self$$.$g$.end();
  $flat$$.set($blocks_tail$$, $offset$jscomp$23$$);
  $offset$jscomp$23$$ += $blocks_tail$$.length;
  $goog$asserts$assert$$($offset$jscomp$23$$ == $flat$$.length);
  $JSCompiler_StaticMethods_getResultBuffer$self$$.$m$ = [$flat$$];
  return $flat$$;
}, $JSCompiler_StaticMethods_writeFieldHeader_$$ = function($JSCompiler_StaticMethods_writeFieldHeader_$self$$, $field$jscomp$8$$, $wireType$$) {
  $goog$asserts$assert$$(1 <= $field$jscomp$8$$ && $field$jscomp$8$$ == Math.floor($field$jscomp$8$$));
  $JSCompiler_StaticMethods_writeUnsignedVarint32$$($JSCompiler_StaticMethods_writeFieldHeader_$self$$.$g$, 8 * $field$jscomp$8$$ + $wireType$$);
};
$jspb$BinaryWriter$$.prototype.$f$ = function($field$jscomp$18$$, $value$jscomp$227$$) {
  null != $value$jscomp$227$$ && ($goog$asserts$assert$$(-2147483648 <= $value$jscomp$227$$ && 2147483648 > $value$jscomp$227$$), null != $value$jscomp$227$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$(this, $field$jscomp$18$$, 0), $JSCompiler_StaticMethods_writeSignedVarint32$$(this.$g$, $value$jscomp$227$$)));
};
var $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64$self$$, $field$jscomp$20$$, $value$jscomp$229$$) {
  null != $value$jscomp$229$$ && ($goog$asserts$assert$$(-9223372036854775808 <= $value$jscomp$229$$ && 9223372036854775808 > $value$jscomp$229$$), null != $value$jscomp$229$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64$self$$, $field$jscomp$20$$, 0), $JSCompiler_StaticMethods_writeSignedVarint64$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64$self$$.$g$, $value$jscomp$229$$)));
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64String$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64String$self$$, $field$jscomp$21$$, $hasNegative$jscomp$inline_1369_num$jscomp$16_value$jscomp$230$$) {
  if (null != $hasNegative$jscomp$inline_1369_num$jscomp$16_value$jscomp$230$$) {
    var $num$jscomp$inline_1370_s$jscomp$inline_1368$$ = $hasNegative$jscomp$inline_1369_num$jscomp$16_value$jscomp$230$$;
    ($hasNegative$jscomp$inline_1369_num$jscomp$16_value$jscomp$230$$ = 0 < $num$jscomp$inline_1370_s$jscomp$inline_1368$$.length && "-" == $num$jscomp$inline_1370_s$jscomp$inline_1368$$[0]) && ($num$jscomp$inline_1370_s$jscomp$inline_1368$$ = $num$jscomp$inline_1370_s$jscomp$inline_1368$$.substring(1));
    $num$jscomp$inline_1370_s$jscomp$inline_1368$$ = $jspb$arith$UInt64$fromString$$($num$jscomp$inline_1370_s$jscomp$inline_1368$$);
    null === $num$jscomp$inline_1370_s$jscomp$inline_1368$$ ? $hasNegative$jscomp$inline_1369_num$jscomp$16_value$jscomp$230$$ = null : ($hasNegative$jscomp$inline_1369_num$jscomp$16_value$jscomp$230$$ && ($num$jscomp$inline_1370_s$jscomp$inline_1368$$ = (new $jspb$arith$UInt64$$(0, 0)).sub($num$jscomp$inline_1370_s$jscomp$inline_1368$$)), $hasNegative$jscomp$inline_1369_num$jscomp$16_value$jscomp$230$$ = new $jspb$arith$Int64$$($num$jscomp$inline_1370_s$jscomp$inline_1368$$.$b$, $num$jscomp$inline_1370_s$jscomp$inline_1368$$.$f$));
    $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64String$self$$, $field$jscomp$21$$, 0);
    $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeSplitVarint64$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64String$self$$.$g$, $hasNegative$jscomp$inline_1369_num$jscomp$16_value$jscomp$230$$.$b$, $hasNegative$jscomp$inline_1369_num$jscomp$16_value$jscomp$230$$.$f$);
  }
};
$jspb$BinaryWriter$$.prototype.$h$ = function($field$jscomp$22$$, $value$jscomp$231$$) {
  null != $value$jscomp$231$$ && ($goog$asserts$assert$$(0 <= $value$jscomp$231$$ && 4294967296 > $value$jscomp$231$$), null != $value$jscomp$231$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$(this, $field$jscomp$22$$, 0), $JSCompiler_StaticMethods_writeUnsignedVarint32$$(this.$g$, $value$jscomp$231$$)));
};
var $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint64$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint64$self_JSCompiler_StaticMethods_writeUnsignedVarint64$self$jscomp$inline_6638$$, $field$jscomp$24$$, $value$jscomp$233$$) {
  null != $value$jscomp$233$$ && ($goog$asserts$assert$$(0 <= $value$jscomp$233$$ && 18446744073709551616 > $value$jscomp$233$$), null != $value$jscomp$233$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint64$self_JSCompiler_StaticMethods_writeUnsignedVarint64$self$jscomp$inline_6638$$, $field$jscomp$24$$, 0), $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint64$self_JSCompiler_StaticMethods_writeUnsignedVarint64$self$jscomp$inline_6638$$ = 
  $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint64$self_JSCompiler_StaticMethods_writeUnsignedVarint64$self$jscomp$inline_6638$$.$g$, $goog$asserts$assert$$($value$jscomp$233$$ == Math.floor($value$jscomp$233$$)), $goog$asserts$assert$$(0 <= $value$jscomp$233$$ && 18446744073709551616 > $value$jscomp$233$$), $jspb$utils$splitInt64$$($value$jscomp$233$$), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeSplitVarint64$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint64$self_JSCompiler_StaticMethods_writeUnsignedVarint64$self$jscomp$inline_6638$$, 
  $jspb$utils$split64Low$$, $jspb$utils$split64High$$)));
}, $JSCompiler_StaticMethods_writeUint64String$$ = function($JSCompiler_StaticMethods_writeUint64String$self$$, $field$jscomp$25$$, $num$jscomp$17_value$jscomp$234$$) {
  null != $num$jscomp$17_value$jscomp$234$$ && ($num$jscomp$17_value$jscomp$234$$ = $jspb$arith$UInt64$fromString$$($num$jscomp$17_value$jscomp$234$$), $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeUint64String$self$$, $field$jscomp$25$$, 0), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeSplitVarint64$$($JSCompiler_StaticMethods_writeUint64String$self$$.$g$, $num$jscomp$17_value$jscomp$234$$.$b$, $num$jscomp$17_value$jscomp$234$$.$f$));
}, $JSCompiler_StaticMethods_writeFixed32$$ = function($JSCompiler_StaticMethods_writeFixed32$self$$, $field$jscomp$30$$, $value$jscomp$239$$) {
  null != $value$jscomp$239$$ && ($goog$asserts$assert$$(0 <= $value$jscomp$239$$ && 4294967296 > $value$jscomp$239$$), $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeFixed32$self$$, $field$jscomp$30$$, 5), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$$($JSCompiler_StaticMethods_writeFixed32$self$$.$g$, $value$jscomp$239$$));
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeFloat$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeFloat$self$$, $field$jscomp$36$$, $value$jscomp$245$$) {
  null != $value$jscomp$245$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeFloat$self$$, $field$jscomp$36$$, 5), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeFloat$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeFloat$self$$.$g$, $value$jscomp$245$$));
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeDouble$$ = function($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeDouble$self$jscomp$inline_1380_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeDouble$self$$, $exp$jscomp$inline_6645_field$jscomp$37$$, $sign$jscomp$inline_6642_value$jscomp$246$$) {
  if (null != $sign$jscomp$inline_6642_value$jscomp$246$$) {
    $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeDouble$self$jscomp$inline_1380_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeDouble$self$$, $exp$jscomp$inline_6645_field$jscomp$37$$, 1);
    $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeDouble$self$jscomp$inline_1380_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeDouble$self$$ = $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeDouble$self$jscomp$inline_1380_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeDouble$self$$.$g$;
    $goog$asserts$assert$$(Infinity === $sign$jscomp$inline_6642_value$jscomp$246$$ || -Infinity === $sign$jscomp$inline_6642_value$jscomp$246$$ || isNaN($sign$jscomp$inline_6642_value$jscomp$246$$) || -1.7976931348623157E308 <= $sign$jscomp$inline_6642_value$jscomp$246$$ && 1.7976931348623157e+308 >= $sign$jscomp$inline_6642_value$jscomp$246$$);
    var $mant$jscomp$inline_6643_value$jscomp$inline_6641$$ = $sign$jscomp$inline_6642_value$jscomp$246$$;
    $mant$jscomp$inline_6643_value$jscomp$inline_6641$$ = ($sign$jscomp$inline_6642_value$jscomp$246$$ = 0 > $mant$jscomp$inline_6643_value$jscomp$inline_6641$$ ? 1 : 0) ? -$mant$jscomp$inline_6643_value$jscomp$inline_6641$$ : $mant$jscomp$inline_6643_value$jscomp$inline_6641$$;
    if (0 === $mant$jscomp$inline_6643_value$jscomp$inline_6641$$) {
      $jspb$utils$split64High$$ = 0 < 1 / $mant$jscomp$inline_6643_value$jscomp$inline_6641$$ ? 0 : 2147483648, $jspb$utils$split64Low$$ = 0;
    } else {
      if (isNaN($mant$jscomp$inline_6643_value$jscomp$inline_6641$$)) {
        $jspb$utils$split64High$$ = 2147483647, $jspb$utils$split64Low$$ = 4294967295;
      } else {
        if (1.7976931348623157e+308 < $mant$jscomp$inline_6643_value$jscomp$inline_6641$$) {
          $jspb$utils$split64High$$ = ($sign$jscomp$inline_6642_value$jscomp$246$$ << 31 | 2146435072) >>> 0, $jspb$utils$split64Low$$ = 0;
        } else {
          if (2.2250738585072014e-308 > $mant$jscomp$inline_6643_value$jscomp$inline_6641$$) {
            $mant$jscomp$inline_6643_value$jscomp$inline_6641$$ /= Math.pow(2, -1074), $jspb$utils$split64High$$ = ($sign$jscomp$inline_6642_value$jscomp$246$$ << 31 | $mant$jscomp$inline_6643_value$jscomp$inline_6641$$ / 4294967296) >>> 0, $jspb$utils$split64Low$$ = $mant$jscomp$inline_6643_value$jscomp$inline_6641$$ >>> 0;
          } else {
            var $x$jscomp$inline_6644$$ = $mant$jscomp$inline_6643_value$jscomp$inline_6641$$;
            $exp$jscomp$inline_6645_field$jscomp$37$$ = 0;
            if (2 <= $x$jscomp$inline_6644$$) {
              for (; 2 <= $x$jscomp$inline_6644$$ && 1023 > $exp$jscomp$inline_6645_field$jscomp$37$$;) {
                $exp$jscomp$inline_6645_field$jscomp$37$$++, $x$jscomp$inline_6644$$ /= 2;
              }
            } else {
              for (; 1 > $x$jscomp$inline_6644$$ && -1022 < $exp$jscomp$inline_6645_field$jscomp$37$$;) {
                $x$jscomp$inline_6644$$ *= 2, $exp$jscomp$inline_6645_field$jscomp$37$$--;
              }
            }
            $mant$jscomp$inline_6643_value$jscomp$inline_6641$$ *= Math.pow(2, -$exp$jscomp$inline_6645_field$jscomp$37$$);
            $jspb$utils$split64High$$ = ($sign$jscomp$inline_6642_value$jscomp$246$$ << 31 | $exp$jscomp$inline_6645_field$jscomp$37$$ + 1023 << 20 | 1048576 * $mant$jscomp$inline_6643_value$jscomp$inline_6641$$ & 1048575) >>> 0;
            $jspb$utils$split64Low$$ = 4503599627370496 * $mant$jscomp$inline_6643_value$jscomp$inline_6641$$ >>> 0;
          }
        }
      }
    }
    $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$$($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeDouble$self$jscomp$inline_1380_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeDouble$self$$, $jspb$utils$split64Low$$);
    $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$$($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeDouble$self$jscomp$inline_1380_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeDouble$self$$, $jspb$utils$split64High$$);
  }
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBool$$ = function($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeBool$self$jscomp$inline_1383_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBool$self$$, $field$jscomp$38$$, $value$jscomp$247$$) {
  null != $value$jscomp$247$$ && ($goog$asserts$assert$$("boolean" == typeof $value$jscomp$247$$ || $goog$isNumber$$($value$jscomp$247$$)), $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeBool$self$jscomp$inline_1383_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBool$self$$, $field$jscomp$38$$, 0), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeBool$self$jscomp$inline_1383_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBool$self$$ = 
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeBool$self$jscomp$inline_1383_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBool$self$$.$g$, $goog$asserts$assert$$("boolean" == typeof $value$jscomp$247$$ || $goog$isNumber$$($value$jscomp$247$$)), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeBool$self$jscomp$inline_1383_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBool$self$$.$b$.push($value$jscomp$247$$ ? 1 : 0));
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeEnum$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeEnum$self$$, $field$jscomp$39$$, $value$jscomp$248$$) {
  null != $value$jscomp$248$$ && ($goog$asserts$assert$$(-2147483648 <= $value$jscomp$248$$ && 2147483648 > $value$jscomp$248$$), $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeEnum$self$$, $field$jscomp$39$$, 0), $JSCompiler_StaticMethods_writeSignedVarint32$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeEnum$self$$.$g$, $value$jscomp$248$$));
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$self$$, $bookmark$jscomp$3_field$jscomp$40$$, $value$jscomp$249$$) {
  if (null != $value$jscomp$249$$) {
    $bookmark$jscomp$3_field$jscomp$40$$ = $JSCompiler_StaticMethods_beginDelimited_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$self$$, $bookmark$jscomp$3_field$jscomp$40$$);
    for (var $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1386$$ = $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$self$$.$g$, $i$jscomp$inline_1389$$ = 0; $i$jscomp$inline_1389$$ < $value$jscomp$249$$.length; $i$jscomp$inline_1389$$++) {
      var $c$jscomp$inline_1390$$ = $value$jscomp$249$$.charCodeAt($i$jscomp$inline_1389$$);
      if (128 > $c$jscomp$inline_1390$$) {
        $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1386$$.$b$.push($c$jscomp$inline_1390$$);
      } else {
        if (2048 > $c$jscomp$inline_1390$$) {
          $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1386$$.$b$.push($c$jscomp$inline_1390$$ >> 6 | 192), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1386$$.$b$.push($c$jscomp$inline_1390$$ & 63 | 128);
        } else {
          if (65536 > $c$jscomp$inline_1390$$) {
            if (55296 <= $c$jscomp$inline_1390$$ && 56319 >= $c$jscomp$inline_1390$$ && $i$jscomp$inline_1389$$ + 1 < $value$jscomp$249$$.length) {
              var $second$jscomp$inline_1391$$ = $value$jscomp$249$$.charCodeAt($i$jscomp$inline_1389$$ + 1);
              56320 <= $second$jscomp$inline_1391$$ && 57343 >= $second$jscomp$inline_1391$$ && ($c$jscomp$inline_1390$$ = 1024 * ($c$jscomp$inline_1390$$ - 55296) + $second$jscomp$inline_1391$$ - 56320 + 65536, $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1386$$.$b$.push($c$jscomp$inline_1390$$ >> 18 | 240), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1386$$.$b$.push($c$jscomp$inline_1390$$ >> 12 & 63 | 128), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1386$$.$b$.push($c$jscomp$inline_1390$$ >> 
              6 & 63 | 128), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1386$$.$b$.push($c$jscomp$inline_1390$$ & 63 | 128), $i$jscomp$inline_1389$$++);
            } else {
              $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1386$$.$b$.push($c$jscomp$inline_1390$$ >> 12 | 224), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1386$$.$b$.push($c$jscomp$inline_1390$$ >> 6 & 63 | 128), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1386$$.$b$.push($c$jscomp$inline_1390$$ & 63 | 128);
            }
          }
        }
      }
    }
    $JSCompiler_StaticMethods_endDelimited_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$self$$, $bookmark$jscomp$3_field$jscomp$40$$);
  }
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$, $field$jscomp$41_temp$jscomp$inline_1395$$, $bytes$jscomp$11_value$jscomp$250$$) {
  null != $bytes$jscomp$11_value$jscomp$250$$ && ($bytes$jscomp$11_value$jscomp$250$$ = $jspb$utils$byteSourceToUint8Array$$($bytes$jscomp$11_value$jscomp$250$$), $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$, $field$jscomp$41_temp$jscomp$inline_1395$$, 2), $JSCompiler_StaticMethods_writeUnsignedVarint32$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$.$g$, $bytes$jscomp$11_value$jscomp$250$$.length), 
  $field$jscomp$41_temp$jscomp$inline_1395$$ = $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$.$g$.end(), $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$.$m$.push($field$jscomp$41_temp$jscomp$inline_1395$$), $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$.$m$.push($bytes$jscomp$11_value$jscomp$250$$), $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$.$l$ += $field$jscomp$41_temp$jscomp$inline_1395$$.length + 
  $bytes$jscomp$11_value$jscomp$250$$.length);
};
$jspb$BinaryWriter$$.prototype.$b$ = function($bookmark$jscomp$4_field$jscomp$42$$, $value$jscomp$251$$, $writerCallback$$) {
  null != $value$jscomp$251$$ && ($bookmark$jscomp$4_field$jscomp$42$$ = $JSCompiler_StaticMethods_beginDelimited_$$(this, $bookmark$jscomp$4_field$jscomp$42$$), $writerCallback$$($value$jscomp$251$$, this), $JSCompiler_StaticMethods_endDelimited_$$(this, $bookmark$jscomp$4_field$jscomp$42$$));
};
var $JSCompiler_StaticMethods_writeRepeatedInt32$$ = function($JSCompiler_StaticMethods_writeRepeatedInt32$self$$, $field$jscomp$50$$, $value$jscomp$256$$) {
  if (null != $value$jscomp$256$$) {
    for (var $i$jscomp$124$$ = 0; $i$jscomp$124$$ < $value$jscomp$256$$.length; $i$jscomp$124$$++) {
      var $JSCompiler_StaticMethods_writeSignedVarint32_$self$jscomp$inline_1397$$ = $JSCompiler_StaticMethods_writeRepeatedInt32$self$$, $value$jscomp$inline_1399$$ = $value$jscomp$256$$[$i$jscomp$124$$];
      null != $value$jscomp$inline_1399$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeSignedVarint32_$self$jscomp$inline_1397$$, $field$jscomp$50$$, 0), $JSCompiler_StaticMethods_writeSignedVarint32$$($JSCompiler_StaticMethods_writeSignedVarint32_$self$jscomp$inline_1397$$.$g$, $value$jscomp$inline_1399$$));
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedInt64$$ = function($JSCompiler_StaticMethods_writeRepeatedInt64$self$$, $field$jscomp$52$$, $value$jscomp$258$$) {
  if (null != $value$jscomp$258$$) {
    for (var $i$jscomp$126$$ = 0; $i$jscomp$126$$ < $value$jscomp$258$$.length; $i$jscomp$126$$++) {
      var $JSCompiler_StaticMethods_writeSignedVarint64_$self$jscomp$inline_1401$$ = $JSCompiler_StaticMethods_writeRepeatedInt64$self$$, $value$jscomp$inline_1403$$ = $value$jscomp$258$$[$i$jscomp$126$$];
      null != $value$jscomp$inline_1403$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeSignedVarint64_$self$jscomp$inline_1401$$, $field$jscomp$52$$, 0), $JSCompiler_StaticMethods_writeSignedVarint64$$($JSCompiler_StaticMethods_writeSignedVarint64_$self$jscomp$inline_1401$$.$g$, $value$jscomp$inline_1403$$));
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedUint32$$ = function($JSCompiler_StaticMethods_writeRepeatedUint32$self$$, $field$jscomp$57$$, $value$jscomp$263$$) {
  if (null != $value$jscomp$263$$) {
    for (var $i$jscomp$131$$ = 0; $i$jscomp$131$$ < $value$jscomp$263$$.length; $i$jscomp$131$$++) {
      var $JSCompiler_StaticMethods_writeUnsignedVarint32_$self$jscomp$inline_1405$$ = $JSCompiler_StaticMethods_writeRepeatedUint32$self$$, $value$jscomp$inline_1407$$ = $value$jscomp$263$$[$i$jscomp$131$$];
      null != $value$jscomp$inline_1407$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeUnsignedVarint32_$self$jscomp$inline_1405$$, $field$jscomp$57$$, 0), $JSCompiler_StaticMethods_writeUnsignedVarint32$$($JSCompiler_StaticMethods_writeUnsignedVarint32_$self$jscomp$inline_1405$$.$g$, $value$jscomp$inline_1407$$));
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedFixed32$$ = function($JSCompiler_StaticMethods_writeRepeatedFixed32$self$$, $field$jscomp$65$$, $value$jscomp$271$$) {
  if (null != $value$jscomp$271$$) {
    for (var $i$jscomp$139$$ = 0; $i$jscomp$139$$ < $value$jscomp$271$$.length; $i$jscomp$139$$++) {
      $JSCompiler_StaticMethods_writeFixed32$$($JSCompiler_StaticMethods_writeRepeatedFixed32$self$$, $field$jscomp$65$$, $value$jscomp$271$$[$i$jscomp$139$$]);
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedEnum$$ = function($JSCompiler_StaticMethods_writeRepeatedEnum$self$$, $field$jscomp$74$$, $value$jscomp$280$$) {
  if (null != $value$jscomp$280$$) {
    for (var $i$jscomp$148$$ = 0; $i$jscomp$148$$ < $value$jscomp$280$$.length; $i$jscomp$148$$++) {
      $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeEnum$$($JSCompiler_StaticMethods_writeRepeatedEnum$self$$, $field$jscomp$74$$, $value$jscomp$280$$[$i$jscomp$148$$]);
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedString$$ = function($JSCompiler_StaticMethods_writeRepeatedString$self$$, $field$jscomp$75$$, $value$jscomp$281$$) {
  if (null != $value$jscomp$281$$) {
    for (var $i$jscomp$149$$ = 0; $i$jscomp$149$$ < $value$jscomp$281$$.length; $i$jscomp$149$$++) {
      $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$$($JSCompiler_StaticMethods_writeRepeatedString$self$$, $field$jscomp$75$$, $value$jscomp$281$$[$i$jscomp$149$$]);
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedBytes$$ = function($JSCompiler_StaticMethods_writeRepeatedBytes$self$$, $field$jscomp$76$$, $value$jscomp$282$$) {
  if (null != $value$jscomp$282$$) {
    for (var $i$jscomp$150$$ = 0; $i$jscomp$150$$ < $value$jscomp$282$$.length; $i$jscomp$150$$++) {
      $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$$($JSCompiler_StaticMethods_writeRepeatedBytes$self$$, $field$jscomp$76$$, $value$jscomp$282$$[$i$jscomp$150$$]);
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedMessage$$ = function($JSCompiler_StaticMethods_writeRepeatedMessage$self$$, $field$jscomp$77$$, $value$jscomp$283$$, $writerCallback$jscomp$3$$) {
  if (null != $value$jscomp$283$$) {
    for (var $i$jscomp$151$$ = 0; $i$jscomp$151$$ < $value$jscomp$283$$.length; $i$jscomp$151$$++) {
      var $bookmark$jscomp$6$$ = $JSCompiler_StaticMethods_beginDelimited_$$($JSCompiler_StaticMethods_writeRepeatedMessage$self$$, $field$jscomp$77$$);
      $writerCallback$jscomp$3$$($value$jscomp$283$$[$i$jscomp$151$$], $JSCompiler_StaticMethods_writeRepeatedMessage$self$$);
      $JSCompiler_StaticMethods_endDelimited_$$($JSCompiler_StaticMethods_writeRepeatedMessage$self$$, $bookmark$jscomp$6$$);
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedGroup$$ = function($JSCompiler_StaticMethods_writeRepeatedGroup$self$$, $field$jscomp$78$$, $value$jscomp$284$$, $writerCallback$jscomp$4$$) {
  if (null != $value$jscomp$284$$) {
    for (var $i$jscomp$152$$ = 0; $i$jscomp$152$$ < $value$jscomp$284$$.length; $i$jscomp$152$$++) {
      $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeRepeatedGroup$self$$, $field$jscomp$78$$, 3), $writerCallback$jscomp$4$$($value$jscomp$284$$[$i$jscomp$152$$], $JSCompiler_StaticMethods_writeRepeatedGroup$self$$), $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeRepeatedGroup$self$$, $field$jscomp$78$$, 4);
    }
  }
}, $JSCompiler_StaticMethods_writePackedInt32$$ = function($JSCompiler_StaticMethods_writePackedInt32$self$$, $bookmark$jscomp$7_field$jscomp$81$$, $value$jscomp$287$$) {
  if (null != $value$jscomp$287$$ && $value$jscomp$287$$.length) {
    $bookmark$jscomp$7_field$jscomp$81$$ = $JSCompiler_StaticMethods_beginDelimited_$$($JSCompiler_StaticMethods_writePackedInt32$self$$, $bookmark$jscomp$7_field$jscomp$81$$);
    for (var $i$jscomp$155$$ = 0; $i$jscomp$155$$ < $value$jscomp$287$$.length; $i$jscomp$155$$++) {
      $JSCompiler_StaticMethods_writeSignedVarint32$$($JSCompiler_StaticMethods_writePackedInt32$self$$.$g$, $value$jscomp$287$$[$i$jscomp$155$$]);
    }
    $JSCompiler_StaticMethods_endDelimited_$$($JSCompiler_StaticMethods_writePackedInt32$self$$, $bookmark$jscomp$7_field$jscomp$81$$);
  }
}, $JSCompiler_StaticMethods_writePackedFloat$$ = function($JSCompiler_StaticMethods_writePackedFloat$self$$, $field$jscomp$102_i$jscomp$176$$, $value$jscomp$308$$) {
  if (null != $value$jscomp$308$$ && $value$jscomp$308$$.length) {
    for ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writePackedFloat$self$$, $field$jscomp$102_i$jscomp$176$$, 2), $JSCompiler_StaticMethods_writeUnsignedVarint32$$($JSCompiler_StaticMethods_writePackedFloat$self$$.$g$, 4 * $value$jscomp$308$$.length), $field$jscomp$102_i$jscomp$176$$ = 0; $field$jscomp$102_i$jscomp$176$$ < $value$jscomp$308$$.length; $field$jscomp$102_i$jscomp$176$$++) {
      $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeFloat$$($JSCompiler_StaticMethods_writePackedFloat$self$$.$g$, $value$jscomp$308$$[$field$jscomp$102_i$jscomp$176$$]);
    }
  }
}, $JSCompiler_StaticMethods_writePackedEnum$$ = function($JSCompiler_StaticMethods_writePackedEnum$self$$, $bookmark$jscomp$22_field$jscomp$105$$, $value$jscomp$311$$) {
  if (null != $value$jscomp$311$$ && $value$jscomp$311$$.length) {
    $bookmark$jscomp$22_field$jscomp$105$$ = $JSCompiler_StaticMethods_beginDelimited_$$($JSCompiler_StaticMethods_writePackedEnum$self$$, $bookmark$jscomp$22_field$jscomp$105$$);
    for (var $i$jscomp$179$$ = 0; $i$jscomp$179$$ < $value$jscomp$311$$.length; $i$jscomp$179$$++) {
      var $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeEnum$self$jscomp$inline_1409$$ = $JSCompiler_StaticMethods_writePackedEnum$self$$.$g$, $value$jscomp$inline_1410$$ = $value$jscomp$311$$[$i$jscomp$179$$];
      $goog$asserts$assert$$($value$jscomp$inline_1410$$ == Math.floor($value$jscomp$inline_1410$$));
      $goog$asserts$assert$$(-2147483648 <= $value$jscomp$inline_1410$$ && 2147483648 > $value$jscomp$inline_1410$$);
      $JSCompiler_StaticMethods_writeSignedVarint32$$($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeEnum$self$jscomp$inline_1409$$, $value$jscomp$inline_1410$$);
    }
    $JSCompiler_StaticMethods_endDelimited_$$($JSCompiler_StaticMethods_writePackedEnum$self$$, $bookmark$jscomp$22_field$jscomp$105$$);
  }
};
var $jspb$Map$$ = function($arr$jscomp$69_i$jscomp$inline_1413$$) {
  this.$f$ = $arr$jscomp$69_i$jscomp$inline_1413$$;
  this.$b$ = {};
  this.$g$ = !0;
  if (0 < this.$f$.length) {
    for ($arr$jscomp$69_i$jscomp$inline_1413$$ = 0; $arr$jscomp$69_i$jscomp$inline_1413$$ < this.$f$.length; $arr$jscomp$69_i$jscomp$inline_1413$$++) {
      var $record$jscomp$inline_1414$$ = this.$f$[$arr$jscomp$69_i$jscomp$inline_1413$$], $key$jscomp$inline_1415$$ = $record$jscomp$inline_1414$$[0];
      this.$b$[$key$jscomp$inline_1415$$.toString()] = new $jspb$Map$Entry_$$($key$jscomp$inline_1415$$, $record$jscomp$inline_1414$$[1]);
    }
    this.$g$ = !0;
  }
};
$jspb$Map$$.prototype.$toArray$ = function() {
  var $valueWrapper$$;
  if (!this.$g$) {
    this.$f$.length = 0;
    var $strKeys$$ = $JSCompiler_StaticMethods_stringKeys_$$(this);
    $strKeys$$.sort();
    for (var $i$jscomp$183$$ = 0; $i$jscomp$183$$ < $strKeys$$.length; $i$jscomp$183$$++) {
      var $entry$jscomp$5$$ = this.$b$[$strKeys$$[$i$jscomp$183$$]];
      ($valueWrapper$$ = $entry$jscomp$5$$.$b$) && $valueWrapper$$.$toArray$();
      this.$f$.push([$entry$jscomp$5$$.key, $entry$jscomp$5$$.value]);
    }
    this.$g$ = !0;
  }
  return this.$f$;
};
var $jspb$Map$ArrayIteratorIterable_$$ = function($arr$jscomp$70$$) {
  this.$b$ = 0;
  this.$f$ = $arr$jscomp$70$$;
};
$jspb$Map$ArrayIteratorIterable_$$.prototype.next = function() {
  return this.$b$ < this.$f$.length ? {done:!1, value:this.$f$[this.$b$++]} : {done:!0, value:void 0};
};
"undefined" != typeof Symbol && ($jspb$Map$ArrayIteratorIterable_$$.prototype[Symbol.iterator] = function() {
  return this;
});
$JSCompiler_prototypeAlias$$ = $jspb$Map$$.prototype;
$JSCompiler_prototypeAlias$$.clear = function() {
  this.$b$ = {};
  this.$g$ = !1;
};
$JSCompiler_prototypeAlias$$.entries = function() {
  var $entries$jscomp$3$$ = [], $strKeys$jscomp$2$$ = $JSCompiler_StaticMethods_stringKeys_$$(this);
  $strKeys$jscomp$2$$.sort();
  for (var $i$jscomp$187$$ = 0; $i$jscomp$187$$ < $strKeys$jscomp$2$$.length; $i$jscomp$187$$++) {
    var $entry$jscomp$8$$ = this.$b$[$strKeys$jscomp$2$$[$i$jscomp$187$$]];
    $entries$jscomp$3$$.push([$entry$jscomp$8$$.key, $entry$jscomp$8$$.value]);
  }
  return new $jspb$Map$ArrayIteratorIterable_$$($entries$jscomp$3$$);
};
$JSCompiler_prototypeAlias$$.keys = function() {
  var $keys$jscomp$3$$ = [], $strKeys$jscomp$3$$ = $JSCompiler_StaticMethods_stringKeys_$$(this);
  $strKeys$jscomp$3$$.sort();
  for (var $i$jscomp$188$$ = 0; $i$jscomp$188$$ < $strKeys$jscomp$3$$.length; $i$jscomp$188$$++) {
    $keys$jscomp$3$$.push(this.$b$[$strKeys$jscomp$3$$[$i$jscomp$188$$]].key);
  }
  return new $jspb$Map$ArrayIteratorIterable_$$($keys$jscomp$3$$);
};
$JSCompiler_prototypeAlias$$.values = function() {
  var $values$jscomp$15$$ = [], $strKeys$jscomp$4$$ = $JSCompiler_StaticMethods_stringKeys_$$(this);
  $strKeys$jscomp$4$$.sort();
  for (var $i$jscomp$189$$ = 0; $i$jscomp$189$$ < $strKeys$jscomp$4$$.length; $i$jscomp$189$$++) {
    $values$jscomp$15$$.push(this.$b$[$strKeys$jscomp$4$$[$i$jscomp$189$$]].value);
  }
  return new $jspb$Map$ArrayIteratorIterable_$$($values$jscomp$15$$);
};
$JSCompiler_prototypeAlias$$.forEach = function($cb$jscomp$1$$, $opt_thisArg$jscomp$9$$) {
  var $strKeys$jscomp$5$$ = $JSCompiler_StaticMethods_stringKeys_$$(this);
  $strKeys$jscomp$5$$.sort();
  for (var $i$jscomp$190$$ = 0; $i$jscomp$190$$ < $strKeys$jscomp$5$$.length; $i$jscomp$190$$++) {
    var $entry$jscomp$11$$ = this.$b$[$strKeys$jscomp$5$$[$i$jscomp$190$$]];
    $cb$jscomp$1$$.call($opt_thisArg$jscomp$9$$, $entry$jscomp$11$$.value, $entry$jscomp$11$$.key, this);
  }
};
$JSCompiler_prototypeAlias$$.set = function($key$jscomp$107$$, $value$jscomp$316$$) {
  var $entry$jscomp$12$$ = new $jspb$Map$Entry_$$($key$jscomp$107$$);
  $entry$jscomp$12$$.value = $value$jscomp$316$$;
  this.$b$[$key$jscomp$107$$.toString()] = $entry$jscomp$12$$;
  this.$g$ = !1;
  return this;
};
$JSCompiler_prototypeAlias$$.get = function($entry$jscomp$14_key$jscomp$108$$) {
  if ($entry$jscomp$14_key$jscomp$108$$ = this.$b$[$entry$jscomp$14_key$jscomp$108$$.toString()]) {
    return $entry$jscomp$14_key$jscomp$108$$.value;
  }
};
$JSCompiler_prototypeAlias$$.has = function($key$jscomp$109$$) {
  return $key$jscomp$109$$.toString() in this.$b$;
};
$JSCompiler_prototypeAlias$$.$serializeBinary$ = function($fieldNumber$$, $writer$$, $keyWriterFn$$, $valueWriterFn$$) {
  var $strKeys$jscomp$6$$ = $JSCompiler_StaticMethods_stringKeys_$$(this);
  $strKeys$jscomp$6$$.sort();
  for (var $i$jscomp$191$$ = 0; $i$jscomp$191$$ < $strKeys$jscomp$6$$.length; $i$jscomp$191$$++) {
    var $JSCompiler_StaticMethods_endSubMessage$self$jscomp$inline_1420_entry$jscomp$15$$ = this.$b$[$strKeys$jscomp$6$$[$i$jscomp$191$$]];
    $writer$$.$o$.push($JSCompiler_StaticMethods_beginDelimited_$$($writer$$, $fieldNumber$$));
    $keyWriterFn$$.call($writer$$, 1, $JSCompiler_StaticMethods_endSubMessage$self$jscomp$inline_1420_entry$jscomp$15$$.key);
    $valueWriterFn$$.call($writer$$, 2, $JSCompiler_StaticMethods_endSubMessage$self$jscomp$inline_1420_entry$jscomp$15$$.value);
    $JSCompiler_StaticMethods_endSubMessage$self$jscomp$inline_1420_entry$jscomp$15$$ = $writer$$;
    $goog$asserts$assert$$(0 <= $JSCompiler_StaticMethods_endSubMessage$self$jscomp$inline_1420_entry$jscomp$15$$.$o$.length);
    $JSCompiler_StaticMethods_endDelimited_$$($JSCompiler_StaticMethods_endSubMessage$self$jscomp$inline_1420_entry$jscomp$15$$, $JSCompiler_StaticMethods_endSubMessage$self$jscomp$inline_1420_entry$jscomp$15$$.$o$.pop());
  }
};
var $JSCompiler_StaticMethods_stringKeys_$$ = function($JSCompiler_StaticMethods_stringKeys_$self_m$jscomp$2$$) {
  $JSCompiler_StaticMethods_stringKeys_$self_m$jscomp$2$$ = $JSCompiler_StaticMethods_stringKeys_$self_m$jscomp$2$$.$b$;
  var $ret$jscomp$3$$ = [], $p$jscomp$7$$;
  for ($p$jscomp$7$$ in $JSCompiler_StaticMethods_stringKeys_$self_m$jscomp$2$$) {
    Object.prototype.hasOwnProperty.call($JSCompiler_StaticMethods_stringKeys_$self_m$jscomp$2$$, $p$jscomp$7$$) && $ret$jscomp$3$$.push($p$jscomp$7$$);
  }
  return $ret$jscomp$3$$;
}, $jspb$Map$Entry_$$ = function($key$jscomp$111$$, $opt_value$jscomp$30$$) {
  this.key = $key$jscomp$111$$;
  this.value = $opt_value$jscomp$30$$;
  this.$b$ = void 0;
};
var $jspb$Message$$ = function() {
}, $jspb$Message$SUPPORTS_UINT8ARRAY_$$ = "function" == typeof Uint8Array, $jspb$Message$initialize$$ = function($msg$jscomp$24$$, $data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$, $messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$, $i$jscomp$192_suggestedPivot$$, $repeatedFields$$, $opt_oneofFields$$) {
  $msg$jscomp$24$$.$b$ = null;
  $data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$ || ($data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$ = $messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$ ? [$messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$] : []);
  $msg$jscomp$24$$.$messageId_$ = $messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$ ? String($messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$) : void 0;
  $msg$jscomp$24$$.$l$ = 0 === $messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$ ? -1 : 0;
  $msg$jscomp$24$$.$f$ = $data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$;
  a: {
    $messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$ = $msg$jscomp$24$$.$f$.length;
    $data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$ = -1;
    if ($messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$ && ($data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$ = $messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$ - 1, $messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$ = $msg$jscomp$24$$.$f$[$data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$], !(null === $messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$ || "object" != typeof $messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$ || 
    $goog$isArray$$($messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$) || $jspb$Message$SUPPORTS_UINT8ARRAY_$$ && $messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$ instanceof Uint8Array))) {
      $msg$jscomp$24$$.$o$ = $data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$ - $msg$jscomp$24$$.$l$;
      $msg$jscomp$24$$.$g$ = $messageId_msgLength$jscomp$inline_1424_obj$jscomp$inline_1426$$;
      break a;
    }
    -1 < $i$jscomp$192_suggestedPivot$$ ? ($msg$jscomp$24$$.$o$ = Math.max($i$jscomp$192_suggestedPivot$$, $data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$ + 1 - $msg$jscomp$24$$.$l$), $msg$jscomp$24$$.$g$ = null) : $msg$jscomp$24$$.$o$ = Number.MAX_VALUE;
  }
  $msg$jscomp$24$$.$C$ = {};
  if ($repeatedFields$$) {
    for ($i$jscomp$192_suggestedPivot$$ = 0; $i$jscomp$192_suggestedPivot$$ < $repeatedFields$$.length; $i$jscomp$192_suggestedPivot$$++) {
      $data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$ = $repeatedFields$$[$i$jscomp$192_suggestedPivot$$], $data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$ < $msg$jscomp$24$$.$o$ ? ($data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$ += $msg$jscomp$24$$.$l$, $msg$jscomp$24$$.$f$[$data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$] = $msg$jscomp$24$$.$f$[$data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$] || 
      $jspb$Message$EMPTY_LIST_SENTINEL_$$) : ($jspb$Message$maybeInitEmptyExtensionObject_$$($msg$jscomp$24$$), $msg$jscomp$24$$.$g$[$data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$] = $msg$jscomp$24$$.$g$[$data$jscomp$76_fieldNumber$jscomp$3_index$jscomp$87_lastIndex$jscomp$inline_1425$$] || $jspb$Message$EMPTY_LIST_SENTINEL_$$);
    }
  }
  if ($opt_oneofFields$$ && $opt_oneofFields$$.length) {
    for ($i$jscomp$192_suggestedPivot$$ = 0; $i$jscomp$192_suggestedPivot$$ < $opt_oneofFields$$.length; $i$jscomp$192_suggestedPivot$$++) {
      $jspb$Message$computeOneofCase$$($msg$jscomp$24$$, $opt_oneofFields$$[$i$jscomp$192_suggestedPivot$$]);
    }
  }
}, $jspb$Message$EMPTY_LIST_SENTINEL_$$ = Object.freeze ? Object.freeze([]) : [], $jspb$Message$maybeInitEmptyExtensionObject_$$ = function($msg$jscomp$26$$) {
  var $pivotIndex$$ = $msg$jscomp$26$$.$o$ + $msg$jscomp$26$$.$l$;
  $msg$jscomp$26$$.$f$[$pivotIndex$$] || ($msg$jscomp$26$$.$g$ = $msg$jscomp$26$$.$f$[$pivotIndex$$] = {});
}, $jspb$Message$serializeBinaryExtensions$$ = function($proto$jscomp$9$$, $writer$jscomp$1$$, $extensions$jscomp$1$$, $getExtensionFn$jscomp$1$$) {
  for (var $fieldNumber$jscomp$5$$ in $extensions$jscomp$1$$) {
    var $binaryFieldInfo$$ = $extensions$jscomp$1$$[$fieldNumber$jscomp$5$$], $fieldInfo$jscomp$2$$ = $binaryFieldInfo$$.$fieldInfo$;
    if (!$binaryFieldInfo$$.$binaryWriterFn$) {
      throw Error("Message extension present that was generated without binary serialization support");
    }
    var $value$jscomp$319$$ = $getExtensionFn$jscomp$1$$.call($proto$jscomp$9$$, $fieldInfo$jscomp$2$$);
    if (null != $value$jscomp$319$$) {
      if ($fieldInfo$jscomp$2$$.$ctor$) {
        if ($binaryFieldInfo$$.$binaryMessageSerializeFn$) {
          $binaryFieldInfo$$.$binaryWriterFn$.call($writer$jscomp$1$$, $fieldInfo$jscomp$2$$.$fieldIndex$, $value$jscomp$319$$, $binaryFieldInfo$$.$binaryMessageSerializeFn$);
        } else {
          throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");
        }
      } else {
        $binaryFieldInfo$$.$binaryWriterFn$.call($writer$jscomp$1$$, $fieldInfo$jscomp$2$$.$fieldIndex$, $value$jscomp$319$$);
      }
    }
  }
}, $jspb$Message$getField$$ = function($msg$jscomp$29$$, $fieldNumber$jscomp$7_index$jscomp$88$$) {
  if ($fieldNumber$jscomp$7_index$jscomp$88$$ < $msg$jscomp$29$$.$o$) {
    $fieldNumber$jscomp$7_index$jscomp$88$$ += $msg$jscomp$29$$.$l$;
    var $val$jscomp$29$$ = $msg$jscomp$29$$.$f$[$fieldNumber$jscomp$7_index$jscomp$88$$];
    return $val$jscomp$29$$ === $jspb$Message$EMPTY_LIST_SENTINEL_$$ ? $msg$jscomp$29$$.$f$[$fieldNumber$jscomp$7_index$jscomp$88$$] = [] : $val$jscomp$29$$;
  }
  if ($msg$jscomp$29$$.$g$) {
    return $val$jscomp$29$$ = $msg$jscomp$29$$.$g$[$fieldNumber$jscomp$7_index$jscomp$88$$], $val$jscomp$29$$ === $jspb$Message$EMPTY_LIST_SENTINEL_$$ ? $msg$jscomp$29$$.$g$[$fieldNumber$jscomp$7_index$jscomp$88$$] = [] : $val$jscomp$29$$;
  }
}, $jspb$Message$getOptionalFloatingPointField$$ = function($msg$jscomp$31_value$jscomp$321$$, $fieldNumber$jscomp$9$$) {
  $msg$jscomp$31_value$jscomp$321$$ = $jspb$Message$getField$$($msg$jscomp$31_value$jscomp$321$$, $fieldNumber$jscomp$9$$);
  return null == $msg$jscomp$31_value$jscomp$321$$ ? $msg$jscomp$31_value$jscomp$321$$ : +$msg$jscomp$31_value$jscomp$321$$;
}, $jspb$Message$getBooleanField$$ = function($msg$jscomp$32_value$jscomp$322$$, $fieldNumber$jscomp$10$$) {
  $msg$jscomp$32_value$jscomp$322$$ = $jspb$Message$getField$$($msg$jscomp$32_value$jscomp$322$$, $fieldNumber$jscomp$10$$);
  return null == $msg$jscomp$32_value$jscomp$322$$ ? $msg$jscomp$32_value$jscomp$322$$ : !!$msg$jscomp$32_value$jscomp$322$$;
}, $jspb$Message$getRepeatedFloatingPointField$$ = function($msg$jscomp$33$$, $fieldNumber$jscomp$11$$) {
  var $values$jscomp$16$$ = $jspb$Message$getField$$($msg$jscomp$33$$, $fieldNumber$jscomp$11$$);
  $msg$jscomp$33$$.$C$ || ($msg$jscomp$33$$.$C$ = {});
  if (!$msg$jscomp$33$$.$C$[$fieldNumber$jscomp$11$$]) {
    for (var $i$jscomp$194$$ = 0; $i$jscomp$194$$ < $values$jscomp$16$$.length; $i$jscomp$194$$++) {
      $values$jscomp$16$$[$i$jscomp$194$$] = +$values$jscomp$16$$[$i$jscomp$194$$];
    }
    $msg$jscomp$33$$.$C$[$fieldNumber$jscomp$11$$] = !0;
  }
  return $values$jscomp$16$$;
}, $jspb$Message$bytesAsU8$$ = function($value$jscomp$324$$) {
  if (null == $value$jscomp$324$$ || $value$jscomp$324$$ instanceof Uint8Array) {
    return $value$jscomp$324$$;
  }
  if ($goog$isString$$($value$jscomp$324$$)) {
    return $goog$crypt$base64$decodeStringToUint8Array$$($value$jscomp$324$$);
  }
  $goog$asserts$fail$$("Cannot coerce to Uint8Array: " + $goog$typeOf$$($value$jscomp$324$$));
  return null;
}, $jspb$Message$bytesListAsU8$$ = function($value$jscomp$326$$) {
  $jspb$Message$assertConsistentTypes_$$($value$jscomp$326$$);
  return !$value$jscomp$326$$.length || $value$jscomp$326$$[0] instanceof Uint8Array ? $value$jscomp$326$$ : $goog$array$map$$($value$jscomp$326$$, $jspb$Message$bytesAsU8$$);
}, $jspb$Message$assertConsistentTypes_$$ = function($array$jscomp$16$$) {
  if ($array$jscomp$16$$ && 1 < $array$jscomp$16$$.length) {
    var $expected$$ = $goog$typeOf$$($array$jscomp$16$$[0]);
    $goog$array$forEach$$($array$jscomp$16$$, function($e$jscomp$39$$) {
      $goog$typeOf$$($e$jscomp$39$$) != $expected$$ && $goog$asserts$fail$$("Inconsistent type in JSPB repeated field array. Got " + $goog$typeOf$$($e$jscomp$39$$) + " expected " + $expected$$);
    });
  }
}, $jspb$Message$getFieldWithDefault$$ = function($msg$jscomp$35_value$jscomp$327$$, $fieldNumber$jscomp$13$$, $defaultValue$jscomp$3$$) {
  $msg$jscomp$35_value$jscomp$327$$ = $jspb$Message$getField$$($msg$jscomp$35_value$jscomp$327$$, $fieldNumber$jscomp$13$$);
  return null == $msg$jscomp$35_value$jscomp$327$$ ? $defaultValue$jscomp$3$$ : $msg$jscomp$35_value$jscomp$327$$;
}, $jspb$Message$getBooleanFieldWithDefault$$ = function($msg$jscomp$36_value$jscomp$328$$, $fieldNumber$jscomp$14$$, $defaultValue$jscomp$4$$) {
  $msg$jscomp$36_value$jscomp$328$$ = $jspb$Message$getBooleanField$$($msg$jscomp$36_value$jscomp$328$$, $fieldNumber$jscomp$14$$);
  return null == $msg$jscomp$36_value$jscomp$328$$ ? $defaultValue$jscomp$4$$ : $msg$jscomp$36_value$jscomp$328$$;
}, $jspb$Message$getFloatingPointFieldWithDefault$$ = function($msg$jscomp$37_value$jscomp$329$$, $fieldNumber$jscomp$15$$) {
  $msg$jscomp$37_value$jscomp$329$$ = $jspb$Message$getOptionalFloatingPointField$$($msg$jscomp$37_value$jscomp$329$$, $fieldNumber$jscomp$15$$);
  return null == $msg$jscomp$37_value$jscomp$329$$ ? 0.0 : $msg$jscomp$37_value$jscomp$329$$;
}, $jspb$Message$setField$$ = function($msg$jscomp$39$$, $fieldNumber$jscomp$17$$, $value$jscomp$330$$) {
  $goog$asserts$assertInstanceof$$($msg$jscomp$39$$, $jspb$Message$$);
  $fieldNumber$jscomp$17$$ < $msg$jscomp$39$$.$o$ ? $msg$jscomp$39$$.$f$[$fieldNumber$jscomp$17$$ + $msg$jscomp$39$$.$l$] = $value$jscomp$330$$ : ($jspb$Message$maybeInitEmptyExtensionObject_$$($msg$jscomp$39$$), $msg$jscomp$39$$.$g$[$fieldNumber$jscomp$17$$] = $value$jscomp$330$$);
  return $msg$jscomp$39$$;
}, $jspb$Message$setProto3StringField$$ = function($msg$jscomp$43$$, $fieldNumber$jscomp$21$$, $value$jscomp$334$$) {
  return $jspb$Message$setFieldIgnoringDefault_$$($msg$jscomp$43$$, $fieldNumber$jscomp$21$$, $value$jscomp$334$$, "");
}, $jspb$Message$setProto3EnumField$$ = function($msg$jscomp$45$$, $fieldNumber$jscomp$23$$, $value$jscomp$336$$) {
  $jspb$Message$setFieldIgnoringDefault_$$($msg$jscomp$45$$, $fieldNumber$jscomp$23$$, $value$jscomp$336$$, 0);
}, $jspb$Message$setFieldIgnoringDefault_$$ = function($msg$jscomp$47$$, $fieldNumber$jscomp$25$$, $value$jscomp$338$$, $defaultValue$jscomp$6$$) {
  $goog$asserts$assertInstanceof$$($msg$jscomp$47$$, $jspb$Message$$);
  $value$jscomp$338$$ !== $defaultValue$jscomp$6$$ ? $jspb$Message$setField$$($msg$jscomp$47$$, $fieldNumber$jscomp$25$$, $value$jscomp$338$$) : $msg$jscomp$47$$.$f$[$fieldNumber$jscomp$25$$ + $msg$jscomp$47$$.$l$] = null;
  return $msg$jscomp$47$$;
}, $jspb$Message$computeOneofCase$$ = function($msg$jscomp$50$$, $oneof$jscomp$1$$) {
  for (var $oneofField$$, $oneofValue$$, $i$jscomp$196$$ = 0; $i$jscomp$196$$ < $oneof$jscomp$1$$.length; $i$jscomp$196$$++) {
    var $fieldNumber$jscomp$28$$ = $oneof$jscomp$1$$[$i$jscomp$196$$], $value$jscomp$341$$ = $jspb$Message$getField$$($msg$jscomp$50$$, $fieldNumber$jscomp$28$$);
    null != $value$jscomp$341$$ && ($oneofField$$ = $fieldNumber$jscomp$28$$, $oneofValue$$ = $value$jscomp$341$$, $jspb$Message$setField$$($msg$jscomp$50$$, $fieldNumber$jscomp$28$$, void 0));
  }
  return $oneofField$$ ? ($jspb$Message$setField$$($msg$jscomp$50$$, $oneofField$$, $oneofValue$$), $oneofField$$) : 0;
}, $jspb$Message$getWrapperField$$ = function($msg$jscomp$51$$, $ctor$jscomp$5$$, $fieldNumber$jscomp$29$$, $opt_required$$) {
  $msg$jscomp$51$$.$b$ || ($msg$jscomp$51$$.$b$ = {});
  if (!$msg$jscomp$51$$.$b$[$fieldNumber$jscomp$29$$]) {
    var $data$jscomp$77$$ = $jspb$Message$getField$$($msg$jscomp$51$$, $fieldNumber$jscomp$29$$);
    if ($opt_required$$ || $data$jscomp$77$$) {
      $msg$jscomp$51$$.$b$[$fieldNumber$jscomp$29$$] = new $ctor$jscomp$5$$($data$jscomp$77$$);
    }
  }
  return $msg$jscomp$51$$.$b$[$fieldNumber$jscomp$29$$];
}, $jspb$Message$getRepeatedWrapperField$$ = function($msg$jscomp$52$$, $ctor$jscomp$6_val$jscomp$30$$, $fieldNumber$jscomp$30$$) {
  $jspb$Message$wrapRepeatedField_$$($msg$jscomp$52$$, $ctor$jscomp$6_val$jscomp$30$$, $fieldNumber$jscomp$30$$);
  $ctor$jscomp$6_val$jscomp$30$$ = $msg$jscomp$52$$.$b$[$fieldNumber$jscomp$30$$];
  $ctor$jscomp$6_val$jscomp$30$$ == $jspb$Message$EMPTY_LIST_SENTINEL_$$ && ($ctor$jscomp$6_val$jscomp$30$$ = $msg$jscomp$52$$.$b$[$fieldNumber$jscomp$30$$] = []);
  return $ctor$jscomp$6_val$jscomp$30$$;
}, $jspb$Message$wrapRepeatedField_$$ = function($msg$jscomp$53$$, $ctor$jscomp$7$$, $fieldNumber$jscomp$31$$) {
  $msg$jscomp$53$$.$b$ || ($msg$jscomp$53$$.$b$ = {});
  if (!$msg$jscomp$53$$.$b$[$fieldNumber$jscomp$31$$]) {
    for (var $data$jscomp$78$$ = $jspb$Message$getField$$($msg$jscomp$53$$, $fieldNumber$jscomp$31$$), $wrappers$$ = [], $i$jscomp$197$$ = 0; $i$jscomp$197$$ < $data$jscomp$78$$.length; $i$jscomp$197$$++) {
      $wrappers$$[$i$jscomp$197$$] = new $ctor$jscomp$7$$($data$jscomp$78$$[$i$jscomp$197$$]);
    }
    $msg$jscomp$53$$.$b$[$fieldNumber$jscomp$31$$] = $wrappers$$;
  }
}, $jspb$Message$setWrapperField$$ = function($msg$jscomp$54$$, $fieldNumber$jscomp$32$$, $value$jscomp$342$$) {
  $goog$asserts$assertInstanceof$$($msg$jscomp$54$$, $jspb$Message$$);
  $msg$jscomp$54$$.$b$ || ($msg$jscomp$54$$.$b$ = {});
  var $data$jscomp$79$$ = $value$jscomp$342$$ ? $value$jscomp$342$$.$toArray$() : $value$jscomp$342$$;
  $msg$jscomp$54$$.$b$[$fieldNumber$jscomp$32$$] = $value$jscomp$342$$;
  return $jspb$Message$setField$$($msg$jscomp$54$$, $fieldNumber$jscomp$32$$, $data$jscomp$79$$);
}, $jspb$Message$setOneofWrapperField$$ = function($msg$jscomp$55$$, $fieldNumber$jscomp$33$$, $currentCase$jscomp$inline_1432_value$jscomp$343$$) {
  var $oneof$jscomp$2$$ = $proto$communication$meetings$captions$CaptionsEvent$oneofGroups_$$[0];
  $goog$asserts$assertInstanceof$$($msg$jscomp$55$$, $jspb$Message$$);
  $msg$jscomp$55$$.$b$ || ($msg$jscomp$55$$.$b$ = {});
  var $data$jscomp$80$$ = $currentCase$jscomp$inline_1432_value$jscomp$343$$ ? $currentCase$jscomp$inline_1432_value$jscomp$343$$.$toArray$() : $currentCase$jscomp$inline_1432_value$jscomp$343$$;
  $msg$jscomp$55$$.$b$[$fieldNumber$jscomp$33$$] = $currentCase$jscomp$inline_1432_value$jscomp$343$$;
  $goog$asserts$assertInstanceof$$($msg$jscomp$55$$, $jspb$Message$$);
  ($currentCase$jscomp$inline_1432_value$jscomp$343$$ = $jspb$Message$computeOneofCase$$($msg$jscomp$55$$, $oneof$jscomp$2$$)) && $currentCase$jscomp$inline_1432_value$jscomp$343$$ !== $fieldNumber$jscomp$33$$ && void 0 !== $data$jscomp$80$$ && ($msg$jscomp$55$$.$b$ && $currentCase$jscomp$inline_1432_value$jscomp$343$$ in $msg$jscomp$55$$.$b$ && ($msg$jscomp$55$$.$b$[$currentCase$jscomp$inline_1432_value$jscomp$343$$] = void 0), $jspb$Message$setField$$($msg$jscomp$55$$, $currentCase$jscomp$inline_1432_value$jscomp$343$$, 
  void 0));
  $jspb$Message$setField$$($msg$jscomp$55$$, $fieldNumber$jscomp$33$$, $data$jscomp$80$$);
}, $jspb$Message$setRepeatedWrapperField$$ = function($msg$jscomp$56$$, $fieldNumber$jscomp$34$$, $value$jscomp$344$$) {
  $goog$asserts$assertInstanceof$$($msg$jscomp$56$$, $jspb$Message$$);
  $msg$jscomp$56$$.$b$ || ($msg$jscomp$56$$.$b$ = {});
  $value$jscomp$344$$ = $value$jscomp$344$$ || [];
  for (var $data$jscomp$81$$ = [], $i$jscomp$198$$ = 0; $i$jscomp$198$$ < $value$jscomp$344$$.length; $i$jscomp$198$$++) {
    $data$jscomp$81$$[$i$jscomp$198$$] = $value$jscomp$344$$[$i$jscomp$198$$].$toArray$();
  }
  $msg$jscomp$56$$.$b$[$fieldNumber$jscomp$34$$] = $value$jscomp$344$$;
  return $jspb$Message$setField$$($msg$jscomp$56$$, $fieldNumber$jscomp$34$$, $data$jscomp$81$$);
}, $jspb$Message$addToRepeatedWrapperField$$ = function($array$jscomp$17_msg$jscomp$57$$, $fieldNumber$jscomp$35$$, $insertedValue_value$jscomp$345$$, $ctor$jscomp$8$$, $index$jscomp$89$$) {
  $jspb$Message$wrapRepeatedField_$$($array$jscomp$17_msg$jscomp$57$$, $ctor$jscomp$8$$, $fieldNumber$jscomp$35$$);
  var $wrapperArray$$ = $array$jscomp$17_msg$jscomp$57$$.$b$[$fieldNumber$jscomp$35$$];
  $wrapperArray$$ || ($wrapperArray$$ = $array$jscomp$17_msg$jscomp$57$$.$b$[$fieldNumber$jscomp$35$$] = []);
  $insertedValue_value$jscomp$345$$ = $insertedValue_value$jscomp$345$$ ? $insertedValue_value$jscomp$345$$ : new $ctor$jscomp$8$$;
  $array$jscomp$17_msg$jscomp$57$$ = $jspb$Message$getField$$($array$jscomp$17_msg$jscomp$57$$, $fieldNumber$jscomp$35$$);
  void 0 != $index$jscomp$89$$ ? ($wrapperArray$$.splice($index$jscomp$89$$, 0, $insertedValue_value$jscomp$345$$), $array$jscomp$17_msg$jscomp$57$$.splice($index$jscomp$89$$, 0, $insertedValue_value$jscomp$345$$.$toArray$())) : ($wrapperArray$$.push($insertedValue_value$jscomp$345$$), $array$jscomp$17_msg$jscomp$57$$.push($insertedValue_value$jscomp$345$$.$toArray$()));
  return $insertedValue_value$jscomp$345$$;
}, $JSCompiler_StaticMethods_syncMapFields_$$ = function($JSCompiler_StaticMethods_syncMapFields_$self$$) {
  if ($JSCompiler_StaticMethods_syncMapFields_$self$$.$b$) {
    for (var $fieldNumber$jscomp$36$$ in $JSCompiler_StaticMethods_syncMapFields_$self$$.$b$) {
      var $val$jscomp$31$$ = $JSCompiler_StaticMethods_syncMapFields_$self$$.$b$[$fieldNumber$jscomp$36$$];
      if ($goog$isArray$$($val$jscomp$31$$)) {
        for (var $i$jscomp$200$$ = 0; $i$jscomp$200$$ < $val$jscomp$31$$.length; $i$jscomp$200$$++) {
          $val$jscomp$31$$[$i$jscomp$200$$] && $val$jscomp$31$$[$i$jscomp$200$$].$toArray$();
        }
      } else {
        $val$jscomp$31$$ && $val$jscomp$31$$.$toArray$();
      }
    }
  }
};
$jspb$Message$$.prototype.$toArray$ = function() {
  $JSCompiler_StaticMethods_syncMapFields_$$(this);
  return this.$f$;
};
$jspb$Message$$.prototype.$serialize$ = $jspb$Message$SUPPORTS_UINT8ARRAY_$$ ? function() {
  var $old_toJSON$$ = Uint8Array.prototype.toJSON;
  Uint8Array.prototype.toJSON = function() {
    return $goog$crypt$base64$encodeByteArray$$(this);
  };
  try {
    return JSON.stringify(this.$f$ && this.$toArray$(), $jspb$Message$serializeSpecialNumbers_$$);
  } finally {
    Uint8Array.prototype.toJSON = $old_toJSON$$;
  }
} : function() {
  return JSON.stringify(this.$f$ && this.$toArray$(), $jspb$Message$serializeSpecialNumbers_$$);
};
var $jspb$Message$serializeSpecialNumbers_$$ = function($key$jscomp$113$$, $value$jscomp$348$$) {
  return $goog$isNumber$$($value$jscomp$348$$) && (isNaN($value$jscomp$348$$) || Infinity === $value$jscomp$348$$ || -Infinity === $value$jscomp$348$$) ? String($value$jscomp$348$$) : $value$jscomp$348$$;
};
$jspb$Message$$.prototype.toString = function() {
  $JSCompiler_StaticMethods_syncMapFields_$$(this);
  return this.$f$.toString();
};
$jspb$Message$$.prototype.$m$ = function($fieldInfo$jscomp$5$$) {
  if (this.$g$) {
    return this.$b$ || (this.$b$ = {}), $fieldInfo$jscomp$5$$.$ctor$ ? (!this.$b$[175237375] && this.$g$[175237375] && (this.$b$[175237375] = new $fieldInfo$jscomp$5$$.$ctor$(this.$g$[175237375])), this.$b$[175237375]) : this.$g$[175237375];
  }
};
var $jspb$Message$compareExtensions$$ = function($extension1$$, $extension2$$) {
  $extension1$$ = $extension1$$ || {};
  $extension2$$ = $extension2$$ || {};
  var $keys$jscomp$4$$ = {}, $name$jscomp$161$$;
  for ($name$jscomp$161$$ in $extension1$$) {
    $keys$jscomp$4$$[$name$jscomp$161$$] = 0;
  }
  for ($name$jscomp$161$$ in $extension2$$) {
    $keys$jscomp$4$$[$name$jscomp$161$$] = 0;
  }
  for ($name$jscomp$161$$ in $keys$jscomp$4$$) {
    if (!$jspb$Message$compareFields$$($extension1$$[$name$jscomp$161$$], $extension2$$[$name$jscomp$161$$])) {
      return !1;
    }
  }
  return !0;
}, $jspb$Message$compareFields$$ = function($field1$$, $field2$$) {
  if ($field1$$ == $field2$$) {
    return !0;
  }
  if (!$goog$isObject$$($field1$$) || !$goog$isObject$$($field2$$)) {
    return $goog$isNumber$$($field1$$) && isNaN($field1$$) || $goog$isNumber$$($field2$$) && isNaN($field2$$) ? String($field1$$) == String($field2$$) : !1;
  }
  if ($field1$$.constructor != $field2$$.constructor) {
    return !1;
  }
  if ($jspb$Message$SUPPORTS_UINT8ARRAY_$$ && $field1$$.constructor === Uint8Array) {
    if ($field1$$.length != $field2$$.length) {
      return !1;
    }
    for (var $i$jscomp$203$$ = 0; $i$jscomp$203$$ < $field1$$.length; $i$jscomp$203$$++) {
      if ($field1$$[$i$jscomp$203$$] != $field2$$[$i$jscomp$203$$]) {
        return !1;
      }
    }
    return !0;
  }
  if ($field1$$.constructor === Array) {
    var $extension1$jscomp$1$$ = void 0, $extension2$jscomp$1$$ = void 0, $length$jscomp$39$$ = Math.max($field1$$.length, $field2$$.length);
    for ($i$jscomp$203$$ = 0; $i$jscomp$203$$ < $length$jscomp$39$$; $i$jscomp$203$$++) {
      var $val1$$ = $field1$$[$i$jscomp$203$$], $val2$$ = $field2$$[$i$jscomp$203$$];
      $val1$$ && $val1$$.constructor == Object && ($goog$asserts$assert$$(void 0 === $extension1$jscomp$1$$), $goog$asserts$assert$$($i$jscomp$203$$ === $field1$$.length - 1), $extension1$jscomp$1$$ = $val1$$, $val1$$ = void 0);
      $val2$$ && $val2$$.constructor == Object && ($goog$asserts$assert$$(void 0 === $extension2$jscomp$1$$), $goog$asserts$assert$$($i$jscomp$203$$ === $field2$$.length - 1), $extension2$jscomp$1$$ = $val2$$, $val2$$ = void 0);
      if (!$jspb$Message$compareFields$$($val1$$, $val2$$)) {
        return !1;
      }
    }
    return $extension1$jscomp$1$$ || $extension2$jscomp$1$$ ? ($extension1$jscomp$1$$ = $extension1$jscomp$1$$ || {}, $extension2$jscomp$1$$ = $extension2$jscomp$1$$ || {}, $jspb$Message$compareExtensions$$($extension1$jscomp$1$$, $extension2$jscomp$1$$)) : !0;
  }
  if ($field1$$.constructor === Object) {
    return $jspb$Message$compareExtensions$$($field1$$, $field2$$);
  }
  throw Error("Invalid type in JSPB array");
};
$jspb$Message$$.prototype.clone = function() {
  return $jspb$Message$cloneMessage$$(this);
};
var $jspb$Message$cloneMessage$$ = function($msg$jscomp$63$$) {
  return new $msg$jscomp$63$$.constructor($jspb$Message$clone_$$($msg$jscomp$63$$.$toArray$()));
}, $jspb$Message$clone_$$ = function($obj$jscomp$92$$) {
  if ($goog$isArray$$($obj$jscomp$92$$)) {
    for (var $clone$jscomp$3_clonedArray$$ = Array($obj$jscomp$92$$.length), $i$jscomp$205_key$jscomp$114$$ = 0; $i$jscomp$205_key$jscomp$114$$ < $obj$jscomp$92$$.length; $i$jscomp$205_key$jscomp$114$$++) {
      var $o$jscomp$20$$ = $obj$jscomp$92$$[$i$jscomp$205_key$jscomp$114$$];
      null != $o$jscomp$20$$ && ($clone$jscomp$3_clonedArray$$[$i$jscomp$205_key$jscomp$114$$] = "object" == typeof $o$jscomp$20$$ ? $jspb$Message$clone_$$($goog$asserts$assert$$($o$jscomp$20$$)) : $o$jscomp$20$$);
    }
    return $clone$jscomp$3_clonedArray$$;
  }
  if ($jspb$Message$SUPPORTS_UINT8ARRAY_$$ && $obj$jscomp$92$$ instanceof Uint8Array) {
    return new Uint8Array($obj$jscomp$92$$);
  }
  $clone$jscomp$3_clonedArray$$ = {};
  for ($i$jscomp$205_key$jscomp$114$$ in $obj$jscomp$92$$) {
    $o$jscomp$20$$ = $obj$jscomp$92$$[$i$jscomp$205_key$jscomp$114$$], null != $o$jscomp$20$$ && ($clone$jscomp$3_clonedArray$$[$i$jscomp$205_key$jscomp$114$$] = "object" == typeof $o$jscomp$20$$ ? $jspb$Message$clone_$$($goog$asserts$assert$$($o$jscomp$20$$)) : $o$jscomp$20$$);
  }
  return $clone$jscomp$3_clonedArray$$;
};
var $proto$chat$frontend$hangouts$SyncMetadata$$ = function($opt_data$jscomp$14$$) {
  $jspb$Message$initialize$$(this, $opt_data$jscomp$14$$, 0, -1, null, null);
};
$goog$inherits$$($proto$chat$frontend$hangouts$SyncMetadata$$, $jspb$Message$$);
var $proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$$ = function($opt_data$jscomp$15$$) {
  $jspb$Message$initialize$$(this, $opt_data$jscomp$15$$, 0, -1, null, null);
};
$goog$inherits$$($proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$$, $jspb$Message$$);
var $proto$chat$frontend$hangouts$SyncMetadata$deserializeBinaryFromReader$$ = function($msg$jscomp$67$$, $reader$jscomp$6$$) {
  for (; $JSCompiler_StaticMethods_nextField$$($reader$jscomp$6$$) && !$JSCompiler_StaticMethods_isEndGroup$$($reader$jscomp$6$$);) {
    switch($reader$jscomp$6$$.$b$) {
      case 1:
        var $value$jscomp$350$$ = $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt64$$($reader$jscomp$6$$);
        $jspb$Message$setField$$($msg$jscomp$67$$, 1, $value$jscomp$350$$);
        break;
      case 2:
        $value$jscomp$350$$ = $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$$($reader$jscomp$6$$);
        $jspb$Message$setField$$($msg$jscomp$67$$, 2, $value$jscomp$350$$);
        break;
      case 3:
        $value$jscomp$350$$ = new $proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$$;
        $reader$jscomp$6$$.$g$($value$jscomp$350$$, $proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$deserializeBinaryFromReader$$);
        $jspb$Message$setWrapperField$$($msg$jscomp$67$$, 3, $value$jscomp$350$$);
        break;
      default:
        $JSCompiler_StaticMethods_skipField$$($reader$jscomp$6$$);
    }
  }
  return $msg$jscomp$67$$;
};
$proto$chat$frontend$hangouts$SyncMetadata$$.prototype.$serializeBinary$ = function() {
  var $writer$jscomp$2$$ = new $jspb$BinaryWriter$$;
  $proto$chat$frontend$hangouts$SyncMetadata$serializeBinaryToWriter$$(this, $writer$jscomp$2$$);
  return $JSCompiler_StaticMethods_getResultBuffer$$($writer$jscomp$2$$);
};
var $proto$chat$frontend$hangouts$SyncMetadata$serializeBinaryToWriter$$ = function($message$jscomp$61$$, $writer$jscomp$3$$) {
  var $f$jscomp$46$$ = $jspb$Message$getField$$($message$jscomp$61$$, 1);
  null != $f$jscomp$46$$ && $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64$$($writer$jscomp$3$$, 1, $f$jscomp$46$$);
  $f$jscomp$46$$ = $jspb$Message$getField$$($message$jscomp$61$$, 2);
  null != $f$jscomp$46$$ && $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$$($writer$jscomp$3$$, 2, $f$jscomp$46$$);
  $f$jscomp$46$$ = $jspb$Message$getWrapperField$$($message$jscomp$61$$, $proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$$, 3);
  null != $f$jscomp$46$$ && $writer$jscomp$3$$.$b$(3, $f$jscomp$46$$, $proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$serializeBinaryToWriter$$);
}, $proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$deserializeBinaryFromReader$$ = function($msg$jscomp$71$$, $reader$jscomp$8$$) {
  for (; $JSCompiler_StaticMethods_nextField$$($reader$jscomp$8$$) && !$JSCompiler_StaticMethods_isEndGroup$$($reader$jscomp$8$$);) {
    switch($reader$jscomp$8$$.$b$) {
      case 1:
        var $value$jscomp$351$$ = $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$$($reader$jscomp$8$$);
        $jspb$Message$setField$$($msg$jscomp$71$$, 1, $value$jscomp$351$$);
        break;
      case 2:
        $value$jscomp$351$$ = $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt64$$($reader$jscomp$8$$);
        $jspb$Message$setField$$($msg$jscomp$71$$, 2, $value$jscomp$351$$);
        break;
      default:
        $JSCompiler_StaticMethods_skipField$$($reader$jscomp$8$$);
    }
  }
  return $msg$jscomp$71$$;
};
$proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$$.prototype.$serializeBinary$ = function() {
  var $writer$jscomp$4$$ = new $jspb$BinaryWriter$$;
  $proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$serializeBinaryToWriter$$(this, $writer$jscomp$4$$);
  return $JSCompiler_StaticMethods_getResultBuffer$$($writer$jscomp$4$$);
};
var $proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$serializeBinaryToWriter$$ = function($message$jscomp$62$$, $writer$jscomp$5$$) {
  var $f$jscomp$48$$ = $jspb$Message$getField$$($message$jscomp$62$$, 1);
  null != $f$jscomp$48$$ && $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$$($writer$jscomp$5$$, 1, $f$jscomp$48$$);
  $f$jscomp$48$$ = $jspb$Message$getField$$($message$jscomp$62$$, 2);
  null != $f$jscomp$48$$ && $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64$$($writer$jscomp$5$$, 2, $f$jscomp$48$$);
};
$proto$chat$frontend$hangouts$SyncMetadata$$.prototype.$getVersion$ = function() {
  return $jspb$Message$getField$$(this, 1);
};
var $castApp$eventPage$Message$$ = function($subtype$$, $opt_devices$$) {
  this.type = "cast_app";
  this.originId = window["castApp.eventPage.Message.OriginID"] || void 0;
  this.subtype = $subtype$$;
  this.devices = $opt_devices$$;
  this.logRecord = this.deviceJustSetUp = void 0;
};
$goog$exportSymbol$$("castApp.eventPage.Message", $castApp$eventPage$Message$$);
var $castApp$eventPage$Message$DeviceData$$ = function($ipAddress$jscomp$2$$, $appId$jscomp$3$$, $sessionId$jscomp$5$$) {
  this.ipAddress = $ipAddress$jscomp$2$$;
  this.appId = $appId$jscomp$3$$;
  this.sessionId = $sessionId$jscomp$5$$;
};
$castApp$eventPage$Message$$.DeviceData = $castApp$eventPage$Message$DeviceData$$;
$castApp$eventPage$Message$$.DeviceJustSetUp = function($ipAddress$jscomp$3$$, $name$jscomp$162$$, $udn$$, $opt_modelName$$) {
  this.ipAddress = $ipAddress$jscomp$3$$;
  this.name = $name$jscomp$162$$;
  this.udn = $udn$$;
  this.modelName = $opt_modelName$$;
};
$castApp$eventPage$Message$$.DeviceCapabilities = function() {
};
$castApp$eventPage$Message$$.LogRecord = function($levelValue$jscomp$1$$, $msg$jscomp$72$$, $loggerName$jscomp$4$$, $time$jscomp$1$$) {
  this.levelValue = $levelValue$jscomp$1$$;
  this.msg = $msg$jscomp$72$$;
  this.loggerName = $loggerName$jscomp$4$$;
  this.time = $time$jscomp$1$$;
};
var $castApp$frontEnd$ExtensionMessage$$ = function($type$jscomp$172$$, $opt_entryPoint$$) {
  this.type = $type$jscomp$172$$;
  this.entryPoint = $opt_entryPoint$$;
};
$goog$exportSymbol$$("castApp.frontEnd.ExtensionMessage", $castApp$frontEnd$ExtensionMessage$$);
var $mr$cast$Namespace$getCastNamespace_$$ = function($postfix$$) {
  return "urn:x-cast:com.google.cast." + $postfix$$;
}, $mr$cast$Namespace$Cast$TP_CONNECTION$$ = $mr$cast$Namespace$getCastNamespace_$$("tp.connection"), $mr$cast$Namespace$Cast$RECEIVER$$ = $mr$cast$Namespace$getCastNamespace_$$("receiver"), $mr$cast$Namespace$Cast$REMOTING$$ = $mr$cast$Namespace$getCastNamespace_$$("remoting"), $mr$cast$Namespace$Cast$MEDIA$$ = $mr$cast$Namespace$getCastNamespace_$$("media"), $mr$cast$Namespace$Cast$WEBRTC$$ = $mr$cast$Namespace$getCastNamespace_$$("webrtc"), $mr$cast$Namespace$Cast$BROADCAST$$ = $mr$cast$Namespace$getCastNamespace_$$("broadcast"), 
$mr$cast$Namespace$TRANSPOSED_CAST_NAMESPACES_$$ = $goog$object$transpose$$({$TP_CONNECTION$:$mr$cast$Namespace$Cast$TP_CONNECTION$$, $TP_HEARTBEAT$:$mr$cast$Namespace$getCastNamespace_$$("tp.heartbeat"), $RECEIVER$:$mr$cast$Namespace$Cast$RECEIVER$$, $REMOTING$:$mr$cast$Namespace$Cast$REMOTING$$, $MEDIA$:$mr$cast$Namespace$Cast$MEDIA$$, $MEDIA_UNIVERSAL_REMOTE_OPT_IN$:$mr$cast$Namespace$getCastNamespace_$$("media.universalRemote.optIn"), $WEBRTC$:$mr$cast$Namespace$Cast$WEBRTC$$, $BROADCAST$:$mr$cast$Namespace$Cast$BROADCAST$$});
var $mr$cast$SinkAppStatus$isAvailable$$ = function($appStatus$$) {
  return "available" == $appStatus$$ || "available_rescan" == $appStatus$$;
};
var $mr$Sink$$ = function($id$jscomp$57$$, $friendlyName$$, $iconType$$, $description$jscomp$11$$, $domain$jscomp$2$$) {
  this.id = $id$jscomp$57$$;
  this.friendlyName = $friendlyName$$;
  this.iconType = $iconType$$ || "generic";
  this.description = void 0 === $description$jscomp$11$$ ? null : $description$jscomp$11$$;
  this.domain = void 0 === $domain$jscomp$2$$ ? null : $domain$jscomp$2$$;
};
var $mr$PersistentData$storageObj_$$ = window.localStorage, $mr$PersistentDataManager$charsUsed_$$ = 0, $mr$PersistentDataManager$getTemporaryData$$ = function($data$jscomp$86_obj$jscomp$97$$) {
  return ($data$jscomp$86_obj$jscomp$97$$ = window.localStorage.getItem($mr$PersistentDataManager$getStorageKey_$$($data$jscomp$86_obj$jscomp$97$$, !1))) ? JSON.parse($data$jscomp$86_obj$jscomp$97$$) : null;
}, $mr$PersistentDataManager$getPersistentData$$ = function($data$jscomp$87_obj$jscomp$98$$) {
  return ($data$jscomp$87_obj$jscomp$98$$ = window.localStorage.getItem($mr$PersistentDataManager$getStorageKey_$$($data$jscomp$87_obj$jscomp$98$$, !0))) ? JSON.parse($data$jscomp$87_obj$jscomp$98$$) : null;
}, $mr$PersistentDataManager$register$$ = function($obj$jscomp$99$$) {
  if ($mr$PersistentDataManager$dataInstances_$$.has($obj$jscomp$99$$.$getStorageKey$())) {
    throw Error("Duplicate instance name " + $obj$jscomp$99$$.$getStorageKey$());
  }
  $mr$PersistentDataManager$dataInstances_$$.set($obj$jscomp$99$$.$getStorageKey$(), $obj$jscomp$99$$);
  $obj$jscomp$99$$.$loadSavedData$();
}, $mr$PersistentDataManager$mrInstanceId_$$ = null, $mr$PersistentDataManager$logger_$$ = $mr$Logger$getInstance$$("mr.PersistentDataManager"), $mr$PersistentDataManager$dataInstances_$$ = new Map, $mr$PersistentDataManager$getStorageKey_$$ = function($obj$jscomp$101$$, $persistent$$) {
  return "mr." + ($persistent$$ ? "persistent." : "temp.") + $obj$jscomp$101$$.$getStorageKey$();
}, $mr$PersistentDataManager$isChromeReloaded$$ = function($mrInstanceId$jscomp$1$$) {
  return !!window.localStorage.getItem("mrInstanceId") && window.localStorage.getItem("mrInstanceId") !== $mrInstanceId$jscomp$1$$;
}, $mr$PersistentDataManager$onSuspend_$$ = function() {
  $mr$PersistentDataManager$logger_$$.info("onSuspend");
  $mr$PersistentDataManager$write$$("version", chrome.runtime.getManifest().version);
  $mr$PersistentDataManager$mrInstanceId_$$ && $mr$PersistentDataManager$write$$("mrInstanceId", $mr$PersistentDataManager$mrInstanceId_$$);
  for (var $logManager$$ = $mr$PersistentDataManager$dataInstances_$$.get("LogManager"), $$jscomp$iter$231$$ = $$jscomp$makeIterator$$($mr$PersistentDataManager$dataInstances_$$), $$jscomp$destructuring$var5_$jscomp$key$$jscomp$destructuring$var4_obj$jscomp$102$$ = $$jscomp$iter$231$$.next(); !$$jscomp$destructuring$var5_$jscomp$key$$jscomp$destructuring$var4_obj$jscomp$102$$.done; $$jscomp$destructuring$var5_$jscomp$key$$jscomp$destructuring$var4_obj$jscomp$102$$ = $$jscomp$iter$231$$.next()) {
    $$jscomp$destructuring$var5_$jscomp$key$$jscomp$destructuring$var4_obj$jscomp$102$$ = $$jscomp$makeIterator$$($$jscomp$destructuring$var5_$jscomp$key$$jscomp$destructuring$var4_obj$jscomp$102$$.value), $$jscomp$destructuring$var5_$jscomp$key$$jscomp$destructuring$var4_obj$jscomp$102$$.next(), $$jscomp$destructuring$var5_$jscomp$key$$jscomp$destructuring$var4_obj$jscomp$102$$ = $$jscomp$destructuring$var5_$jscomp$key$$jscomp$destructuring$var4_obj$jscomp$102$$.next().value, $$jscomp$destructuring$var5_$jscomp$key$$jscomp$destructuring$var4_obj$jscomp$102$$ != 
    $logManager$$ && $mr$PersistentDataManager$saveData$$($$jscomp$destructuring$var5_$jscomp$key$$jscomp$destructuring$var4_obj$jscomp$102$$);
  }
  $logManager$$ && $mr$PersistentDataManager$saveData$$($logManager$$);
}, $mr$PersistentDataManager$saveData$$ = function($obj$jscomp$103$$) {
  try {
    var $data$jscomp$88$$ = $obj$jscomp$103$$.$module$contents$mr$LogManager_LogManager_prototype$getData$();
    $data$jscomp$88$$ && void 0 != $data$jscomp$88$$[0] && $mr$PersistentDataManager$write$$($mr$PersistentDataManager$getStorageKey_$$($obj$jscomp$103$$, !1), JSON.stringify($data$jscomp$88$$[0]));
    $data$jscomp$88$$ && void 0 != $data$jscomp$88$$[1] && $mr$PersistentDataManager$write$$($mr$PersistentDataManager$getStorageKey_$$($obj$jscomp$103$$, !0), JSON.stringify($data$jscomp$88$$[1]));
  } catch ($e$jscomp$41$$) {
    $mr$PersistentDataManager$logger_$$.error("Error while saving data for " + $obj$jscomp$103$$.$getStorageKey$() + ": " + $e$jscomp$41$$.message);
  }
}, $mr$PersistentDataManager$write$$ = function($key$jscomp$117$$, $value$jscomp$357$$) {
  var $currentValue_sizeDelta$$ = window.localStorage.getItem($key$jscomp$117$$);
  $currentValue_sizeDelta$$ = null != $currentValue_sizeDelta$$ ? $value$jscomp$357$$.length - $currentValue_sizeDelta$$.length : $key$jscomp$117$$.length + $value$jscomp$357$$.length;
  5200000 < $mr$PersistentDataManager$charsUsed_$$ + $currentValue_sizeDelta$$ && ($mr$PersistentDataManager$logger_$$.$warning$("Unable to write " + $currentValue_sizeDelta$$ + " chars"), $mr$PersistentDataManager$removeTemporary_$$());
  if (5200000 < $mr$PersistentDataManager$charsUsed_$$ + $currentValue_sizeDelta$$) {
    throw $mr$PersistentDataManager$logger_$$.error("Unable to write " + $currentValue_sizeDelta$$ + " chars after clearing temporary"), Error("Setting the value of '" + $key$jscomp$117$$ + "' would exceed the quota, according to accounting.");
  }
  try {
    window.localStorage.setItem($key$jscomp$117$$, $value$jscomp$357$$);
  } catch ($error$jscomp$22$$) {
    throw Error("Setting the value of '" + $key$jscomp$117$$ + "' would exceed the quota, according to the browser.");
  }
  $mr$PersistentDataManager$charsUsed_$$ += $currentValue_sizeDelta$$;
}, $mr$PersistentDataManager$writeBlob$$ = function($value$jscomp$358$$) {
  $value$jscomp$358$$ = 0 == $value$jscomp$358$$.size % 2 ? new Blob([$value$jscomp$358$$, new Uint8Array([0, 0])]) : new Blob([$value$jscomp$358$$, new Uint8Array([1])]);
  return new Promise(function($resolve$jscomp$24$$, $reject$jscomp$23$$) {
    var $reader$jscomp$9$$ = new FileReader;
    $reader$jscomp$9$$.onloadend = function() {
      if ($reader$jscomp$9$$.error) {
        $reject$jscomp$23$$($reader$jscomp$9$$.error);
      } else {
        try {
          for (var $buffer$jscomp$23$$ = $reader$jscomp$9$$.result, $pieces$$ = [], $pos$jscomp$3$$ = 0, $end$jscomp$21$$ = $buffer$jscomp$23$$.byteLength; $pos$jscomp$3$$ < $end$jscomp$21$$; $pos$jscomp$3$$ += 8192) {
            $pieces$$.push(String.fromCharCode.apply(null, new Uint16Array($buffer$jscomp$23$$, $pos$jscomp$3$$, Math.min($end$jscomp$21$$ - $pos$jscomp$3$$, 8192) / 2)));
          }
          $mr$PersistentDataManager$write$$("mr.temp.mirror.cast.Service.eventsBlob", $pieces$$.join(""));
          $resolve$jscomp$24$$();
        } catch ($error$jscomp$23$$) {
          $reject$jscomp$23$$($error$jscomp$23$$);
        }
      }
    };
    $reader$jscomp$9$$.readAsArrayBuffer($value$jscomp$358$$);
  });
}, $mr$PersistentDataManager$removeTemporary_$$ = function() {
  for (var $$jscomp$iter$232$$ = $$jscomp$makeIterator$$(Object.keys($mr$PersistentData$storageObj_$$)), $$jscomp$key$key$jscomp$2_key$jscomp$120$$ = $$jscomp$iter$232$$.next(); !$$jscomp$key$key$jscomp$2_key$jscomp$120$$.done; $$jscomp$key$key$jscomp$2_key$jscomp$120$$ = $$jscomp$iter$232$$.next()) {
    $$jscomp$key$key$jscomp$2_key$jscomp$120$$ = $$jscomp$key$key$jscomp$2_key$jscomp$120$$.value, $$jscomp$key$key$jscomp$2_key$jscomp$120$$.startsWith("mr.temp.") && ($mr$PersistentDataManager$charsUsed_$$ -= $$jscomp$key$key$jscomp$2_key$jscomp$120$$.length + window.localStorage.getItem($$jscomp$key$key$jscomp$2_key$jscomp$120$$).length, delete window.localStorage[$$jscomp$key$key$jscomp$2_key$jscomp$120$$]);
  }
  $mr$PersistentDataManager$logger_$$.info("removeTemporary_: " + $mr$PersistentDataManager$charsUsed_$$ + " chars used");
};
var $module$contents$mr$base64_URL_SAFE_MAP$$ = (new Map).set("+", "-").set("/", "_").set("=", "."), $module$contents$mr$base64_INVERSE_URL_SAFE_MAP$$ = (new Map).set("-", "+").set("_", "/").set(".", "="), $module$exports$mr$base64$decodeString$$ = function($encoded$$) {
  return atob($encoded$$.replace(/[-_.]/g, function($c$jscomp$19$$) {
    return $module$contents$mr$base64_INVERSE_URL_SAFE_MAP$$.get($c$jscomp$19$$);
  }));
}, $module$exports$mr$base64$encodeArray$$ = function($data$jscomp$89$$) {
  return btoa(String.fromCharCode.apply(String, $$jscomp$arrayFromIterable$$($data$jscomp$89$$))).replace(/[+/=]/g, function($c$jscomp$20$$) {
    return $module$contents$mr$base64_URL_SAFE_MAP$$.get($c$jscomp$20$$);
  });
};
var $module$exports$mr$Sha1$$ = function() {
  this.$b$ = [];
  this.$l$ = [];
  this.$m$ = [];
  this.$g$ = [];
  this.$g$[0] = 128;
  for (var $i$jscomp$207$$ = 1; 64 > $i$jscomp$207$$; ++$i$jscomp$207$$) {
    this.$g$[$i$jscomp$207$$] = 0;
  }
  this.$h$ = this.$f$ = 0;
  this.reset();
};
$module$exports$mr$Sha1$$.prototype.reset = function() {
  this.$b$[0] = 1732584193;
  this.$b$[1] = 4023233417;
  this.$b$[2] = 2562383102;
  this.$b$[3] = 271733878;
  this.$b$[4] = 3285377520;
  this.$h$ = this.$f$ = 0;
};
var $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$$ = function($JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$, $a$jscomp$37_buf$jscomp$4_i$308$$, $b$jscomp$34_offset$jscomp$24_t$$) {
  $b$jscomp$34_offset$jscomp$24_t$$ = void 0 === $b$jscomp$34_offset$jscomp$24_t$$ ? 0 : $b$jscomp$34_offset$jscomp$24_t$$;
  var $W$$ = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$m$;
  if ("string" === typeof $a$jscomp$37_buf$jscomp$4_i$308$$) {
    for (var $c$jscomp$21_i$307_i$jscomp$208$$ = 0; 16 > $c$jscomp$21_i$307_i$jscomp$208$$; $c$jscomp$21_i$307_i$jscomp$208$$++) {
      $W$$[$c$jscomp$21_i$307_i$jscomp$208$$] = $a$jscomp$37_buf$jscomp$4_i$308$$.charCodeAt($b$jscomp$34_offset$jscomp$24_t$$) << 24 | $a$jscomp$37_buf$jscomp$4_i$308$$.charCodeAt($b$jscomp$34_offset$jscomp$24_t$$ + 1) << 16 | $a$jscomp$37_buf$jscomp$4_i$308$$.charCodeAt($b$jscomp$34_offset$jscomp$24_t$$ + 2) << 8 | $a$jscomp$37_buf$jscomp$4_i$308$$.charCodeAt($b$jscomp$34_offset$jscomp$24_t$$ + 3), $b$jscomp$34_offset$jscomp$24_t$$ += 4;
    }
  } else {
    for ($c$jscomp$21_i$307_i$jscomp$208$$ = 0; 16 > $c$jscomp$21_i$307_i$jscomp$208$$; $c$jscomp$21_i$307_i$jscomp$208$$++) {
      $W$$[$c$jscomp$21_i$307_i$jscomp$208$$] = $a$jscomp$37_buf$jscomp$4_i$308$$[$b$jscomp$34_offset$jscomp$24_t$$] << 24 | $a$jscomp$37_buf$jscomp$4_i$308$$[$b$jscomp$34_offset$jscomp$24_t$$ + 1] << 16 | $a$jscomp$37_buf$jscomp$4_i$308$$[$b$jscomp$34_offset$jscomp$24_t$$ + 2] << 8 | $a$jscomp$37_buf$jscomp$4_i$308$$[$b$jscomp$34_offset$jscomp$24_t$$ + 3], $b$jscomp$34_offset$jscomp$24_t$$ += 4;
    }
  }
  for ($a$jscomp$37_buf$jscomp$4_i$308$$ = 16; 80 > $a$jscomp$37_buf$jscomp$4_i$308$$; $a$jscomp$37_buf$jscomp$4_i$308$$++) {
    $b$jscomp$34_offset$jscomp$24_t$$ = $W$$[$a$jscomp$37_buf$jscomp$4_i$308$$ - 3] ^ $W$$[$a$jscomp$37_buf$jscomp$4_i$308$$ - 8] ^ $W$$[$a$jscomp$37_buf$jscomp$4_i$308$$ - 14] ^ $W$$[$a$jscomp$37_buf$jscomp$4_i$308$$ - 16], $W$$[$a$jscomp$37_buf$jscomp$4_i$308$$] = ($b$jscomp$34_offset$jscomp$24_t$$ << 1 | $b$jscomp$34_offset$jscomp$24_t$$ >>> 31) & 4294967295;
  }
  $a$jscomp$37_buf$jscomp$4_i$308$$ = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[0];
  $b$jscomp$34_offset$jscomp$24_t$$ = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[1];
  $c$jscomp$21_i$307_i$jscomp$208$$ = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[2];
  for (var $d$jscomp$6$$ = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[3], $e$jscomp$42$$ = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[4], $f$jscomp$49_t$310$$, $k$jscomp$1$$, $i$309$$ = 0; 80 > $i$309$$; $i$309$$++) {
    40 > $i$309$$ ? 20 > $i$309$$ ? ($f$jscomp$49_t$310$$ = $d$jscomp$6$$ ^ $b$jscomp$34_offset$jscomp$24_t$$ & ($c$jscomp$21_i$307_i$jscomp$208$$ ^ $d$jscomp$6$$), $k$jscomp$1$$ = 1518500249) : ($f$jscomp$49_t$310$$ = $b$jscomp$34_offset$jscomp$24_t$$ ^ $c$jscomp$21_i$307_i$jscomp$208$$ ^ $d$jscomp$6$$, $k$jscomp$1$$ = 1859775393) : 60 > $i$309$$ ? ($f$jscomp$49_t$310$$ = $b$jscomp$34_offset$jscomp$24_t$$ & $c$jscomp$21_i$307_i$jscomp$208$$ | $d$jscomp$6$$ & ($b$jscomp$34_offset$jscomp$24_t$$ | 
    $c$jscomp$21_i$307_i$jscomp$208$$), $k$jscomp$1$$ = 2400959708) : ($f$jscomp$49_t$310$$ = $b$jscomp$34_offset$jscomp$24_t$$ ^ $c$jscomp$21_i$307_i$jscomp$208$$ ^ $d$jscomp$6$$, $k$jscomp$1$$ = 3395469782), $f$jscomp$49_t$310$$ = ($a$jscomp$37_buf$jscomp$4_i$308$$ << 5 | $a$jscomp$37_buf$jscomp$4_i$308$$ >>> 27) + $f$jscomp$49_t$310$$ + $e$jscomp$42$$ + $k$jscomp$1$$ + $W$$[$i$309$$] & 4294967295, $e$jscomp$42$$ = $d$jscomp$6$$, $d$jscomp$6$$ = $c$jscomp$21_i$307_i$jscomp$208$$, $c$jscomp$21_i$307_i$jscomp$208$$ = 
    ($b$jscomp$34_offset$jscomp$24_t$$ << 30 | $b$jscomp$34_offset$jscomp$24_t$$ >>> 2) & 4294967295, $b$jscomp$34_offset$jscomp$24_t$$ = $a$jscomp$37_buf$jscomp$4_i$308$$, $a$jscomp$37_buf$jscomp$4_i$308$$ = $f$jscomp$49_t$310$$;
  }
  $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[0] = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[0] + $a$jscomp$37_buf$jscomp$4_i$308$$ & 4294967295;
  $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[1] = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[1] + $b$jscomp$34_offset$jscomp$24_t$$ & 4294967295;
  $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[2] = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[2] + $c$jscomp$21_i$307_i$jscomp$208$$ & 4294967295;
  $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[3] = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[3] + $d$jscomp$6$$ & 4294967295;
  $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[4] = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$b$[4] + $e$jscomp$42$$ & 4294967295;
};
$module$exports$mr$Sha1$$.prototype.update = function($bytes$jscomp$14$$, $length$jscomp$40$$) {
  $length$jscomp$40$$ = void 0 === $length$jscomp$40$$ ? $bytes$jscomp$14$$.length : $length$jscomp$40$$;
  for (var $lengthMinusBlock$$ = $length$jscomp$40$$ - 64, $n$jscomp$8$$ = 0, $buf$jscomp$5$$ = this.$l$, $inbuf$$ = this.$f$; $n$jscomp$8$$ < $length$jscomp$40$$;) {
    if (0 == $inbuf$$) {
      for (; $n$jscomp$8$$ <= $lengthMinusBlock$$;) {
        $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$$(this, $bytes$jscomp$14$$, $n$jscomp$8$$), $n$jscomp$8$$ += 64;
      }
    }
    if ("string" === typeof $bytes$jscomp$14$$) {
      for (; $n$jscomp$8$$ < $length$jscomp$40$$;) {
        if ($buf$jscomp$5$$[$inbuf$$] = $bytes$jscomp$14$$.charCodeAt($n$jscomp$8$$), ++$inbuf$$, ++$n$jscomp$8$$, 64 == $inbuf$$) {
          $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$$(this, $buf$jscomp$5$$);
          $inbuf$$ = 0;
          break;
        }
      }
    } else {
      for (; $n$jscomp$8$$ < $length$jscomp$40$$;) {
        if ($buf$jscomp$5$$[$inbuf$$] = $bytes$jscomp$14$$[$n$jscomp$8$$], ++$inbuf$$, ++$n$jscomp$8$$, 64 == $inbuf$$) {
          $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$$(this, $buf$jscomp$5$$);
          $inbuf$$ = 0;
          break;
        }
      }
    }
  }
  this.$f$ = $inbuf$$;
  this.$h$ += $length$jscomp$40$$;
};
$module$exports$mr$Sha1$$.prototype.digest = function() {
  var $digest$$ = [], $n$jscomp$9_totalBits$$ = 8 * this.$h$;
  56 > this.$f$ ? this.update(this.$g$, 56 - this.$f$) : this.update(this.$g$, 64 - (this.$f$ - 56));
  for (var $i$311_i$jscomp$209$$ = 63; 56 <= $i$311_i$jscomp$209$$; $i$311_i$jscomp$209$$--) {
    this.$l$[$i$311_i$jscomp$209$$] = $n$jscomp$9_totalBits$$ & 255, $n$jscomp$9_totalBits$$ /= 256;
  }
  $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$$(this, this.$l$);
  for ($i$311_i$jscomp$209$$ = $n$jscomp$9_totalBits$$ = 0; 5 > $i$311_i$jscomp$209$$; $i$311_i$jscomp$209$$++) {
    for (var $j$jscomp$10$$ = 24; 0 <= $j$jscomp$10$$; $j$jscomp$10$$ -= 8) {
      $digest$$[$n$jscomp$9_totalBits$$] = this.$b$[$i$311_i$jscomp$209$$] >> $j$jscomp$10$$ & 255, ++$n$jscomp$9_totalBits$$;
    }
  }
  return $digest$$;
};
var $module$exports$mr$StringUtils$getRandomString$$ = function() {
  return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ Date.now()).toString(36);
};
var $module$contents$mr$SinkUtils_SinkUtils$$ = function() {
  this.$l$ = $module$exports$mr$StringUtils$getRandomString$$();
  this.$f$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$(null, null);
  this.$b$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$(null, null);
  this.$m$ = [];
  this.$h$ = this.$g$ = 0;
  $mr$PersistentDataManager$register$$(this);
}, $module$contents$mr$SinkUtils_SinkUtils$getInstance$$ = function() {
  $module$contents$mr$SinkUtils_SinkUtils$instance_$$ || ($module$contents$mr$SinkUtils_SinkUtils$instance_$$ = new $module$contents$mr$SinkUtils_SinkUtils$$);
  return $module$contents$mr$SinkUtils_SinkUtils$instance_$$;
}, $JSCompiler_StaticMethods_generateId$$ = function($JSCompiler_StaticMethods_generateId$self$$, $uniqueId$$) {
  $uniqueId$$ = $uniqueId$$.toLowerCase();
  var $sha1$$ = new $module$exports$mr$Sha1$$;
  $sha1$$.update($uniqueId$$);
  $sha1$$.update($JSCompiler_StaticMethods_generateId$self$$.$l$);
  return "r" + $module$exports$mr$base64$encodeArray$$($sha1$$.digest());
}, $JSCompiler_StaticMethods_getRecentDevice$$ = function() {
  var $JSCompiler_StaticMethods_getRecentDevice$self$$ = $module$contents$mr$SinkUtils_SinkUtils$getInstance$$();
  return $JSCompiler_StaticMethods_getRecentDevice$self$$.$f$.model ? $JSCompiler_StaticMethods_getRecentDevice$self$$.$f$ : $JSCompiler_StaticMethods_getRecentDevice$self$$.$b$.model ? $JSCompiler_StaticMethods_getRecentDevice$self$$.$b$ : new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$(null, null);
};
$module$contents$mr$SinkUtils_SinkUtils$$.prototype.$getStorageKey$ = function() {
  return "SinkUtils";
};
$module$contents$mr$SinkUtils_SinkUtils$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [{recentLaunchedDevice:this.$f$, recentDiscoveredDevice:this.$b$}, {receiverIdToken:this.$l$, fixedIpList:this.$m$.join(","), castControlPort:this.$g$, lastCloudSinkCheckTimeMillis:this.$h$}];
};
$module$contents$mr$SinkUtils_SinkUtils$$.prototype.$loadSavedData$ = function() {
  var $persistentData_tempData$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $persistentData_tempData$$ && (this.$f$ = $persistentData_tempData$$.recentLaunchedDevice || new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$(null, null), this.$b$ = $persistentData_tempData$$.recentDiscoveredDevice || new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$(null, null));
  if ($persistentData_tempData$$ = $mr$PersistentDataManager$getPersistentData$$(this)) {
    this.$l$ = $persistentData_tempData$$.receiverIdToken || $module$exports$mr$StringUtils$getRandomString$$(), this.$m$ = $persistentData_tempData$$.fixedIpList && $persistentData_tempData$$.fixedIpList.split(",") || [], this.$g$ = $persistentData_tempData$$.castControlPort || 0, this.$h$ = $persistentData_tempData$$.lastCloudSinkCheckTimeMillis || 0;
  }
};
var $module$contents$mr$SinkUtils_SinkUtils$instance_$$ = null, $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$ = function($modelName$$, $ipAddress$jscomp$4$$) {
  this.model = $modelName$$;
  this.ip = $ipAddress$jscomp$4$$;
};
var $module$contents$mr$dial$Sink_DialSink$$ = function($friendlyName$jscomp$1$$, $uniqueId$jscomp$1$$) {
  this.$D$ = this.$aa$ = this.$N$ = this.$j$ = this.$w$ = null;
  this.$F$ = new $mr$Sink$$($uniqueId$jscomp$1$$, $friendlyName$jscomp$1$$);
  this.$u$ = {};
  this.$ia$ = {};
  this.$X$ = !1;
};
$module$contents$mr$dial$Sink_DialSink$$.prototype.getId = function() {
  return this.$F$.id;
};
$module$contents$mr$dial$Sink_DialSink$$.prototype.update = function($sink$$) {
  if (this.getId() != $sink$$.getId()) {
    return !1;
  }
  var $updated$$ = !1;
  this.$F$.friendlyName != $sink$$.$F$.friendlyName && (this.$F$.friendlyName = $sink$$.$F$.friendlyName, $updated$$ = !0);
  this.$N$ != $sink$$.$N$ && (this.$N$ = $sink$$.$N$, $updated$$ = !0);
  this.$aa$ != $sink$$.$aa$ && (this.$aa$ = $sink$$.$aa$, $updated$$ = !0);
  this.$w$ != $sink$$.$w$ && (this.$w$ = $sink$$.$w$, $updated$$ = !0);
  this.$j$ != $sink$$.$j$ && (this.$j$ = $sink$$.$j$, $updated$$ = !0);
  return $updated$$;
};
$module$contents$mr$dial$Sink_DialSink$$.prototype.$getIpAddress$ = function() {
  return this.$w$;
};
$module$contents$mr$dial$Sink_DialSink$$.prototype.$getPort$ = function() {
  return this.$j$;
};
var $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$$ = function($JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$self$$, $appName$$) {
  return $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$self$$.$u$[$appName$$] || "unknown";
}, $module$contents$mr$dial$Sink_DialSink$createFrom$$ = function($sink$jscomp$1$$) {
  var $newSink$$ = new $module$contents$mr$dial$Sink_DialSink$$($sink$jscomp$1$$.$F$.friendlyName, "");
  $newSink$$.$F$.id = $sink$jscomp$1$$.$F$.id;
  $newSink$$.$w$ = $sink$jscomp$1$$.$w$;
  $newSink$$.$j$ = $sink$jscomp$1$$.$j$;
  $newSink$$.$N$ = $sink$jscomp$1$$.$N$;
  $newSink$$.$aa$ = $sink$jscomp$1$$.$aa$;
  $newSink$$.$D$ = $sink$jscomp$1$$.$D$;
  $newSink$$.$u$ = $sink$jscomp$1$$.$u$;
  $newSink$$.$ia$ = $sink$jscomp$1$$.$ia$;
  $newSink$$.$X$ = $sink$jscomp$1$$.$X$;
  return $newSink$$;
};
var $mr$cast$Sink$$ = function($uniqueId$jscomp$2$$, $friendlyName$jscomp$3$$, $opt_modelName$jscomp$1$$, $opt_capabilities$$, $opt_ipAddress$$, $opt_port$$) {
  this.$f$ = new $mr$Sink$$($uniqueId$jscomp$2$$, $friendlyName$jscomp$3$$, $opt_capabilities$$ & 1 ? "cast" : $opt_capabilities$$ & 32 ? "cast_audio_group" : "cast_audio");
  this.$D$ = $opt_modelName$jscomp$1$$ || null;
  this.$b$ = $opt_capabilities$$ || null;
  this.$w$ = $opt_ipAddress$$ || null;
  this.$j$ = $opt_port$$ || null;
  this.$u$ = {};
  this.$discoveredByDial_$ = !1;
};
$mr$cast$Sink$$.prototype.update = function($friendlyName$jscomp$4$$, $ipAddress$jscomp$7$$, $port$jscomp$8$$, $capabilities$jscomp$1$$) {
  var $updated$jscomp$2$$ = !1;
  this.$f$.friendlyName != $friendlyName$jscomp$4$$ && (this.$f$.friendlyName = $friendlyName$jscomp$4$$, $updated$jscomp$2$$ = !0);
  null != $ipAddress$jscomp$7$$ && this.$w$ != $ipAddress$jscomp$7$$ && (this.$w$ = $ipAddress$jscomp$7$$, $updated$jscomp$2$$ = !0);
  null != $port$jscomp$8$$ && this.$j$ != $port$jscomp$8$$ && (this.$j$ = $port$jscomp$8$$, $updated$jscomp$2$$ = !0);
  null != $capabilities$jscomp$1$$ && this.$b$ != $capabilities$jscomp$1$$ && (this.$b$ = $capabilities$jscomp$1$$, $updated$jscomp$2$$ = !0);
  return $updated$jscomp$2$$;
};
$mr$cast$Sink$$.prototype.getId = function() {
  return this.$f$.id;
};
$mr$cast$Sink$$.prototype.$getIpAddress$ = function() {
  return this.$w$;
};
$mr$cast$Sink$$.prototype.$getPort$ = function() {
  return this.$j$;
};
var $JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$$ = function($JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$self$$, $appId$jscomp$5$$) {
  return $JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$self$$.$u$[$appId$jscomp$5$$] || "unknown";
};
var $goog$iter$StopIteration$$ = "StopIteration" in $goog$global$$ ? $goog$global$$.StopIteration : {message:"StopIteration", stack:""}, $goog$iter$Iterator$$ = function() {
};
$goog$iter$Iterator$$.prototype.next = function() {
  throw $goog$iter$StopIteration$$;
};
$goog$iter$Iterator$$.prototype.$__iterator__$ = function() {
  return this;
};
var $goog$iter$toIterator$$ = function($iterable$jscomp$5$$) {
  if ($iterable$jscomp$5$$ instanceof $goog$iter$Iterator$$) {
    return $iterable$jscomp$5$$;
  }
  if ("function" == typeof $iterable$jscomp$5$$.$__iterator__$) {
    return $iterable$jscomp$5$$.$__iterator__$(!1);
  }
  if ($goog$isArrayLike$$($iterable$jscomp$5$$)) {
    var $i$jscomp$210$$ = 0, $newIter$$ = new $goog$iter$Iterator$$;
    $newIter$$.next = function() {
      for (;;) {
        if ($i$jscomp$210$$ >= $iterable$jscomp$5$$.length) {
          throw $goog$iter$StopIteration$$;
        }
        if ($i$jscomp$210$$ in $iterable$jscomp$5$$) {
          return $iterable$jscomp$5$$[$i$jscomp$210$$++];
        }
        $i$jscomp$210$$++;
      }
    };
    return $newIter$$;
  }
  throw Error("Not implemented");
}, $goog$iter$forEach$$ = function($iterable$jscomp$6$$, $f$jscomp$50$$, $opt_obj$jscomp$34$$) {
  if ($goog$isArrayLike$$($iterable$jscomp$6$$)) {
    try {
      $goog$array$forEach$$($iterable$jscomp$6$$, $f$jscomp$50$$, $opt_obj$jscomp$34$$);
    } catch ($ex$jscomp$3$$) {
      if ($ex$jscomp$3$$ !== $goog$iter$StopIteration$$) {
        throw $ex$jscomp$3$$;
      }
    }
  } else {
    $iterable$jscomp$6$$ = $goog$iter$toIterator$$($iterable$jscomp$6$$);
    try {
      for (;;) {
        $f$jscomp$50$$.call($opt_obj$jscomp$34$$, $iterable$jscomp$6$$.next(), void 0, $iterable$jscomp$6$$);
      }
    } catch ($ex$312$$) {
      if ($ex$312$$ !== $goog$iter$StopIteration$$) {
        throw $ex$312$$;
      }
    }
  }
}, $goog$iter$some$$ = function($iterable$jscomp$12$$, $f$jscomp$55$$) {
  $iterable$jscomp$12$$ = $goog$iter$toIterator$$($iterable$jscomp$12$$);
  try {
    for (; !$f$jscomp$55$$.call(void 0, $iterable$jscomp$12$$.next(), void 0, $iterable$jscomp$12$$);) {
    }
  } catch ($ex$jscomp$4$$) {
    if ($ex$jscomp$4$$ !== $goog$iter$StopIteration$$) {
      throw $ex$jscomp$4$$;
    }
  }
}, $goog$iter$toArray$$ = function($iterable$jscomp$17$$) {
  if ($goog$isArrayLike$$($iterable$jscomp$17$$)) {
    return $goog$array$toArray$$($iterable$jscomp$17$$);
  }
  $iterable$jscomp$17$$ = $goog$iter$toIterator$$($iterable$jscomp$17$$);
  var $array$jscomp$19$$ = [];
  $goog$iter$forEach$$($iterable$jscomp$17$$, function($val$jscomp$39$$) {
    $array$jscomp$19$$.push($val$jscomp$39$$);
  });
  return $array$jscomp$19$$;
};
var $goog$structs$Map$$ = function($opt_map$$, $var_args$jscomp$100$$) {
  this.$f$ = {};
  this.$b$ = [];
  this.$h$ = this.$g$ = 0;
  var $argLength$jscomp$2$$ = arguments.length;
  if (1 < $argLength$jscomp$2$$) {
    if ($argLength$jscomp$2$$ % 2) {
      throw Error("Uneven number of arguments");
    }
    for (var $i$jscomp$212$$ = 0; $i$jscomp$212$$ < $argLength$jscomp$2$$; $i$jscomp$212$$ += 2) {
      this.set(arguments[$i$jscomp$212$$], arguments[$i$jscomp$212$$ + 1]);
    }
  } else {
    $opt_map$$ && $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$(this, $opt_map$$);
  }
};
$goog$structs$Map$$.prototype.$getCount$ = function() {
  return this.$g$;
};
$goog$structs$Map$$.prototype.$getValues$ = function() {
  $JSCompiler_StaticMethods_cleanupKeysArray_$$(this);
  for (var $rv$jscomp$12$$ = [], $i$jscomp$213$$ = 0; $i$jscomp$213$$ < this.$b$.length; $i$jscomp$213$$++) {
    $rv$jscomp$12$$.push(this.$f$[this.$b$[$i$jscomp$213$$]]);
  }
  return $rv$jscomp$12$$;
};
$goog$structs$Map$$.prototype.$getKeys$ = function() {
  $JSCompiler_StaticMethods_cleanupKeysArray_$$(this);
  return this.$b$.concat();
};
var $JSCompiler_StaticMethods_goog_structs_Map_prototype$containsKey$$ = function($JSCompiler_StaticMethods_goog_structs_Map_prototype$containsKey$self$$, $key$jscomp$123$$) {
  return $goog$structs$Map$hasKey_$$($JSCompiler_StaticMethods_goog_structs_Map_prototype$containsKey$self$$.$f$, $key$jscomp$123$$);
};
$goog$structs$Map$$.prototype.$containsValue$ = function($val$jscomp$41$$) {
  for (var $i$jscomp$214$$ = 0; $i$jscomp$214$$ < this.$b$.length; $i$jscomp$214$$++) {
    var $key$jscomp$124$$ = this.$b$[$i$jscomp$214$$];
    if ($goog$structs$Map$hasKey_$$(this.$f$, $key$jscomp$124$$) && this.$f$[$key$jscomp$124$$] == $val$jscomp$41$$) {
      return !0;
    }
  }
  return !1;
};
$goog$structs$Map$$.prototype.equals = function($otherMap$$, $equalityFn_opt_equalityFn$$) {
  if (this === $otherMap$$) {
    return !0;
  }
  if (this.$g$ != $otherMap$$.$getCount$()) {
    return !1;
  }
  $equalityFn_opt_equalityFn$$ = $equalityFn_opt_equalityFn$$ || $goog$structs$Map$defaultEquals$$;
  $JSCompiler_StaticMethods_cleanupKeysArray_$$(this);
  for (var $key$jscomp$125$$, $i$jscomp$215$$ = 0; $key$jscomp$125$$ = this.$b$[$i$jscomp$215$$]; $i$jscomp$215$$++) {
    if (!$equalityFn_opt_equalityFn$$(this.get($key$jscomp$125$$), $otherMap$$.get($key$jscomp$125$$))) {
      return !1;
    }
  }
  return !0;
};
var $goog$structs$Map$defaultEquals$$ = function($a$jscomp$38$$, $b$jscomp$35$$) {
  return $a$jscomp$38$$ === $b$jscomp$35$$;
};
$goog$structs$Map$$.prototype.$isEmpty$ = function() {
  return 0 == this.$g$;
};
$goog$structs$Map$$.prototype.clear = function() {
  this.$f$ = {};
  this.$h$ = this.$g$ = this.$b$.length = 0;
};
$goog$structs$Map$$.prototype.remove = function($key$jscomp$126$$) {
  return $goog$structs$Map$hasKey_$$(this.$f$, $key$jscomp$126$$) ? (delete this.$f$[$key$jscomp$126$$], this.$g$--, this.$h$++, this.$b$.length > 2 * this.$g$ && $JSCompiler_StaticMethods_cleanupKeysArray_$$(this), !0) : !1;
};
var $JSCompiler_StaticMethods_cleanupKeysArray_$$ = function($JSCompiler_StaticMethods_cleanupKeysArray_$self$$) {
  if ($JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$g$ != $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$b$.length) {
    for (var $srcIndex$$ = 0, $destIndex$$ = 0; $srcIndex$$ < $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$b$.length;) {
      var $key$jscomp$127$$ = $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$b$[$srcIndex$$];
      $goog$structs$Map$hasKey_$$($JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$f$, $key$jscomp$127$$) && ($JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$b$[$destIndex$$++] = $key$jscomp$127$$);
      $srcIndex$$++;
    }
    $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$b$.length = $destIndex$$;
  }
  if ($JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$g$ != $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$b$.length) {
    var $seen$jscomp$2$$ = {};
    for ($destIndex$$ = $srcIndex$$ = 0; $srcIndex$$ < $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$b$.length;) {
      $key$jscomp$127$$ = $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$b$[$srcIndex$$], $goog$structs$Map$hasKey_$$($seen$jscomp$2$$, $key$jscomp$127$$) || ($JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$b$[$destIndex$$++] = $key$jscomp$127$$, $seen$jscomp$2$$[$key$jscomp$127$$] = 1), $srcIndex$$++;
    }
    $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$b$.length = $destIndex$$;
  }
};
$goog$structs$Map$$.prototype.get = function($key$jscomp$128$$, $opt_val$jscomp$1$$) {
  return $goog$structs$Map$hasKey_$$(this.$f$, $key$jscomp$128$$) ? this.$f$[$key$jscomp$128$$] : $opt_val$jscomp$1$$;
};
$goog$structs$Map$$.prototype.set = function($key$jscomp$129$$, $value$jscomp$360$$) {
  $goog$structs$Map$hasKey_$$(this.$f$, $key$jscomp$129$$) || (this.$g$++, this.$b$.push($key$jscomp$129$$), this.$h$++);
  this.$f$[$key$jscomp$129$$] = $value$jscomp$360$$;
};
var $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$ = function($JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$self$$, $map$jscomp$2$$) {
  if ($map$jscomp$2$$ instanceof $goog$structs$Map$$) {
    for (var $key$jscomp$130_keys$jscomp$5$$ = $map$jscomp$2$$.$getKeys$(), $i$jscomp$216$$ = 0; $i$jscomp$216$$ < $key$jscomp$130_keys$jscomp$5$$.length; $i$jscomp$216$$++) {
      $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$self$$.set($key$jscomp$130_keys$jscomp$5$$[$i$jscomp$216$$], $map$jscomp$2$$.get($key$jscomp$130_keys$jscomp$5$$[$i$jscomp$216$$]));
    }
  } else {
    for ($key$jscomp$130_keys$jscomp$5$$ in $map$jscomp$2$$) {
      $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$self$$.set($key$jscomp$130_keys$jscomp$5$$, $map$jscomp$2$$[$key$jscomp$130_keys$jscomp$5$$]);
    }
  }
};
$goog$structs$Map$$.prototype.forEach = function($f$jscomp$60$$, $opt_obj$jscomp$44$$) {
  for (var $keys$jscomp$6$$ = this.$getKeys$(), $i$jscomp$217$$ = 0; $i$jscomp$217$$ < $keys$jscomp$6$$.length; $i$jscomp$217$$++) {
    var $key$jscomp$131$$ = $keys$jscomp$6$$[$i$jscomp$217$$], $value$jscomp$361$$ = this.get($key$jscomp$131$$);
    $f$jscomp$60$$.call($opt_obj$jscomp$44$$, $value$jscomp$361$$, $key$jscomp$131$$, this);
  }
};
$goog$structs$Map$$.prototype.clone = function() {
  return new $goog$structs$Map$$(this);
};
var $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$ = function($JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$self$$) {
  $JSCompiler_StaticMethods_cleanupKeysArray_$$($JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$self$$);
  for (var $obj$jscomp$104$$ = {}, $i$jscomp$219$$ = 0; $i$jscomp$219$$ < $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$self$$.$b$.length; $i$jscomp$219$$++) {
    var $key$jscomp$133$$ = $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$self$$.$b$[$i$jscomp$219$$];
    $obj$jscomp$104$$[$key$jscomp$133$$] = $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$self$$.$f$[$key$jscomp$133$$];
  }
  return $obj$jscomp$104$$;
};
$goog$structs$Map$$.prototype.$__iterator__$ = function($opt_keys$jscomp$1$$) {
  $JSCompiler_StaticMethods_cleanupKeysArray_$$(this);
  var $i$jscomp$220$$ = 0, $version$jscomp$14$$ = this.$h$, $selfObj$jscomp$5$$ = this, $newIter$jscomp$5$$ = new $goog$iter$Iterator$$;
  $newIter$jscomp$5$$.next = function() {
    if ($version$jscomp$14$$ != $selfObj$jscomp$5$$.$h$) {
      throw Error("The map has changed since the iterator was created");
    }
    if ($i$jscomp$220$$ >= $selfObj$jscomp$5$$.$b$.length) {
      throw $goog$iter$StopIteration$$;
    }
    var $key$jscomp$134$$ = $selfObj$jscomp$5$$.$b$[$i$jscomp$220$$++];
    return $opt_keys$jscomp$1$$ ? $key$jscomp$134$$ : $selfObj$jscomp$5$$.$f$[$key$jscomp$134$$];
  };
  return $newIter$jscomp$5$$;
};
var $goog$structs$Map$hasKey_$$ = function($obj$jscomp$105$$, $key$jscomp$135$$) {
  return Object.prototype.hasOwnProperty.call($obj$jscomp$105$$, $key$jscomp$135$$);
};
var $mr$cast$SinkDiscoveryService$$ = function($castChannelService$$, $sinkDiscoveryCallbacks$$) {
  this.$h$ = $sinkDiscoveryCallbacks$$;
  this.$f$ = $castChannelService$$;
  this.$f$.$getSinkById$ = this.$getSinkById$.bind(this);
  this.$b$ = new $goog$structs$Map$$;
  this.$l$ = new $goog$structs$Map$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cast.SinkDiscoveryService");
  this.$g$ = {$availableDeviceCount$:0, $knownDeviceCount$:0};
};
$$jscomp$inherits$$($mr$cast$SinkDiscoveryService$$, $mr$Module$$);
$mr$cast$SinkDiscoveryService$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
  $mr$Module$onModuleLoaded$$("mr.cast.SinkDiscoveryService", this);
};
var $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$$ = function($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$, $sinks$$) {
  $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$.$logger_$.info("addSinks returned " + $sinks$$.length + " sinks");
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$.$logger_$, function() {
    return "....the list is: " + JSON.stringify($sinks$$);
  });
  var $oldSinkIds$$ = new Set($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$.$b$.$getKeys$());
  $sinks$$.forEach(function($channelId$jscomp$inline_1467_mojoSink$jscomp$1$$) {
    var $JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$ = $channelId$jscomp$inline_1467_mojoSink$jscomp$1$$.sink_id;
    var $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$ = $channelId$jscomp$inline_1467_mojoSink$jscomp$1$$.extra_data.cast_media_sink, $JSCompiler_StaticMethods_provideCastChannel$self$jscomp$inline_1465_ip_address$jscomp$inline_1462_updated$jscomp$inline_1476$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$.ip_endpoint ? $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$.ip_endpoint.address : 
    $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$.ip_address, $port$jscomp$inline_1463_receiverId$jscomp$inline_1468$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$.ip_endpoint ? $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$.ip_endpoint.port : 
    $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$g$ || 8009;
    $JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$ = new $mr$cast$Sink$$($JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$, $channelId$jscomp$inline_1467_mojoSink$jscomp$1$$.name, $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$.model_name, $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$.capabilities, 
    $JSCompiler_StaticMethods_provideCastChannel$self$jscomp$inline_1465_ip_address$jscomp$inline_1462_updated$jscomp$inline_1476$$.address_bytes.join("."), $port$jscomp$inline_1463_receiverId$jscomp$inline_1468$$);
    $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$ = $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$.$b$.get($JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.getId());
    $JSCompiler_StaticMethods_provideCastChannel$self$jscomp$inline_1465_ip_address$jscomp$inline_1462_updated$jscomp$inline_1476$$ = $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$.$f$;
    $channelId$jscomp$inline_1467_mojoSink$jscomp$1$$ = $channelId$jscomp$inline_1467_mojoSink$jscomp$1$$.extra_data.cast_media_sink.cast_channel_id;
    $port$jscomp$inline_1463_receiverId$jscomp$inline_1468$$ = $JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.getId();
    var $channel$jscomp$inline_1469_connectInfo$jscomp$inline_1470_newChannel$jscomp$inline_1471$$ = $JSCompiler_StaticMethods_provideCastChannel$self$jscomp$inline_1465_ip_address$jscomp$inline_1462_updated$jscomp$inline_1476$$.$f$.get($port$jscomp$inline_1463_receiverId$jscomp$inline_1468$$);
    if (!$channel$jscomp$inline_1469_connectInfo$jscomp$inline_1470_newChannel$jscomp$inline_1471$$ || $channel$jscomp$inline_1469_connectInfo$jscomp$inline_1470_newChannel$jscomp$inline_1471$$.channelId != $channelId$jscomp$inline_1467_mojoSink$jscomp$1$$) {
      $mr$cast$ChannelService$logger_$$.info("Added cast channel " + $channelId$jscomp$inline_1467_mojoSink$jscomp$1$$ + " to receiver: " + $port$jscomp$inline_1463_receiverId$jscomp$inline_1468$$);
      $channel$jscomp$inline_1469_connectInfo$jscomp$inline_1470_newChannel$jscomp$inline_1471$$ && $JSCompiler_StaticMethods_provideCastChannel$self$jscomp$inline_1465_ip_address$jscomp$inline_1462_updated$jscomp$inline_1476$$.$b$.remove($channel$jscomp$inline_1469_connectInfo$jscomp$inline_1470_newChannel$jscomp$inline_1471$$.channelId);
      $channel$jscomp$inline_1469_connectInfo$jscomp$inline_1470_newChannel$jscomp$inline_1471$$ = {auth:"ssl_verified", ipAddress:$JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.$getIpAddress$(), port:$JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.$getPort$()};
      $channel$jscomp$inline_1469_connectInfo$jscomp$inline_1470_newChannel$jscomp$inline_1471$$ = {channelId:$channelId$jscomp$inline_1467_mojoSink$jscomp$1$$, readyState:"open", keepAlive:!0, audioOnly:!($JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.$b$ & 1), connectInfo:$channel$jscomp$inline_1469_connectInfo$jscomp$inline_1470_newChannel$jscomp$inline_1471$$};
      $JSCompiler_StaticMethods_provideCastChannel$self$jscomp$inline_1465_ip_address$jscomp$inline_1462_updated$jscomp$inline_1476$$.$f$.set($port$jscomp$inline_1463_receiverId$jscomp$inline_1468$$, $channel$jscomp$inline_1469_connectInfo$jscomp$inline_1470_newChannel$jscomp$inline_1471$$);
      $JSCompiler_StaticMethods_provideCastChannel$self$jscomp$inline_1465_ip_address$jscomp$inline_1462_updated$jscomp$inline_1476$$.$b$.set($channelId$jscomp$inline_1467_mojoSink$jscomp$1$$, $port$jscomp$inline_1463_receiverId$jscomp$inline_1468$$);
      var $lastProvidedChannel$jscomp$inline_1472$$ = $JSCompiler_StaticMethods_provideCastChannel$self$jscomp$inline_1465_ip_address$jscomp$inline_1462_updated$jscomp$inline_1476$$.$h$.get($port$jscomp$inline_1463_receiverId$jscomp$inline_1468$$);
      $lastProvidedChannel$jscomp$inline_1472$$ && $lastProvidedChannel$jscomp$inline_1472$$.channelId != $channelId$jscomp$inline_1467_mojoSink$jscomp$1$$ && ($mr$cast$ChannelService$logger_$$.info("Re-connected to receiver: " + $JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.getId()), $JSCompiler_StaticMethods_moveVcs$$($JSCompiler_StaticMethods_provideCastChannel$self$jscomp$inline_1465_ip_address$jscomp$inline_1462_updated$jscomp$inline_1476$$.$g$, $lastProvidedChannel$jscomp$inline_1472$$, 
      $channel$jscomp$inline_1469_connectInfo$jscomp$inline_1470_newChannel$jscomp$inline_1471$$), $JSCompiler_StaticMethods_querySinkStatus$$($JSCompiler_StaticMethods_provideCastChannel$self$jscomp$inline_1465_ip_address$jscomp$inline_1462_updated$jscomp$inline_1476$$.$l$.$l$, $JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$, !0));
      $JSCompiler_StaticMethods_provideCastChannel$self$jscomp$inline_1465_ip_address$jscomp$inline_1462_updated$jscomp$inline_1476$$.$h$.set($port$jscomp$inline_1463_receiverId$jscomp$inline_1468$$, $channel$jscomp$inline_1469_connectInfo$jscomp$inline_1470_newChannel$jscomp$inline_1471$$);
    }
    if ($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$) {
      if ($JSCompiler_StaticMethods_provideCastChannel$self$jscomp$inline_1465_ip_address$jscomp$inline_1462_updated$jscomp$inline_1476$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$.update($JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.$f$.friendlyName, $JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.$getIpAddress$(), $JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.$getPort$(), 
      $JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.$b$)) {
        $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$.$discoveredByDial_$ = !1;
      }
      $JSCompiler_StaticMethods_provideCastChannel$self$jscomp$inline_1465_ip_address$jscomp$inline_1462_updated$jscomp$inline_1476$$ && $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$.$h$, $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$);
    } else {
      $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$.$logger_$.info("Adding sink " + $JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.getId()), $JSCompiler_StaticMethods_doAddSink_$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$, $JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$), $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$ = 
      $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$.$h$, $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$.$g$.onSinkAvailabilityUpdated($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$, 1), $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$, 
      $JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$), $JSCompiler_StaticMethods_querySinkStatus$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_6664_existingSink_extraData$jscomp$inline_1461$$.$l$, $JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$), $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$b$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$($JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.$D$, 
      $JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.$getIpAddress$());
    }
    $oldSinkIds$$.delete($JSCompiler_inline_result$jscomp$487_uniqueId$jscomp$inline_1460$$.getId());
  });
  $oldSinkIds$$.forEach(function($sinkId$jscomp$3$$) {
    var $JSCompiler_StaticMethods_removeProvidedChannel$self$jscomp$inline_1481$$ = $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$.$f$, $channel$jscomp$inline_1483$$ = $JSCompiler_StaticMethods_removeProvidedChannel$self$jscomp$inline_1481$$.$h$.get($sinkId$jscomp$3$$);
    $channel$jscomp$inline_1483$$ && ($JSCompiler_StaticMethods_removeVcsOnChannel$$($JSCompiler_StaticMethods_removeProvidedChannel$self$jscomp$inline_1481$$.$g$, $channel$jscomp$inline_1483$$), $JSCompiler_StaticMethods_removeProvidedChannel$self$jscomp$inline_1481$$.$h$.remove($sinkId$jscomp$3$$));
    $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$, $sinkId$jscomp$3$$);
  });
  var $sinksCount$$ = $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$.$b$.$getCount$();
  $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$self$$.$g$ = {$availableDeviceCount$:$sinksCount$$, $knownDeviceCount$:$sinksCount$$};
};
$mr$cast$SinkDiscoveryService$$.prototype.$getDeviceCounts$ = function() {
  return this.$g$;
};
var $JSCompiler_StaticMethods_doAddSink_$$ = function($JSCompiler_StaticMethods_doAddSink_$self$$, $sink$jscomp$3$$) {
  var $oldSink$$ = $JSCompiler_StaticMethods_doAddSink_$self$$.$b$.get($sink$jscomp$3$$.getId()), $oldSinkByIp$$ = null, $ipAddress$jscomp$9$$ = $sink$jscomp$3$$.$getIpAddress$(), $port$jscomp$11$$ = $sink$jscomp$3$$.$getPort$();
  null != $ipAddress$jscomp$9$$ && null != $port$jscomp$11$$ && ($oldSinkByIp$$ = $JSCompiler_StaticMethods_doAddSink_$self$$.$l$.get($ipAddress$jscomp$9$$ + ":" + $port$jscomp$11$$));
  if ($oldSink$$ && !$oldSinkByIp$$) {
    var $oldIpAddress$$ = $sink$jscomp$3$$.$getIpAddress$(), $oldPort$$ = $sink$jscomp$3$$.$getPort$();
    $oldIpAddress$$ && $oldPort$$ && $JSCompiler_StaticMethods_doAddSink_$self$$.$l$.remove($oldIpAddress$$ + ":" + $oldPort$$);
  }
  $oldSinkByIp$$ && !$oldSink$$ && $JSCompiler_StaticMethods_doAddSink_$self$$.$b$.remove($oldSinkByIp$$.getId());
  $JSCompiler_StaticMethods_doAddSink_$self$$.$b$.set($sink$jscomp$3$$.getId(), $sink$jscomp$3$$);
  null != $ipAddress$jscomp$9$$ && null != $port$jscomp$11$$ && $JSCompiler_StaticMethods_doAddSink_$self$$.$l$.set($ipAddress$jscomp$9$$ + ":" + $port$jscomp$11$$, $sink$jscomp$3$$);
}, $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$$ = function($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkRemoved$self$jscomp$inline_1485_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$, $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$onSinkRemoved$self$jscomp$inline_6667_ipAddress$jscomp$10_sinkId$jscomp$5$$) {
  var $sessionRecord$jscomp$inline_6669_sink$jscomp$5_sinkId$jscomp$inline_6668$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkRemoved$self$jscomp$inline_1485_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$b$.get($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$onSinkRemoved$self$jscomp$inline_6667_ipAddress$jscomp$10_sinkId$jscomp$5$$);
  if ($sessionRecord$jscomp$inline_6669_sink$jscomp$5_sinkId$jscomp$inline_6668$$) {
    $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkRemoved$self$jscomp$inline_1485_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$logger_$.info("Removing sink " + $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$onSinkRemoved$self$jscomp$inline_6667_ipAddress$jscomp$10_sinkId$jscomp$5$$);
    $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkRemoved$self$jscomp$inline_1485_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$b$.remove($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$onSinkRemoved$self$jscomp$inline_6667_ipAddress$jscomp$10_sinkId$jscomp$5$$);
    $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$onSinkRemoved$self$jscomp$inline_6667_ipAddress$jscomp$10_sinkId$jscomp$5$$ = $sessionRecord$jscomp$inline_6669_sink$jscomp$5_sinkId$jscomp$inline_6668$$.$getIpAddress$();
    var $port$jscomp$12$$ = $sessionRecord$jscomp$inline_6669_sink$jscomp$5_sinkId$jscomp$inline_6668$$.$getPort$();
    null != $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$onSinkRemoved$self$jscomp$inline_6667_ipAddress$jscomp$10_sinkId$jscomp$5$$ && null != $port$jscomp$12$$ && $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkRemoved$self$jscomp$inline_1485_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$l$.remove($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$onSinkRemoved$self$jscomp$inline_6667_ipAddress$jscomp$10_sinkId$jscomp$5$$ + ":" + $port$jscomp$12$$);
    $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkRemoved$self$jscomp$inline_1485_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkRemoved$self$jscomp$inline_1485_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$h$;
    if (0 == $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkRemoved$self$jscomp$inline_1485_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$b$.$b$.$getCount$()) {
      $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkRemoved$self$jscomp$inline_1485_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$g$.onSinkAvailabilityUpdated($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkRemoved$self$jscomp$inline_1485_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$, 0);
    }
    $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$onSinkRemoved$self$jscomp$inline_6667_ipAddress$jscomp$10_sinkId$jscomp$5$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkRemoved$self$jscomp$inline_1485_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$l$;
    $sessionRecord$jscomp$inline_6669_sink$jscomp$5_sinkId$jscomp$inline_6668$$ = $sessionRecord$jscomp$inline_6669_sink$jscomp$5_sinkId$jscomp$inline_6668$$.getId();
    ($sessionRecord$jscomp$inline_6669_sink$jscomp$5_sinkId$jscomp$inline_6668$$ = $JSCompiler_StaticMethods_getRecordBySinkId$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$onSinkRemoved$self$jscomp$inline_6667_ipAddress$jscomp$10_sinkId$jscomp$5$$.$b$, $sessionRecord$jscomp$inline_6669_sink$jscomp$5_sinkId$jscomp$inline_6668$$)) && $sessionRecord$jscomp$inline_6669_sink$jscomp$5_sinkId$jscomp$inline_6668$$.session && $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$onSinkRemoved$self$jscomp$inline_6667_ipAddress$jscomp$10_sinkId$jscomp$5$$, 
    $sessionRecord$jscomp$inline_6669_sink$jscomp$5_sinkId$jscomp$inline_6668$$.session.sessionId);
    $JSCompiler_StaticMethods_handleSinkUpdate$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkRemoved$self$jscomp$inline_1485_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$J$);
    $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkRemoved$self$jscomp$inline_1485_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$g$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
  }
}, $JSCompiler_StaticMethods_pruneInactive_$$ = function($JSCompiler_StaticMethods_pruneInactive_$self$$) {
  $JSCompiler_StaticMethods_pruneInactive_$self$$.$logger_$.info("Pruning inactive sinks.");
  var $sinkIdsToRemove$$ = new Set;
  $JSCompiler_StaticMethods_pruneInactive_$self$$.$b$.forEach(function($sink$jscomp$6$$) {
    $JSCompiler_StaticMethods_getCastChannel$$($JSCompiler_StaticMethods_pruneInactive_$self$$.$f$, $sink$jscomp$6$$) || $sinkIdsToRemove$$.add($sink$jscomp$6$$.getId());
  });
  $sinkIdsToRemove$$.forEach(function($id$jscomp$59$$) {
    return $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$$($JSCompiler_StaticMethods_pruneInactive_$self$$, $id$jscomp$59$$);
  });
};
$mr$cast$SinkDiscoveryService$$.prototype.$getSinkById$ = function($id$jscomp$60$$) {
  return this.$b$.get($id$jscomp$60$$, null);
};
var $JSCompiler_StaticMethods_getSinksByAppId$$ = function($JSCompiler_StaticMethods_getSinksByAppId$self$$, $appId$jscomp$7$$) {
  var $sinks$jscomp$1$$ = [];
  $goog$iter$forEach$$($JSCompiler_StaticMethods_getSinksByAppId$self$$.$b$.$__iterator__$(!1), function($sink$jscomp$7$$) {
    $mr$cast$SinkAppStatus$isAvailable$$($JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$$($sink$jscomp$7$$, $appId$jscomp$7$$)) && $sinks$jscomp$1$$.push($sink$jscomp$7$$);
  });
  return $sinks$jscomp$1$$;
};
$mr$cast$SinkDiscoveryService$$.prototype.$getStorageKey$ = function() {
  return "cast.SinkDiscoveryService";
};
$mr$cast$SinkDiscoveryService$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  var $$jscomp$this$jscomp$28$$ = this, $sinksJson$$ = {};
  $goog$iter$forEach$$(this.$b$.$__iterator__$(!0), function($key$jscomp$136$$) {
    var $JSCompiler_inline_result$jscomp$485_sink$jscomp$inline_1488$$ = $$jscomp$this$jscomp$28$$.$b$.get($key$jscomp$136$$);
    $JSCompiler_inline_result$jscomp$485_sink$jscomp$inline_1488$$ = {id:$JSCompiler_inline_result$jscomp$485_sink$jscomp$inline_1488$$.getId(), ip:$JSCompiler_inline_result$jscomp$485_sink$jscomp$inline_1488$$.$getIpAddress$(), port:$JSCompiler_inline_result$jscomp$485_sink$jscomp$inline_1488$$.$getPort$(), friendlyName:$JSCompiler_inline_result$jscomp$485_sink$jscomp$inline_1488$$.$f$.friendlyName, modelName:$JSCompiler_inline_result$jscomp$485_sink$jscomp$inline_1488$$.$D$, capabilities:$JSCompiler_inline_result$jscomp$485_sink$jscomp$inline_1488$$.$b$, 
    discoveredByDial:$JSCompiler_inline_result$jscomp$485_sink$jscomp$inline_1488$$.$discoveredByDial_$, appStatusMap:$JSCompiler_inline_result$jscomp$485_sink$jscomp$inline_1488$$.$u$};
    $sinksJson$$[$key$jscomp$136$$] = $JSCompiler_inline_result$jscomp$485_sink$jscomp$inline_1488$$;
  });
  return [new $mr$cast$SinkDiscoveryService$PersistentData_$$($sinksJson$$, this.$g$)];
};
$mr$cast$SinkDiscoveryService$$.prototype.$loadSavedData$ = function() {
  var $savedData_sinkMap$jscomp$inline_1491$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($savedData_sinkMap$jscomp$inline_1491$$ && 4 == $savedData_sinkMap$jscomp$inline_1491$$.version) {
    this.$g$ = $savedData_sinkMap$jscomp$inline_1491$$.deviceCounts;
    $savedData_sinkMap$jscomp$inline_1491$$ = $savedData_sinkMap$jscomp$inline_1491$$.sinkMap;
    for (var $sinkId$jscomp$inline_1492$$ in $savedData_sinkMap$jscomp$inline_1491$$) {
      var $appId$jscomp$inline_6675_sink$jscomp$inline_1493$$ = void 0, $json$jscomp$inline_6673$$ = $savedData_sinkMap$jscomp$inline_1491$$[$sinkId$jscomp$inline_1492$$], $newReceiver$jscomp$inline_6674$$ = new $mr$cast$Sink$$("", $json$jscomp$inline_6673$$.friendlyName, $json$jscomp$inline_6673$$.modelName, $json$jscomp$inline_6673$$.capabilities, $json$jscomp$inline_6673$$.ip, $json$jscomp$inline_6673$$.port);
      $newReceiver$jscomp$inline_6674$$.$f$.id = $json$jscomp$inline_6673$$.id;
      $newReceiver$jscomp$inline_6674$$.$discoveredByDial_$ = $json$jscomp$inline_6673$$.discoveredByDial;
      $newReceiver$jscomp$inline_6674$$.$u$ = $json$jscomp$inline_6673$$.appStatusMap;
      for ($appId$jscomp$inline_6675_sink$jscomp$inline_1493$$ in $newReceiver$jscomp$inline_6674$$.$u$) {
        "unavailable" == $newReceiver$jscomp$inline_6674$$.$u$[$appId$jscomp$inline_6675_sink$jscomp$inline_1493$$] && ($newReceiver$jscomp$inline_6674$$.$u$[$appId$jscomp$inline_6675_sink$jscomp$inline_1493$$] = "unavailable_rescan");
      }
      $appId$jscomp$inline_6675_sink$jscomp$inline_1493$$ = $newReceiver$jscomp$inline_6674$$;
      this.$getSinkById$($appId$jscomp$inline_6675_sink$jscomp$inline_1493$$.getId()) || $JSCompiler_StaticMethods_doAddSink_$$(this, $appId$jscomp$inline_6675_sink$jscomp$inline_1493$$);
    }
    $JSCompiler_StaticMethods_pruneInactive_$$(this);
  }
};
var $mr$cast$SinkDiscoveryService$PersistentData_$$ = function($sinkMap$jscomp$1$$, $deviceCounts$$) {
  this.sinkMap = $sinkMap$jscomp$1$$;
  this.deviceCounts = $deviceCounts$$;
  this.version = 4;
};
var $mr$cast$OVERLOADED_MESSAGE_TYPES$$ = {STOP_MEDIA:"STOP", MEDIA_SET_VOLUME:"SET_VOLUME", MEDIA_GET_STATUS:"GET_STATUS"};
var $mr$cast$ReceiverStatusRequest$$ = function() {
  this.type = "GET_STATUS";
  this.requestId = 0;
};
var $mr$cast$PendingRequest$$ = function($requestId$jscomp$4$$, $timeoutMs$$) {
  this.requestId = $requestId$jscomp$4$$;
  this.$timeoutMs$ = $timeoutMs$$;
  this.$timeoutId$ = null;
};
$mr$cast$PendingRequest$$.prototype.$b$ = function() {
};
var $mr$cast$PendingRequestsManager$$ = function() {
  this.$b$ = new $goog$structs$Map$$;
}, $JSCompiler_StaticMethods_addRequest$$ = function($JSCompiler_StaticMethods_addRequest$self$$, $request$jscomp$14$$) {
  $JSCompiler_StaticMethods_addRequest$self$$.$b$.set($request$jscomp$14$$.requestId, $request$jscomp$14$$);
  $request$jscomp$14$$.$timeoutId$ = setTimeout(function() {
    $JSCompiler_StaticMethods_addRequest$self$$.$b$.remove($request$jscomp$14$$.requestId);
    $request$jscomp$14$$.$b$();
  }, $request$jscomp$14$$.$timeoutMs$);
}, $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$$ = function($JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$self$$, $requestId$jscomp$5$$) {
  var $request$jscomp$15$$ = $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$self$$.$b$.get($requestId$jscomp$5$$);
  if (!$request$jscomp$15$$) {
    return null;
  }
  clearTimeout($request$jscomp$15$$.$timeoutId$);
  $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$self$$.$b$.remove($requestId$jscomp$5$$);
  return $request$jscomp$15$$;
};
var $mr$cast$BroadcastRequest$$ = function($appIds$$, $namespace$jscomp$11$$, $message$jscomp$63$$) {
  this.type = "APPLICATION_BROADCAST";
  this.requestId = 0;
  this.appIds = $appIds$$;
  this.namespace = $namespace$jscomp$11$$;
  this.message = $message$jscomp$63$$;
};
var $mr$cast$LaunchRequest$$ = function($appId$jscomp$8$$) {
  this.type = "LAUNCH";
  this.requestId = 0;
  this.appId = $appId$jscomp$8$$;
  this.language = null;
};
var $mr$cast$StopSessionRequest$$ = function($opt_sessionId$$) {
  this.type = "STOP";
  this.requestId = 0;
  this.sessionId = $opt_sessionId$$ || null;
};
var $mr$IdGenerator$$ = function($storageKey$$) {
  this.$f$ = $storageKey$$;
  this.$b$ = 1000 * Math.floor(1e6 * Math.random());
}, $JSCompiler_StaticMethods_getNext$$ = function($JSCompiler_StaticMethods_getNext$self$$) {
  var $nextId$$ = $JSCompiler_StaticMethods_getNext$self$$.$b$++;
  0 == $nextId$$ && ($nextId$$ = $JSCompiler_StaticMethods_getNext$self$$.$b$++);
  return $nextId$$;
};
$mr$IdGenerator$$.prototype.$getStorageKey$ = function() {
  return "IdGenerator." + this.$f$;
};
$mr$IdGenerator$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [this.$b$];
};
$mr$IdGenerator$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$1$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$1$$ && (this.$b$ = $savedData$jscomp$1$$);
};
var $mr$cast$RequestSender$$ = function($channelService$$, $senderId$$) {
  this.$f$ = $channelService$$;
  this.$g$ = $senderId$$;
  this.$b$ = new $mr$cast$PendingRequestsManager$$;
  this.$h$ = new $mr$IdGenerator$$("cast.RequestIdGenerator");
};
$mr$cast$RequestSender$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this.$h$);
};
var $JSCompiler_StaticMethods_addRequest_$$ = function($JSCompiler_StaticMethods_addRequest_$self$$, $message$jscomp$64_resolver$jscomp$5$$, $request$jscomp$17_timeoutMillis$jscomp$1$$, $opt_sourceId$$) {
  var $requestId$jscomp$7$$ = $JSCompiler_StaticMethods_getNext$$($JSCompiler_StaticMethods_addRequest_$self$$.$h$);
  $message$jscomp$64_resolver$jscomp$5$$.requestId = $requestId$jscomp$7$$;
  $message$jscomp$64_resolver$jscomp$5$$ = new $mr$PromiseResolver$$;
  $request$jscomp$17_timeoutMillis$jscomp$1$$ = new $mr$cast$RequestSender$PendingRequest$$($requestId$jscomp$7$$, $message$jscomp$64_resolver$jscomp$5$$, "number" === typeof $request$jscomp$17_timeoutMillis$jscomp$1$$ && 0 < $request$jscomp$17_timeoutMillis$jscomp$1$$ ? $request$jscomp$17_timeoutMillis$jscomp$1$$ : 6E5, $opt_sourceId$$);
  $JSCompiler_StaticMethods_addRequest$$($JSCompiler_StaticMethods_addRequest_$self$$.$b$, $request$jscomp$17_timeoutMillis$jscomp$1$$);
  return $request$jscomp$17_timeoutMillis$jscomp$1$$;
};
$mr$cast$RequestSender$$.prototype.sendRequest = function($message$jscomp$65$$, $receiver$jscomp$1$$, $namespace$jscomp$12$$, $opt_timeoutMillis$$, $opt_sourceId$jscomp$1$$, $opt_destinationId$$) {
  var $$jscomp$this$jscomp$30$$ = this;
  if (!$mr$cast$Namespace$TRANSPOSED_CAST_NAMESPACES_$$.hasOwnProperty($namespace$jscomp$12$$)) {
    return Promise.reject(Error("Custom namespace is not supported"));
  }
  var $request$jscomp$19$$ = $JSCompiler_StaticMethods_addRequest_$$(this, $message$jscomp$65$$, void 0 !== $opt_timeoutMillis$$ ? $opt_timeoutMillis$$ : 3000, $opt_sourceId$jscomp$1$$), $resolver$jscomp$6$$ = $request$jscomp$19$$.$resolver$;
  $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$$(this.$f$, $receiver$jscomp$1$$, $namespace$jscomp$12$$, $message$jscomp$65$$, $opt_sourceId$jscomp$1$$ || this.$g$, $opt_destinationId$$).then(null, function() {
    $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$$($$jscomp$this$jscomp$30$$.$b$, $request$jscomp$19$$.requestId);
    $resolver$jscomp$6$$.reject($mr$cast$RequestSender$CHANNEL_ERROR_$$);
  });
  return $resolver$jscomp$6$$.$b$;
};
$mr$cast$RequestSender$$.prototype.sendMessage = function($message$jscomp$66$$, $receiver$jscomp$2$$, $namespace$jscomp$13$$, $opt_timeoutMillis$jscomp$1$$, $opt_sourceId$jscomp$2$$, $opt_destinationId$jscomp$1$$) {
  var $$jscomp$this$jscomp$31$$ = this, $request$jscomp$20$$ = $JSCompiler_StaticMethods_addRequest_$$(this, $message$jscomp$66$$, void 0 !== $opt_timeoutMillis$jscomp$1$$ ? $opt_timeoutMillis$jscomp$1$$ : 3000, $opt_sourceId$jscomp$2$$), $resolver$jscomp$7$$ = $request$jscomp$20$$.$resolver$;
  $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$$(this.$f$, $receiver$jscomp$2$$, $namespace$jscomp$13$$, $message$jscomp$66$$, $opt_sourceId$jscomp$2$$ || this.$g$, $opt_destinationId$jscomp$1$$).then(function() {
    $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$$($$jscomp$this$jscomp$31$$.$b$, $request$jscomp$20$$.requestId);
    $resolver$jscomp$7$$.resolve(!0);
  }, function() {
    $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$$($$jscomp$this$jscomp$31$$.$b$, $request$jscomp$20$$.requestId);
    $resolver$jscomp$7$$.reject($mr$cast$RequestSender$CHANNEL_ERROR_$$);
  });
  return $resolver$jscomp$7$$.$b$;
};
var $JSCompiler_StaticMethods_requestLaunchSession$$ = function($JSCompiler_StaticMethods_requestLaunchSession$self$$, $sessionRequest$jscomp$1$$, $receiver$jscomp$3$$) {
  var $launchRequest$$ = new $mr$cast$LaunchRequest$$($sessionRequest$jscomp$1$$.appId);
  $launchRequest$$.language = $sessionRequest$jscomp$1$$.language ? $sessionRequest$jscomp$1$$.language : chrome.i18n.getUILanguage ? chrome.i18n.getUILanguage() : chrome.runtime.getManifest().default_locale;
  return $JSCompiler_StaticMethods_requestLaunchSession$self$$.sendRequest($launchRequest$$, $receiver$jscomp$3$$, $mr$cast$Namespace$Cast$RECEIVER$$, $sessionRequest$jscomp$1$$.requestSessionTimeout);
}, $mr$cast$RequestSender$TIMEOUT_ERROR$$ = Error("Timeout"), $mr$cast$RequestSender$CHANNEL_ERROR_$$ = Error("Failed to send message"), $mr$cast$RequestSender$PendingRequest$$ = function($requestId$jscomp$9$$, $resolver$jscomp$8$$, $timeoutMs$jscomp$1$$, $opt_sourceId$jscomp$3$$) {
  $mr$cast$PendingRequest$$.call(this, $requestId$jscomp$9$$, $timeoutMs$jscomp$1$$);
  this.$resolver$ = $resolver$jscomp$8$$;
  this.sourceId = $opt_sourceId$jscomp$3$$;
};
$$jscomp$inherits$$($mr$cast$RequestSender$PendingRequest$$, $mr$cast$PendingRequest$$);
$mr$cast$RequestSender$PendingRequest$$.prototype.$b$ = function() {
  this.$resolver$.reject($mr$cast$RequestSender$TIMEOUT_ERROR$$);
};
var $goog$structs$getCount$$ = function($col$$) {
  return $col$$.$getCount$ && "function" == typeof $col$$.$getCount$ ? $col$$.$getCount$() : $goog$isArrayLike$$($col$$) || $goog$isString$$($col$$) ? $col$$.length : $goog$object$getCount$$($col$$);
}, $goog$structs$getValues$$ = function($col$jscomp$1$$) {
  if ($col$jscomp$1$$.$getValues$ && "function" == typeof $col$jscomp$1$$.$getValues$) {
    return $col$jscomp$1$$.$getValues$();
  }
  if ($goog$isString$$($col$jscomp$1$$)) {
    return $col$jscomp$1$$.split("");
  }
  if ($goog$isArrayLike$$($col$jscomp$1$$)) {
    for (var $rv$jscomp$13$$ = [], $l$jscomp$12$$ = $col$jscomp$1$$.length, $i$jscomp$221$$ = 0; $i$jscomp$221$$ < $l$jscomp$12$$; $i$jscomp$221$$++) {
      $rv$jscomp$13$$.push($col$jscomp$1$$[$i$jscomp$221$$]);
    }
    return $rv$jscomp$13$$;
  }
  return $goog$object$getValues$$($col$jscomp$1$$);
}, $goog$structs$getKeys$$ = function($col$jscomp$2_l$jscomp$13$$) {
  if ($col$jscomp$2_l$jscomp$13$$.$getKeys$ && "function" == typeof $col$jscomp$2_l$jscomp$13$$.$getKeys$) {
    return $col$jscomp$2_l$jscomp$13$$.$getKeys$();
  }
  if (!$col$jscomp$2_l$jscomp$13$$.$getValues$ || "function" != typeof $col$jscomp$2_l$jscomp$13$$.$getValues$) {
    if ($goog$isArrayLike$$($col$jscomp$2_l$jscomp$13$$) || $goog$isString$$($col$jscomp$2_l$jscomp$13$$)) {
      var $rv$jscomp$14$$ = [];
      $col$jscomp$2_l$jscomp$13$$ = $col$jscomp$2_l$jscomp$13$$.length;
      for (var $i$jscomp$222$$ = 0; $i$jscomp$222$$ < $col$jscomp$2_l$jscomp$13$$; $i$jscomp$222$$++) {
        $rv$jscomp$14$$.push($i$jscomp$222$$);
      }
      return $rv$jscomp$14$$;
    }
    return $goog$object$getKeys$$($col$jscomp$2_l$jscomp$13$$);
  }
}, $goog$structs$isEmpty$$ = function($col$jscomp$4$$) {
  return $col$jscomp$4$$.$isEmpty$ && "function" == typeof $col$jscomp$4$$.$isEmpty$ ? $col$jscomp$4$$.$isEmpty$() : $goog$isArrayLike$$($col$jscomp$4$$) || $goog$isString$$($col$jscomp$4$$) ? $goog$array$isEmpty$$($col$jscomp$4$$) : $goog$object$isEmpty$$($col$jscomp$4$$);
}, $goog$structs$forEach$$ = function($col$jscomp$6$$, $f$jscomp$61$$, $opt_obj$jscomp$45$$) {
  if ($col$jscomp$6$$.forEach && "function" == typeof $col$jscomp$6$$.forEach) {
    $col$jscomp$6$$.forEach($f$jscomp$61$$, $opt_obj$jscomp$45$$);
  } else {
    if ($goog$isArrayLike$$($col$jscomp$6$$) || $goog$isString$$($col$jscomp$6$$)) {
      $goog$array$forEach$$($col$jscomp$6$$, $f$jscomp$61$$, $opt_obj$jscomp$45$$);
    } else {
      for (var $keys$jscomp$7$$ = $goog$structs$getKeys$$($col$jscomp$6$$), $values$jscomp$18$$ = $goog$structs$getValues$$($col$jscomp$6$$), $l$jscomp$14$$ = $values$jscomp$18$$.length, $i$jscomp$223$$ = 0; $i$jscomp$223$$ < $l$jscomp$14$$; $i$jscomp$223$$++) {
        $f$jscomp$61$$.call($opt_obj$jscomp$45$$, $values$jscomp$18$$[$i$jscomp$223$$], $keys$jscomp$7$$ && $keys$jscomp$7$$[$i$jscomp$223$$], $col$jscomp$6$$);
      }
    }
  }
}, $goog$structs$map$$ = function($col$jscomp$8$$, $f$jscomp$63$$, $opt_obj$jscomp$47$$) {
  if ("function" == typeof $col$jscomp$8$$.map) {
    return $col$jscomp$8$$.map($f$jscomp$63$$, $opt_obj$jscomp$47$$);
  }
  if ($goog$isArrayLike$$($col$jscomp$8$$) || $goog$isString$$($col$jscomp$8$$)) {
    return $goog$array$map$$($col$jscomp$8$$, $f$jscomp$63$$, $opt_obj$jscomp$47$$);
  }
  var $keys$jscomp$9$$ = $goog$structs$getKeys$$($col$jscomp$8$$), $values$jscomp$20$$ = $goog$structs$getValues$$($col$jscomp$8$$), $l$jscomp$16$$ = $values$jscomp$20$$.length;
  if ($keys$jscomp$9$$) {
    var $rv$jscomp$16$$ = {};
    for (var $i$jscomp$225$$ = 0; $i$jscomp$225$$ < $l$jscomp$16$$; $i$jscomp$225$$++) {
      $rv$jscomp$16$$[$keys$jscomp$9$$[$i$jscomp$225$$]] = $f$jscomp$63$$.call($opt_obj$jscomp$47$$, $values$jscomp$20$$[$i$jscomp$225$$], $keys$jscomp$9$$[$i$jscomp$225$$], $col$jscomp$8$$);
    }
  } else {
    for ($rv$jscomp$16$$ = [], $i$jscomp$225$$ = 0; $i$jscomp$225$$ < $l$jscomp$16$$; $i$jscomp$225$$++) {
      $rv$jscomp$16$$[$i$jscomp$225$$] = $f$jscomp$63$$.call($opt_obj$jscomp$47$$, $values$jscomp$20$$[$i$jscomp$225$$], void 0, $col$jscomp$8$$);
    }
  }
  return $rv$jscomp$16$$;
}, $goog$structs$every$$ = function($col$jscomp$10$$, $f$jscomp$65$$) {
  if ("function" == typeof $col$jscomp$10$$.every) {
    return $col$jscomp$10$$.every($f$jscomp$65$$, void 0);
  }
  if ($goog$isArrayLike$$($col$jscomp$10$$) || $goog$isString$$($col$jscomp$10$$)) {
    return $goog$array$every$$($col$jscomp$10$$, $f$jscomp$65$$, void 0);
  }
  for (var $keys$jscomp$11$$ = $goog$structs$getKeys$$($col$jscomp$10$$), $values$jscomp$22$$ = $goog$structs$getValues$$($col$jscomp$10$$), $l$jscomp$18$$ = $values$jscomp$22$$.length, $i$jscomp$227$$ = 0; $i$jscomp$227$$ < $l$jscomp$18$$; $i$jscomp$227$$++) {
    if (!$f$jscomp$65$$.call(void 0, $values$jscomp$22$$[$i$jscomp$227$$], $keys$jscomp$11$$ && $keys$jscomp$11$$[$i$jscomp$227$$], $col$jscomp$10$$)) {
      return !1;
    }
  }
  return !0;
};
var $goog$structs$Set$$ = function($opt_values$jscomp$1$$) {
  this.$b$ = new $goog$structs$Map$$;
  $opt_values$jscomp$1$$ && $JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll$$(this, $opt_values$jscomp$1$$);
}, $goog$structs$Set$getKey_$$ = function($val$jscomp$43$$) {
  var $type$jscomp$173$$ = typeof $val$jscomp$43$$;
  return "object" == $type$jscomp$173$$ && $val$jscomp$43$$ || "function" == $type$jscomp$173$$ ? "o" + ($val$jscomp$43$$[$goog$UID_PROPERTY_$$] || ($val$jscomp$43$$[$goog$UID_PROPERTY_$$] = ++$goog$uidCounter_$$)) : $type$jscomp$173$$.substr(0, 1) + $val$jscomp$43$$;
};
$goog$structs$Set$$.prototype.$getCount$ = function() {
  return this.$b$.$getCount$();
};
$goog$structs$Set$$.prototype.add = function($element$jscomp$67$$) {
  this.$b$.set($goog$structs$Set$getKey_$$($element$jscomp$67$$), $element$jscomp$67$$);
};
var $JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll$$ = function($JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll$self$$, $col$jscomp$11_values$jscomp$23$$) {
  $col$jscomp$11_values$jscomp$23$$ = $goog$structs$getValues$$($col$jscomp$11_values$jscomp$23$$);
  for (var $l$jscomp$19$$ = $col$jscomp$11_values$jscomp$23$$.length, $i$jscomp$228$$ = 0; $i$jscomp$228$$ < $l$jscomp$19$$; $i$jscomp$228$$++) {
    $JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll$self$$.add($col$jscomp$11_values$jscomp$23$$[$i$jscomp$228$$]);
  }
};
$JSCompiler_prototypeAlias$$ = $goog$structs$Set$$.prototype;
$JSCompiler_prototypeAlias$$.removeAll = function($col$jscomp$12_values$jscomp$24$$) {
  $col$jscomp$12_values$jscomp$24$$ = $goog$structs$getValues$$($col$jscomp$12_values$jscomp$24$$);
  for (var $l$jscomp$20$$ = $col$jscomp$12_values$jscomp$24$$.length, $i$jscomp$229$$ = 0; $i$jscomp$229$$ < $l$jscomp$20$$; $i$jscomp$229$$++) {
    this.remove($col$jscomp$12_values$jscomp$24$$[$i$jscomp$229$$]);
  }
};
$JSCompiler_prototypeAlias$$.remove = function($element$jscomp$68$$) {
  return this.$b$.remove($goog$structs$Set$getKey_$$($element$jscomp$68$$));
};
$JSCompiler_prototypeAlias$$.clear = function() {
  this.$b$.clear();
};
$JSCompiler_prototypeAlias$$.$isEmpty$ = function() {
  return this.$b$.$isEmpty$();
};
$JSCompiler_prototypeAlias$$.contains = function($element$jscomp$69$$) {
  return $JSCompiler_StaticMethods_goog_structs_Map_prototype$containsKey$$(this.$b$, $goog$structs$Set$getKey_$$($element$jscomp$69$$));
};
$JSCompiler_prototypeAlias$$.$getValues$ = function() {
  return this.$b$.$getValues$();
};
$JSCompiler_prototypeAlias$$.clone = function() {
  return new $goog$structs$Set$$(this);
};
$JSCompiler_prototypeAlias$$.equals = function($col$jscomp$16$$) {
  return this.$getCount$() == $goog$structs$getCount$$($col$jscomp$16$$) && $JSCompiler_StaticMethods_isSubsetOf$$(this, $col$jscomp$16$$);
};
var $JSCompiler_StaticMethods_isSubsetOf$$ = function($JSCompiler_StaticMethods_isSubsetOf$self$$, $col$jscomp$17$$) {
  var $colCount$$ = $goog$structs$getCount$$($col$jscomp$17$$);
  if ($JSCompiler_StaticMethods_isSubsetOf$self$$.$getCount$() > $colCount$$) {
    return !1;
  }
  !($col$jscomp$17$$ instanceof $goog$structs$Set$$) && 5 < $colCount$$ && ($col$jscomp$17$$ = new $goog$structs$Set$$($col$jscomp$17$$));
  return $goog$structs$every$$($JSCompiler_StaticMethods_isSubsetOf$self$$, function($value$jscomp$364$$) {
    var $col$jscomp$inline_1509$$ = $col$jscomp$17$$;
    return $col$jscomp$inline_1509$$.contains && "function" == typeof $col$jscomp$inline_1509$$.contains ? $col$jscomp$inline_1509$$.contains($value$jscomp$364$$) : $col$jscomp$inline_1509$$.$containsValue$ && "function" == typeof $col$jscomp$inline_1509$$.$containsValue$ ? $col$jscomp$inline_1509$$.$containsValue$($value$jscomp$364$$) : $goog$isArrayLike$$($col$jscomp$inline_1509$$) || $goog$isString$$($col$jscomp$inline_1509$$) ? $goog$array$contains$$($col$jscomp$inline_1509$$, $value$jscomp$364$$) : 
    $goog$object$containsValue$$($col$jscomp$inline_1509$$, $value$jscomp$364$$);
  });
};
$goog$structs$Set$$.prototype.$__iterator__$ = function() {
  return this.$b$.$__iterator__$(!1);
};
var $castApp$eventPage$Service$$ = function($sinkDiscoveryService$$, $castRequestSender$$) {
  this.$h$ = $sinkDiscoveryService$$;
  this.$g$ = $castRequestSender$$;
  this.$f$ = new $goog$structs$Map$$;
  this.$b$ = new $goog$structs$Set$$;
  this.$l$ = 0;
  this.$s$ = new $goog$structs$Map$$("serviceCheck", this.$handleServiceCheckMessage_$.bind(this), "startDeviceMonitor", this.$handleStartDeviceMonitorMessage_$.bind(this), "releaseDeviceMonitor", this.$handleReleaseDeviceMonitorMessage_$.bind(this), "deviceJustSetUp", this.$handleDeviceJustSetUpMessage_$.bind(this), "logRecord", this.$handleLogRecordMessage_$.bind(this));
  chrome.runtime.onMessage.addListener(this.$o$.bind(this));
  chrome.runtime.onMessageExternal.addListener(this.$m$.bind(this));
  $JSCompiler_StaticMethods_castApp_eventPage_Service_prototype$sendMessage_$$(this, "serviceReady");
};
$castApp$eventPage$Service$$.prototype.$logger_$ = $mr$Logger$getInstance$$("castApp.eventPage.Service");
var $JSCompiler_StaticMethods_handleSinkUpdate$$ = function($JSCompiler_StaticMethods_handleSinkUpdate$self$$) {
  if ($JSCompiler_StaticMethods_checkMonitorClients_$$($JSCompiler_StaticMethods_handleSinkUpdate$self$$)) {
    var $allDeviceIps$$ = new $goog$structs$Set$$;
    $goog$iter$forEach$$($JSCompiler_StaticMethods_handleSinkUpdate$self$$.$h$.$b$.$__iterator__$(!1), function($sink$jscomp$11$$) {
      var $ipAddress$jscomp$12$$ = $sink$jscomp$11$$.$getIpAddress$();
      $allDeviceIps$$.add($ipAddress$jscomp$12$$);
      $JSCompiler_StaticMethods_goog_structs_Map_prototype$containsKey$$(this.$f$, $ipAddress$jscomp$12$$) || this.$g$.sendRequest(new $mr$cast$ReceiverStatusRequest$$, $sink$jscomp$11$$, $mr$cast$Namespace$Cast$RECEIVER$$);
    }.bind($JSCompiler_StaticMethods_handleSinkUpdate$self$$));
    var $deviceListUpdated$$ = !1;
    $JSCompiler_StaticMethods_handleSinkUpdate$self$$.$f$.$getKeys$().forEach(function($ipAddress$jscomp$13$$) {
      $allDeviceIps$$.contains($ipAddress$jscomp$13$$) || (this.$f$.remove($ipAddress$jscomp$13$$), $deviceListUpdated$$ = !0);
    }.bind($JSCompiler_StaticMethods_handleSinkUpdate$self$$));
    $deviceListUpdated$$ && $JSCompiler_StaticMethods_broadcastDeviceList_$$($JSCompiler_StaticMethods_handleSinkUpdate$self$$);
  }
}, $JSCompiler_StaticMethods_checkMonitorClients_$$ = function($JSCompiler_StaticMethods_checkMonitorClients_$self$$) {
  if (0 === $JSCompiler_StaticMethods_checkMonitorClients_$self$$.$b$.$getCount$()) {
    return !1;
  }
  var $clientCount_now$$ = $goog$now$$();
  3E4 < $clientCount_now$$ - $JSCompiler_StaticMethods_checkMonitorClients_$self$$.$l$ && ($JSCompiler_StaticMethods_checkMonitorClients_$self$$.$l$ = $clientCount_now$$, chrome.tabs.query({url:["chrome://cast/*", "chrome-extension://" + chrome.runtime.id + "/cast_setup/*"]}, function($tabs$$) {
    0 === $tabs$$.length ? (this.$logger_$.info("No tabs found. Clearing device monitor clients."), this.$b$.clear()) : this.$logger_$.info(function() {
      return "Tab check found active tabs: " + $tabs$$.map(function($tab$jscomp$4$$) {
        return $tab$jscomp$4$$.id;
      });
    });
  }.bind($JSCompiler_StaticMethods_checkMonitorClients_$self$$)));
  $clientCount_now$$ = $JSCompiler_StaticMethods_checkMonitorClients_$self$$.$b$.$getCount$();
  $JSCompiler_StaticMethods_checkMonitorClients_$self$$.$logger_$.info("Monitor client count: " + $clientCount_now$$);
  return 0 < $clientCount_now$$;
};
$castApp$eventPage$Service$$.prototype.$o$ = function($rawMsg$$, $sender$jscomp$1$$, $sendResponse$$) {
  if ("object" !== typeof $rawMsg$$ || "cast_app" !== $rawMsg$$.type) {
    return !1;
  }
  var $handler$jscomp$18$$ = this.$s$.get($rawMsg$$.subtype);
  if (!$handler$jscomp$18$$) {
    return !1;
  }
  if (!$rawMsg$$.originId) {
    return $goog$asserts$fail$$("Missing origin ID in the incoming message."), !1;
  }
  try {
    var $result$jscomp$45$$ = $handler$jscomp$18$$($rawMsg$$, $sender$jscomp$1$$, $sendResponse$$);
    $result$jscomp$45$$ && $sendResponse$$($result$jscomp$45$$);
  } catch ($err$jscomp$17$$) {
    this.$logger_$.error("Error while handling request", $err$jscomp$17$$);
  }
  return !1;
};
var $JSCompiler_StaticMethods_castApp_eventPage_Service_prototype$sendMessage_$$ = function($JSCompiler_StaticMethods_castApp_eventPage_Service_prototype$sendMessage_$self$$, $subtype$jscomp$1$$, $opt_devices$jscomp$1$$) {
  var $msg$jscomp$74$$ = new $castApp$eventPage$Message$$($subtype$jscomp$1$$, $opt_devices$jscomp$1$$);
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_castApp_eventPage_Service_prototype$sendMessage_$self$$.$logger_$, function() {
    return "Sending message: " + JSON.stringify($msg$jscomp$74$$);
  });
  chrome.runtime.sendMessage($msg$jscomp$74$$);
};
$JSCompiler_prototypeAlias$$ = $castApp$eventPage$Service$$.prototype;
$JSCompiler_prototypeAlias$$.$handleServiceCheckMessage_$ = function() {
  $JSCompiler_StaticMethods_castApp_eventPage_Service_prototype$sendMessage_$$(this, "serviceReady");
};
$JSCompiler_prototypeAlias$$.$handleStartDeviceMonitorMessage_$ = function($msg$jscomp$75$$) {
  this.$b$.contains($goog$asserts$assert$$($msg$jscomp$75$$.originId)) ? this.$logger_$.info("Client: " + $msg$jscomp$75$$.originId + "already registered, dispatching current device list.") : (this.$logger_$.info("Registering monitor client: " + $msg$jscomp$75$$.originId), this.$b$.add($goog$asserts$assert$$($msg$jscomp$75$$.originId)));
  $JSCompiler_StaticMethods_broadcastDeviceList_$$(this);
  $JSCompiler_StaticMethods_refreshDevices_$$(this);
};
$JSCompiler_prototypeAlias$$.$handleReleaseDeviceMonitorMessage_$ = function($msg$jscomp$76$$) {
  this.$logger_$.info("Unregistering monitor client: " + $msg$jscomp$76$$.originId);
  this.$b$.remove($goog$asserts$assert$$($msg$jscomp$76$$.originId));
};
$JSCompiler_prototypeAlias$$.$handleDeviceJustSetUpMessage_$ = function($msg$jscomp$77_processedUdn$$) {
  $msg$jscomp$77_processedUdn$$ = $goog$asserts$assert$$($msg$jscomp$77_processedUdn$$.deviceJustSetUp).udn.replace(/-/g, "").toLowerCase();
  this.$logger_$.info("Device just set up: " + $msg$jscomp$77_processedUdn$$.slice(-4));
};
$JSCompiler_prototypeAlias$$.$handleLogRecordMessage_$ = function($msg$jscomp$78_msgPayload$$) {
  $msg$jscomp$78_msgPayload$$ = $goog$asserts$assert$$($msg$jscomp$78_msgPayload$$.logRecord);
  $mr$Logger$logRecord$$({level:$mr$Logger$numberToLevel$$($msg$jscomp$78_msgPayload$$.levelValue), $logger$:$msg$jscomp$78_msgPayload$$.loggerName, time:$msg$jscomp$78_msgPayload$$.time, message:$msg$jscomp$78_msgPayload$$.msg});
};
var $JSCompiler_StaticMethods_broadcastDeviceList_$$ = function($JSCompiler_StaticMethods_broadcastDeviceList_$self$$) {
  var $deviceList$$ = $JSCompiler_StaticMethods_broadcastDeviceList_$self$$.$f$.$getValues$();
  $JSCompiler_StaticMethods_castApp_eventPage_Service_prototype$sendMessage_$$($JSCompiler_StaticMethods_broadcastDeviceList_$self$$, "devices", $deviceList$$);
}, $JSCompiler_StaticMethods_refreshDevices_$$ = function($JSCompiler_StaticMethods_refreshDevices_$self$$) {
  $JSCompiler_StaticMethods_refreshDevices_$self$$.$h$.$b$.$getValues$().forEach(function($sink$jscomp$13$$) {
    this.$g$.sendRequest(new $mr$cast$ReceiverStatusRequest$$, $sink$jscomp$13$$, $mr$cast$Namespace$Cast$RECEIVER$$);
  }.bind($JSCompiler_StaticMethods_refreshDevices_$self$$));
};
$castApp$eventPage$Service$$.prototype.$m$ = function($rawMsg$jscomp$1$$, $sender$jscomp$2_tabId$jscomp$16$$, $sendResponse$jscomp$1$$) {
  switch($rawMsg$jscomp$1$$.type) {
    case "handshake":
      $sendResponse$jscomp$1$$(new $castApp$frontEnd$ExtensionMessage$$("handshake"));
      break;
    case "launch":
      $sender$jscomp$2_tabId$jscomp$16$$ = $sender$jscomp$2_tabId$jscomp$16$$.tab && "number" === typeof $sender$jscomp$2_tabId$jscomp$16$$.tab.id ? $sender$jscomp$2_tabId$jscomp$16$$.tab.id : null, null === $sender$jscomp$2_tabId$jscomp$16$$ || "setup" !== $rawMsg$jscomp$1$$.entryPoint && "offers" !== $rawMsg$jscomp$1$$.entryPoint && "devices" !== $rawMsg$jscomp$1$$.entryPoint || chrome.tabs.update($sender$jscomp$2_tabId$jscomp$16$$, {url:"chrome://cast#" + $rawMsg$jscomp$1$$.entryPoint});
  }
};
chrome.cast.VERSION = [1, 2];
$goog$exportSymbol$$("chrome.cast.VERSION", chrome.cast.VERSION);
chrome.cast.$usingPresentationApi$ = !0;
$goog$exportSymbol$$("chrome.cast.usingPresentationApi", chrome.cast.$usingPresentationApi$);
chrome.cast.Error = function($code$jscomp$9$$, $opt_description$jscomp$3$$, $opt_details$$) {
  this.code = $code$jscomp$9$$;
  this.description = $opt_description$jscomp$3$$ || null;
  this.details = $opt_details$$ || null;
};
$goog$exportSymbol$$("chrome.cast.Error", chrome.cast.Error);
chrome.cast.$SenderApplication$ = function($platform$$) {
  this.platform = $platform$$;
  this.packageId = this.url = null;
};
$goog$exportSymbol$$("chrome.cast.SenderApplication", chrome.cast.$SenderApplication$);
chrome.cast.Image = function($url$jscomp$100$$) {
  this.url = $url$jscomp$100$$;
  this.width = this.height = null;
};
$goog$exportSymbol$$("chrome.cast.Image", chrome.cast.Image);
chrome.cast.Volume = function($opt_level$jscomp$1$$, $opt_muted$$) {
  this.level = void 0 !== $opt_level$jscomp$1$$ ? $opt_level$jscomp$1$$ : null;
  this.muted = void 0 !== $opt_muted$$ ? $opt_muted$$ : null;
};
$goog$exportSymbol$$("chrome.cast.Volume", chrome.cast.Volume);
chrome.cast.$AutoJoinPolicy$ = {CUSTOM_CONTROLLER_SCOPED:"custom_controller_scoped", TAB_AND_ORIGIN_SCOPED:"tab_and_origin_scoped", ORIGIN_SCOPED:"origin_scoped", PAGE_SCOPED:"page_scoped"};
$goog$exportSymbol$$("chrome.cast.AutoJoinPolicy", chrome.cast.$AutoJoinPolicy$);
chrome.cast.$DefaultActionPolicy$ = {CREATE_SESSION:"create_session", CAST_THIS_TAB:"cast_this_tab"};
$goog$exportSymbol$$("chrome.cast.DefaultActionPolicy", chrome.cast.$DefaultActionPolicy$);
chrome.cast.$Capability$ = {VIDEO_OUT:"video_out", AUDIO_OUT:"audio_out", VIDEO_IN:"video_in", AUDIO_IN:"audio_in", MULTIZONE_GROUP:"multizone_group"};
$goog$exportSymbol$$("chrome.cast.Capability", chrome.cast.$Capability$);
chrome.cast.$ErrorCode$ = {CANCEL:"cancel", TIMEOUT:"timeout", API_NOT_INITIALIZED:"api_not_initialized", INVALID_PARAMETER:"invalid_parameter", EXTENSION_NOT_COMPATIBLE:"extension_not_compatible", EXTENSION_MISSING:"extension_missing", RECEIVER_UNAVAILABLE:"receiver_unavailable", SESSION_ERROR:"session_error", CHANNEL_ERROR:"channel_error", LOAD_MEDIA_FAILED:"load_media_failed"};
$goog$exportSymbol$$("chrome.cast.ErrorCode", chrome.cast.$ErrorCode$);
chrome.cast.$ReceiverAvailability$ = {AVAILABLE:"available", UNAVAILABLE:"unavailable"};
$goog$exportSymbol$$("chrome.cast.ReceiverAvailability", chrome.cast.$ReceiverAvailability$);
chrome.cast.$SenderPlatform$ = {CHROME:"chrome", IOS:"ios", ANDROID:"android"};
$goog$exportSymbol$$("chrome.cast.SenderPlatform", chrome.cast.$SenderPlatform$);
chrome.cast.$ReceiverType$ = {CAST:"cast", DIAL:"dial", HANGOUT:"hangout", CUSTOM:"custom"};
$goog$exportSymbol$$("chrome.cast.ReceiverType", chrome.cast.$ReceiverType$);
chrome.cast.$DialAppState$ = {RUNNING:"running", STOPPED:"stopped", ERROR:"error"};
$goog$exportSymbol$$("chrome.cast.DialAppState", chrome.cast.$DialAppState$);
chrome.cast.$ReceiverAction$ = {CAST:"cast", STOP:"stop"};
$goog$exportSymbol$$("chrome.cast.ReceiverAction", chrome.cast.$ReceiverAction$);
chrome.cast.$SessionStatus$ = {CONNECTED:"connected", DISCONNECTED:"disconnected", STOPPED:"stopped"};
$goog$exportSymbol$$("chrome.cast.SessionStatus", chrome.cast.$SessionStatus$);
chrome.cast.$VolumeControlType$ = {ATTENUATION:"attenuation", FIXED:"fixed", MASTER:"master"};
$goog$exportSymbol$$("chrome.cast.VolumeControlType", chrome.cast.$VolumeControlType$);
chrome.cast.$ApiConfig$ = function($sessionRequest$jscomp$2$$, $sessionListener$$, $receiverListener$$, $opt_autoJoinPolicy$$, $opt_defaultActionPolicy$$) {
  this.sessionRequest = $sessionRequest$jscomp$2$$;
  this.sessionListener = $sessionListener$$;
  this.receiverListener = $receiverListener$$;
  this.autoJoinPolicy = $opt_autoJoinPolicy$$ || chrome.cast.$AutoJoinPolicy$.TAB_AND_ORIGIN_SCOPED;
  this.defaultActionPolicy = $opt_defaultActionPolicy$$ || chrome.cast.$DefaultActionPolicy$.CREATE_SESSION;
  this.customDialLaunchCallback = null;
  this.invisibleSender = !1;
  this.additionalSessionRequests = [];
};
$goog$exportSymbol$$("chrome.cast.ApiConfig", chrome.cast.$ApiConfig$);
chrome.cast.$DialRequest$ = function($appName$jscomp$3$$, $opt_launchParameter$$) {
  this.appName = $appName$jscomp$3$$;
  this.launchParameter = $opt_launchParameter$$ || null;
};
$goog$exportSymbol$$("chrome.cast.DialRequest", chrome.cast.$DialRequest$);
chrome.cast.$DialLaunchData$ = function($receiver$jscomp$5$$, $appState$$, $opt_extraData$$) {
  this.receiver = $receiver$jscomp$5$$;
  this.appState = $appState$$;
  this.extraData = $opt_extraData$$ || null;
};
$goog$exportSymbol$$("chrome.cast.DialLaunchData", chrome.cast.$DialLaunchData$);
chrome.cast.$DialLaunchResponse$ = function($doLaunch$$, $opt_launchParameter$jscomp$1$$) {
  this.doLaunch = $doLaunch$$;
  this.launchParameter = $opt_launchParameter$jscomp$1$$ || null;
};
$goog$exportSymbol$$("chrome.cast.DialLaunchResponse", chrome.cast.$DialLaunchResponse$);
chrome.cast.$SessionRequest$ = function($appId$jscomp$9$$, $opt_capabilities$jscomp$2$$, $opt_timeout$$) {
  this.appId = $appId$jscomp$9$$;
  this.capabilities = $goog$isArray$$($opt_capabilities$jscomp$2$$) ? $opt_capabilities$jscomp$2$$ : [chrome.cast.$Capability$.VIDEO_OUT, chrome.cast.$Capability$.AUDIO_OUT];
  this.requestSessionTimeout = $opt_timeout$$ || chrome.cast.timeout.requestSession;
  this.dialRequest = this.language = null;
};
$goog$exportSymbol$$("chrome.cast.SessionRequest", chrome.cast.$SessionRequest$);
chrome.cast.$Receiver$ = function($label$jscomp$9_str$jscomp$inline_6677$$, $friendlyName$jscomp$5$$, $opt_capabilities$jscomp$3$$, $opt_volume$$) {
  this.label = $label$jscomp$9_str$jscomp$inline_6677$$;
  $label$jscomp$9_str$jscomp$inline_6677$$ = $friendlyName$jscomp$5$$;
  $goog$string$internal$ALL_RE_$$.test($label$jscomp$9_str$jscomp$inline_6677$$) && (-1 != $label$jscomp$9_str$jscomp$inline_6677$$.indexOf("&") && ($label$jscomp$9_str$jscomp$inline_6677$$ = $label$jscomp$9_str$jscomp$inline_6677$$.replace($goog$string$internal$AMP_RE_$$, "&amp;")), -1 != $label$jscomp$9_str$jscomp$inline_6677$$.indexOf("<") && ($label$jscomp$9_str$jscomp$inline_6677$$ = $label$jscomp$9_str$jscomp$inline_6677$$.replace($goog$string$internal$LT_RE_$$, "&lt;")), -1 != $label$jscomp$9_str$jscomp$inline_6677$$.indexOf(">") && 
  ($label$jscomp$9_str$jscomp$inline_6677$$ = $label$jscomp$9_str$jscomp$inline_6677$$.replace($goog$string$internal$GT_RE_$$, "&gt;")), -1 != $label$jscomp$9_str$jscomp$inline_6677$$.indexOf('"') && ($label$jscomp$9_str$jscomp$inline_6677$$ = $label$jscomp$9_str$jscomp$inline_6677$$.replace($goog$string$internal$QUOT_RE_$$, "&quot;")), -1 != $label$jscomp$9_str$jscomp$inline_6677$$.indexOf("'") && ($label$jscomp$9_str$jscomp$inline_6677$$ = $label$jscomp$9_str$jscomp$inline_6677$$.replace($goog$string$internal$SINGLE_QUOTE_RE_$$, 
  "&#39;")), -1 != $label$jscomp$9_str$jscomp$inline_6677$$.indexOf("\x00") && ($label$jscomp$9_str$jscomp$inline_6677$$ = $label$jscomp$9_str$jscomp$inline_6677$$.replace($goog$string$internal$NULL_RE_$$, "&#0;")));
  this.friendlyName = $label$jscomp$9_str$jscomp$inline_6677$$;
  this.capabilities = $opt_capabilities$jscomp$3$$ || [];
  this.volume = $opt_volume$$ || null;
  this.receiverType = chrome.cast.$ReceiverType$.CAST;
  this.displayStatus = this.isActiveInput = null;
};
$goog$exportSymbol$$("chrome.cast.Receiver", chrome.cast.$Receiver$);
chrome.cast.$ReceiverDisplayStatus$ = function($statusText$$, $appImages$$) {
  this.statusText = $statusText$$;
  this.appImages = $appImages$$;
  this.showStop = null;
};
$goog$exportSymbol$$("chrome.cast.ReceiverDisplayStatus", chrome.cast.$ReceiverDisplayStatus$);
chrome.cast.$Timeout$ = function() {
  this.requestSession = 60000;
  this.sendCustomMessage = this.setReceiverVolume = this.stopSession = this.leaveSession = 3000;
};
$goog$exportSymbol$$("chrome.cast.Timeout", chrome.cast.$Timeout$);
chrome.cast.timeout = new chrome.cast.$Timeout$;
$goog$exportSymbol$$("chrome.cast.timeout", chrome.cast.timeout);
chrome.cast.$AUTO_JOIN_PRESENTATION_ID$ = "auto-join";
chrome.cast.$PRESENTATION_ID_PREFIX$ = "cast-session_";
chrome.cast.media.$HdrType$ = {SDR:"sdr", HDR:"hdr", DV:"dv"};
$goog$exportSymbol$$("chrome.cast.media.HdrType", chrome.cast.media.$HdrType$);
chrome.cast.media.$HlsSegmentFormat$ = {AAC:"aac", AC3:"ac3", MP3:"mp3", TS:"ts", TS_AAC:"ts_aac", E_AC3:"e_ac3", FMP4:"fmp4"};
$goog$exportSymbol$$("chrome.cast.media.HlsSegmentFormat", chrome.cast.media.$HlsSegmentFormat$);
chrome.cast.media.$HlsVideoSegmentFormat$ = {MPEG2_TS:"mpeg2_ts", FMP4:"fmp4"};
$goog$exportSymbol$$("chrome.cast.media.HlsVideoSegmentFormat", chrome.cast.media.$HlsVideoSegmentFormat$);
chrome.cast.media.$MediaCommand$ = {PAUSE:"pause", SEEK:"seek", STREAM_VOLUME:"stream_volume", STREAM_MUTE:"stream_mute"};
$goog$exportSymbol$$("chrome.cast.media.MediaCommand", chrome.cast.media.$MediaCommand$);
chrome.cast.media.$QueueType$ = {ALBUM:"ALBUM", PLAYLIST:"PLAYLIST", AUDIOBOOK:"AUDIOBOOK", RADIO_STATION:"RADIO_STATION", PODCAST_SERIES:"PODCAST_SERIES", TV_SERIES:"TV_SERIES", VIDEO_PLAYLIST:"VIDEO_PLAYLIST", LIVE_TV:"LIVE_TV", MOVIE:"MOVIE"};
$goog$exportSymbol$$("chrome.cast.media.QueueType", chrome.cast.media.$QueueType$);
chrome.cast.media.$ContainerType$ = {GENERIC_CONTAINER:0, AUDIOBOOK_CONTAINER:1};
$goog$exportSymbol$$("chrome.cast.media.ContainerType", chrome.cast.media.$ContainerType$);
chrome.cast.media.$MetadataType$ = {GENERIC:0, MOVIE:1, TV_SHOW:2, MUSIC_TRACK:3, PHOTO:4, AUDIOBOOK_CHAPTER:5};
$goog$exportSymbol$$("chrome.cast.media.MetadataType", chrome.cast.media.$MetadataType$);
chrome.cast.media.PlayerState = {IDLE:"IDLE", PLAYING:"PLAYING", PAUSED:"PAUSED", BUFFERING:"BUFFERING"};
$goog$exportSymbol$$("chrome.cast.media.PlayerState", chrome.cast.media.PlayerState);
chrome.cast.media.$RepeatMode$ = {OFF:"REPEAT_OFF", ALL:"REPEAT_ALL", SINGLE:"REPEAT_SINGLE", ALL_AND_SHUFFLE:"REPEAT_ALL_AND_SHUFFLE"};
$goog$exportSymbol$$("chrome.cast.media.RepeatMode", chrome.cast.media.$RepeatMode$);
chrome.cast.media.$ResumeState$ = {PLAYBACK_START:"PLAYBACK_START", PLAYBACK_PAUSE:"PLAYBACK_PAUSE"};
$goog$exportSymbol$$("chrome.cast.media.ResumeState", chrome.cast.media.$ResumeState$);
chrome.cast.media.$StreamType$ = {BUFFERED:"BUFFERED", LIVE:"LIVE", OTHER:"OTHER"};
$goog$exportSymbol$$("chrome.cast.media.StreamType", chrome.cast.media.$StreamType$);
chrome.cast.media.$IdleReason$ = {CANCELLED:"CANCELLED", INTERRUPTED:"INTERRUPTED", FINISHED:"FINISHED", ERROR:"ERROR"};
$goog$exportSymbol$$("chrome.cast.media.IdleReason", chrome.cast.media.$IdleReason$);
chrome.cast.media.$TrackType$ = {TEXT:"TEXT", AUDIO:"AUDIO", VIDEO:"VIDEO"};
$goog$exportSymbol$$("chrome.cast.media.TrackType", chrome.cast.media.$TrackType$);
chrome.cast.media.$TextTrackType$ = {SUBTITLES:"SUBTITLES", CAPTIONS:"CAPTIONS", DESCRIPTIONS:"DESCRIPTIONS", CHAPTERS:"CHAPTERS", METADATA:"METADATA"};
$goog$exportSymbol$$("chrome.cast.media.TextTrackType", chrome.cast.media.$TextTrackType$);
chrome.cast.media.$TextTrackEdgeType$ = {NONE:"NONE", OUTLINE:"OUTLINE", DROP_SHADOW:"DROP_SHADOW", RAISED:"RAISED", DEPRESSED:"DEPRESSED"};
$goog$exportSymbol$$("chrome.cast.media.TextTrackEdgeType", chrome.cast.media.$TextTrackEdgeType$);
chrome.cast.media.$TextTrackWindowType$ = {NONE:"NONE", NORMAL:"NORMAL", ROUNDED_CORNERS:"ROUNDED_CORNERS"};
$goog$exportSymbol$$("chrome.cast.media.TextTrackWindowType", chrome.cast.media.$TextTrackWindowType$);
chrome.cast.media.$TextTrackFontGenericFamily$ = {SANS_SERIF:"SANS_SERIF", MONOSPACED_SANS_SERIF:"MONOSPACED_SANS_SERIF", SERIF:"SERIF", MONOSPACED_SERIF:"MONOSPACED_SERIF", CASUAL:"CASUAL", CURSIVE:"CURSIVE", SMALL_CAPITALS:"SMALL_CAPITALS"};
$goog$exportSymbol$$("chrome.cast.media.TextTrackFontGenericFamily", chrome.cast.media.$TextTrackFontGenericFamily$);
chrome.cast.media.$TextTrackFontStyle$ = {NORMAL:"NORMAL", BOLD:"BOLD", BOLD_ITALIC:"BOLD_ITALIC", ITALIC:"ITALIC"};
$goog$exportSymbol$$("chrome.cast.media.TextTrackFontStyle", chrome.cast.media.$TextTrackFontStyle$);
chrome.cast.media.$UserAction$ = {LIKE:"LIKE", DISLIKE:"DISLIKE", FOLLOW:"FOLLOW", UNFOLLOW:"UNFOLLOW"};
$goog$exportSymbol$$("chrome.cast.media.UserAction", chrome.cast.media.$UserAction$);
chrome.cast.media.$GetStatusRequest$ = function() {
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.GetStatusRequest", chrome.cast.media.$GetStatusRequest$);
chrome.cast.media.$PauseRequest$ = function() {
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.PauseRequest", chrome.cast.media.$PauseRequest$);
chrome.cast.media.$PlayRequest$ = function() {
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.PlayRequest", chrome.cast.media.$PlayRequest$);
chrome.cast.media.$SeekRequest$ = function() {
  this.customData = this.resumeState = this.currentTime = null;
};
$goog$exportSymbol$$("chrome.cast.media.SeekRequest", chrome.cast.media.$SeekRequest$);
chrome.cast.media.$StopRequest$ = function() {
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.StopRequest", chrome.cast.media.$StopRequest$);
chrome.cast.media.$VolumeRequest$ = function($volume$jscomp$1$$) {
  this.volume = $volume$jscomp$1$$;
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.VolumeRequest", chrome.cast.media.$VolumeRequest$);
chrome.cast.media.$LoadRequest$ = function($mediaInfo$$) {
  this.type = "LOAD";
  this.requestId = 0;
  this.sessionId = null;
  this.media = $mediaInfo$$;
  this.activeTrackIds = null;
  this.autoplay = !0;
  this.customData = this.currentTime = null;
};
$goog$exportSymbol$$("chrome.cast.media.LoadRequest", chrome.cast.media.$LoadRequest$);
chrome.cast.media.$PrecacheRequest$ = function($data$jscomp$90$$) {
  this.type = "PRECACHE";
  this.requestId = 0;
  this.precacheData = $data$jscomp$90$$;
};
chrome.cast.media.$EditTracksInfoRequest$ = function($opt_activeTrackIds$$, $opt_textTrackStyle$$) {
  this.requestId = 0;
  this.activeTrackIds = $opt_activeTrackIds$$ || null;
  this.textTrackStyle = $opt_textTrackStyle$$ || null;
};
$goog$exportSymbol$$("chrome.cast.media.EditTracksInfoRequest", chrome.cast.media.$EditTracksInfoRequest$);
chrome.cast.media.$ContainerMetadata$ = function($type$jscomp$174$$) {
  this.containerType = $type$jscomp$174$$ = void 0 === $type$jscomp$174$$ ? chrome.cast.media.$ContainerType$.GENERIC_CONTAINER : $type$jscomp$174$$;
  this.containerDuration = this.containerImages = this.sections = this.title = void 0;
};
$goog$exportSymbol$$("chrome.cast.media.ContainerMetadata", chrome.cast.media.$ContainerMetadata$);
chrome.cast.media.$MediaMetadata$ = function($type$jscomp$175$$) {
  this.metadataType = this.type = $type$jscomp$175$$;
  this.queueItemId = this.sectionStartTimeInContainer = this.sectionStartAbsoluteTime = this.sectionStartTimeInMedia = this.sectionDuration = void 0;
};
$goog$exportSymbol$$("chrome.cast.media.MediaMetadata", chrome.cast.media.$MediaMetadata$);
chrome.cast.media.$GenericMediaMetadata$ = function() {
  chrome.cast.media.$MediaMetadata$.call(this, chrome.cast.media.$MetadataType$.GENERIC);
  this.releaseDate = this.releaseYear = this.images = this.subtitle = this.title = void 0;
};
$$jscomp$inherits$$(chrome.cast.media.$GenericMediaMetadata$, chrome.cast.media.$MediaMetadata$);
$goog$exportSymbol$$("chrome.cast.media.GenericMediaMetadata", chrome.cast.media.$GenericMediaMetadata$);
chrome.cast.media.$MovieMediaMetadata$ = function() {
  chrome.cast.media.$MediaMetadata$.call(this, chrome.cast.media.$MetadataType$.MOVIE);
  this.releaseDate = this.releaseYear = this.images = this.subtitle = this.studio = this.title = void 0;
};
$$jscomp$inherits$$(chrome.cast.media.$MovieMediaMetadata$, chrome.cast.media.$MediaMetadata$);
$goog$exportSymbol$$("chrome.cast.media.MovieMediaMetadata", chrome.cast.media.$MovieMediaMetadata$);
chrome.cast.media.$TvShowMediaMetadata$ = function() {
  chrome.cast.media.$MediaMetadata$.call(this, chrome.cast.media.$MetadataType$.TV_SHOW);
  this.originalAirdate = this.releaseYear = this.images = this.episode = this.episodeNumber = this.season = this.seasonNumber = this.episodeTitle = this.title = this.seriesTitle = void 0;
};
$$jscomp$inherits$$(chrome.cast.media.$TvShowMediaMetadata$, chrome.cast.media.$MediaMetadata$);
$goog$exportSymbol$$("chrome.cast.media.TvShowMediaMetadata", chrome.cast.media.$TvShowMediaMetadata$);
chrome.cast.media.$MusicTrackMediaMetadata$ = function() {
  chrome.cast.media.$MediaMetadata$.call(this, chrome.cast.media.$MetadataType$.MUSIC_TRACK);
  this.releaseDate = this.releaseYear = this.images = this.discNumber = this.trackNumber = this.artistName = this.songName = this.composer = this.artist = this.albumArtist = this.title = this.albumName = void 0;
};
$$jscomp$inherits$$(chrome.cast.media.$MusicTrackMediaMetadata$, chrome.cast.media.$MediaMetadata$);
$goog$exportSymbol$$("chrome.cast.media.MusicTrackMediaMetadata", chrome.cast.media.$MusicTrackMediaMetadata$);
chrome.cast.media.$PhotoMediaMetadata$ = function() {
  chrome.cast.media.$MediaMetadata$.call(this, chrome.cast.media.$MetadataType$.PHOTO);
  this.creationDateTime = this.height = this.width = this.longitude = this.latitude = this.images = this.location = this.artist = this.title = void 0;
};
$$jscomp$inherits$$(chrome.cast.media.$PhotoMediaMetadata$, chrome.cast.media.$MediaMetadata$);
$goog$exportSymbol$$("chrome.cast.media.PhotoMediaMetadata", chrome.cast.media.$PhotoMediaMetadata$);
chrome.cast.media.$AudiobookContainerMetadata$ = function() {
  chrome.cast.media.$ContainerMetadata$.call(this, chrome.cast.media.$ContainerType$.AUDIOBOOK_CONTAINER);
  this.releaseDate = this.publisher = this.narrators = this.authors = void 0;
};
$$jscomp$inherits$$(chrome.cast.media.$AudiobookContainerMetadata$, chrome.cast.media.$ContainerMetadata$);
$goog$exportSymbol$$("chrome.cast.media.AudiobookContainerMetadata", chrome.cast.media.$AudiobookContainerMetadata$);
chrome.cast.media.$AudiobookChapterMediaMetadata$ = function() {
  chrome.cast.media.$MediaMetadata$.call(this, chrome.cast.media.$MetadataType$.AUDIOBOOK_CHAPTER);
  this.images = this.subtitle = this.bookTitle = this.chapterNumber = this.title = this.chapterTitle = void 0;
};
$$jscomp$inherits$$(chrome.cast.media.$AudiobookChapterMediaMetadata$, chrome.cast.media.$MediaMetadata$);
$goog$exportSymbol$$("chrome.cast.media.AudiobookChapterMediaMetadata", chrome.cast.media.$AudiobookChapterMediaMetadata$);
chrome.cast.media.$MediaInfo$ = function($contentId$$, $contentType$jscomp$4$$) {
  this.contentId = $contentId$$;
  this.contentUrl = void 0;
  this.streamType = chrome.cast.media.$StreamType$.BUFFERED;
  this.contentType = $contentType$jscomp$4$$;
  this.metadata = null;
  this.entity = void 0;
  this.duration = null;
  this.startAbsoluteTime = void 0;
  this.customData = this.textTrackStyle = this.tracks = null;
  this.userActionStates = this.hlsVideoSegmentFormat = this.hlsSegmentFormat = this.vmapAdsRequest = this.breakClips = this.breaks = void 0;
};
$goog$exportSymbol$$("chrome.cast.media.MediaInfo", chrome.cast.media.$MediaInfo$);
chrome.cast.media.$QueueItem$ = function($mediaInfo$jscomp$1$$) {
  this.itemId = null;
  this.media = $mediaInfo$jscomp$1$$;
  this.autoplay = !0;
  this.startTime = 0;
  this.playbackDuration = null;
  this.preloadTime = 0;
  this.customData = this.activeTrackIds = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueItem", chrome.cast.media.$QueueItem$);
chrome.cast.media.$DEFAULT_MEDIA_RECEIVER_APP_ID$ = "CC1AD845";
$goog$exportSymbol$$("chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID", chrome.cast.media.$DEFAULT_MEDIA_RECEIVER_APP_ID$);
chrome.cast.media.timeout = {};
chrome.cast.media.timeout.load = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.load", chrome.cast.media.timeout.load);
chrome.cast.media.timeout.$getStatus$ = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.getStatus", chrome.cast.media.timeout.$getStatus$);
chrome.cast.media.timeout.play = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.play", chrome.cast.media.timeout.play);
chrome.cast.media.timeout.pause = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.pause", chrome.cast.media.timeout.pause);
chrome.cast.media.timeout.seek = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.seek", chrome.cast.media.timeout.seek);
chrome.cast.media.timeout.stop = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.stop", chrome.cast.media.timeout.stop);
chrome.cast.media.timeout.setVolume = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.setVolume", chrome.cast.media.timeout.setVolume);
chrome.cast.media.timeout.$editTracksInfo$ = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.editTracksInfo", chrome.cast.media.timeout.$editTracksInfo$);
chrome.cast.media.timeout.$queue$ = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.queue", chrome.cast.media.timeout.$queue$);
chrome.cast.media.$Track$ = function($trackId$jscomp$1$$, $trackType$$) {
  this.trackId = $trackId$jscomp$1$$;
  this.trackContentType = this.trackContentId = null;
  this.type = $trackType$$;
  this.customData = this.subtype = this.language = this.name = null;
};
$goog$exportSymbol$$("chrome.cast.media.Track", chrome.cast.media.$Track$);
chrome.cast.media.$TextTrackStyle$ = function() {
  this.customData = this.fontStyle = this.fontGenericFamily = this.fontFamily = this.fontScale = this.windowRoundedCornerRadius = this.windowColor = this.windowType = this.edgeColor = this.edgeType = this.backgroundColor = this.foregroundColor = null;
};
$goog$exportSymbol$$("chrome.cast.media.TextTrackStyle", chrome.cast.media.$TextTrackStyle$);
chrome.cast.media.$QueueLoadRequest$ = function($items$jscomp$1$$) {
  this.type = "QUEUE_LOAD";
  this.sessionId = this.requestId = null;
  this.items = $items$jscomp$1$$;
  this.startIndex = 0;
  this.repeatMode = chrome.cast.media.$RepeatMode$.OFF;
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueLoadRequest", chrome.cast.media.$QueueLoadRequest$);
chrome.cast.media.$QueueInsertItemsRequest$ = function($itemsToInsert$$) {
  this.type = "QUEUE_INSERT";
  this.sessionId = this.requestId = null;
  this.items = $itemsToInsert$$;
  this.customData = this.insertBefore = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueInsertItemsRequest", chrome.cast.media.$QueueInsertItemsRequest$);
chrome.cast.media.$QueueUpdateItemsRequest$ = function($itemsToUpdate$$) {
  this.type = "QUEUE_UPDATE";
  this.sessionId = this.requestId = null;
  this.items = $itemsToUpdate$$;
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueUpdateItemsRequest", chrome.cast.media.$QueueUpdateItemsRequest$);
chrome.cast.media.$QueueJumpRequest$ = function() {
  this.type = "QUEUE_UPDATE";
  this.customData = this.jump = this.currentItemId = this.sessionId = this.requestId = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueJumpRequest", chrome.cast.media.$QueueJumpRequest$);
chrome.cast.media.$QueueSetPropertiesRequest$ = function() {
  this.type = "QUEUE_UPDATE";
  this.customData = this.repeatMode = this.sessionId = this.requestId = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueSetPropertiesRequest", chrome.cast.media.$QueueSetPropertiesRequest$);
chrome.cast.media.$QueueRemoveItemsRequest$ = function($itemIdsToRemove$$) {
  this.type = "QUEUE_REMOVE";
  this.sessionId = this.requestId = null;
  this.itemIds = $itemIdsToRemove$$;
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueRemoveItemsRequest", chrome.cast.media.$QueueRemoveItemsRequest$);
chrome.cast.media.$QueueReorderItemsRequest$ = function($itemIdsToReorder$$) {
  this.type = "QUEUE_REORDER";
  this.sessionId = this.requestId = null;
  this.itemIds = $itemIdsToReorder$$;
  this.customData = this.insertBefore = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueReorderItemsRequest", chrome.cast.media.$QueueReorderItemsRequest$);
chrome.cast.media.$Break$ = function($id$jscomp$61$$, $breakClipIds$$, $position$jscomp$4$$) {
  this.id = $id$jscomp$61$$;
  this.breakClipIds = $breakClipIds$$;
  this.position = $position$jscomp$4$$;
  this.duration = void 0;
  this.isWatched = !1;
  this.isEmbedded = void 0;
};
$goog$exportSymbol$$("chrome.cast.media.Break", chrome.cast.media.$Break$);
chrome.cast.media.$BreakClip$ = function($id$jscomp$62$$) {
  this.id = $id$jscomp$62$$;
  this.vastAdsRequest = this.customData = this.hlsSegmentFormat = this.clickThroughUrl = this.posterUrl = this.whenSkippable = this.duration = this.title = this.contentType = this.contentUrl = this.contentId = void 0;
};
$goog$exportSymbol$$("chrome.cast.media.BreakClip", chrome.cast.media.$BreakClip$);
chrome.cast.media.$VastAdsRequest$ = function() {
  this.adsResponse = this.adTagUrl = void 0;
};
$goog$exportSymbol$$("chrome.cast.media.VastAdsRequest", chrome.cast.media.$VastAdsRequest$);
chrome.cast.media.$BreakStatus$ = function() {
  this.whenSkippable = this.breakClipId = this.breakId = this.currentBreakClipTime = this.currentBreakTime = void 0;
};
$goog$exportSymbol$$("chrome.cast.media.BreakStatus", chrome.cast.media.$BreakStatus$);
chrome.cast.media.$LiveSeekableRange$ = function($start$jscomp$28$$, $end$jscomp$22$$, $isMovingWindow$$, $isLiveDone$$) {
  this.start = $start$jscomp$28$$;
  this.end = $end$jscomp$22$$;
  this.isMovingWindow = $isMovingWindow$$;
  this.isLiveDone = $isLiveDone$$;
};
$goog$exportSymbol$$("chrome.cast.media.LiveSeekableRange", chrome.cast.media.$LiveSeekableRange$);
chrome.cast.media.$QueueData$ = function($id$jscomp$63$$, $name$jscomp$163$$, $description$jscomp$12$$, $repeatMode$$, $items$jscomp$2$$, $startIndex$jscomp$1$$, $startTime$jscomp$8$$) {
  this.id = $id$jscomp$63$$;
  this.queueType = this.entity = void 0;
  this.name = $name$jscomp$163$$;
  this.description = $description$jscomp$12$$;
  this.repeatMode = $repeatMode$$;
  this.shuffle = !1;
  this.items = $items$jscomp$2$$;
  this.startIndex = $startIndex$jscomp$1$$;
  this.startTime = $startTime$jscomp$8$$;
  this.containerMetadata = void 0;
};
$goog$exportSymbol$$("chrome.cast.media.QueueData", chrome.cast.media.$QueueData$);
chrome.cast.media.$UserActionState$ = function($userAction$$) {
  this.userAction = $userAction$$;
  this.customData = void 0;
};
$goog$exportSymbol$$("chrome.cast.media.UserActionState", chrome.cast.media.$UserActionState$);
chrome.cast.media.$VideoInformation$ = function($width$jscomp$31$$, $height$jscomp$31$$, $hdrType$$) {
  this.width = $width$jscomp$31$$;
  this.height = $height$jscomp$31$$;
  this.hdrType = $hdrType$$;
};
$goog$exportSymbol$$("chrome.cast.media.VideoInformation", chrome.cast.media.$VideoInformation$);
chrome.cast.media.$Media$ = function($sessionId$jscomp$7$$, $mediaSessionId$$) {
  this.sessionId = $sessionId$jscomp$7$$;
  this.mediaSessionId = $mediaSessionId$$;
  this.media = null;
  this.videoInfo = this.queueData = void 0;
  this.playbackRate = 1.0;
  this.playerState = chrome.cast.media.PlayerState.IDLE;
  this.currentTime = 0.0;
  this.supportedMediaCommands = [];
  this.volume = new chrome.cast.Volume;
  this.items = this.preloadedItemId = this.loadingItemId = this.currentItemId = this.customData = this.activeTrackIds = this.idleReason = null;
  this.repeatMode = chrome.cast.media.$RepeatMode$.OFF;
  this.liveSeekableRange = this.breakStatus = void 0;
};
$goog$exportSymbol$$("chrome.cast.media.Media", chrome.cast.media.$Media$);
chrome.cast.media.$Media$.prototype.$getStatus$ = function() {
};
chrome.cast.media.$Media$.prototype.getStatus = chrome.cast.media.$Media$.prototype.$getStatus$;
chrome.cast.media.$Media$.prototype.play = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.media.$Media$.prototype.play = chrome.cast.media.$Media$.prototype.play;
chrome.cast.media.$Media$.prototype.$playWithContext$ = function() {
};
chrome.cast.media.$Media$.prototype.playWithContext = chrome.cast.media.$Media$.prototype.$playWithContext$;
chrome.cast.media.$Media$.prototype.pause = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.media.$Media$.prototype.pause = chrome.cast.media.$Media$.prototype.pause;
chrome.cast.media.$Media$.prototype.$pauseWithContext$ = function() {
};
chrome.cast.media.$Media$.prototype.pauseWithContext = chrome.cast.media.$Media$.prototype.$pauseWithContext$;
chrome.cast.media.$Media$.prototype.seek = function() {
};
chrome.cast.media.$Media$.prototype.seek = chrome.cast.media.$Media$.prototype.seek;
chrome.cast.media.$Media$.prototype.stop = function() {
};
chrome.cast.media.$Media$.prototype.stop = chrome.cast.media.$Media$.prototype.stop;
chrome.cast.media.$Media$.prototype.setVolume = function() {
};
chrome.cast.media.$Media$.prototype.setVolume = chrome.cast.media.$Media$.prototype.setVolume;
chrome.cast.media.$Media$.prototype.$editTracksInfo$ = function() {
};
chrome.cast.media.$Media$.prototype.editTracksInfo = chrome.cast.media.$Media$.prototype.$editTracksInfo$;
chrome.cast.media.$Media$.prototype.$queueInsertItems$ = function() {
};
chrome.cast.media.$Media$.prototype.queueInsertItems = chrome.cast.media.$Media$.prototype.$queueInsertItems$;
chrome.cast.media.$Media$.prototype.$queueAppendItem$ = function() {
};
chrome.cast.media.$Media$.prototype.queueAppendItem = chrome.cast.media.$Media$.prototype.$queueAppendItem$;
chrome.cast.media.$Media$.prototype.$queueUpdateItems$ = function() {
};
chrome.cast.media.$Media$.prototype.queueUpdateItems = chrome.cast.media.$Media$.prototype.$queueUpdateItems$;
chrome.cast.media.$Media$.prototype.$queuePrev$ = function() {
};
chrome.cast.media.$Media$.prototype.queuePrev = chrome.cast.media.$Media$.prototype.$queuePrev$;
chrome.cast.media.$Media$.prototype.$queueNext$ = function() {
};
chrome.cast.media.$Media$.prototype.queueNext = chrome.cast.media.$Media$.prototype.$queueNext$;
chrome.cast.media.$Media$.prototype.$queueJumpToItem$ = function($itemId$$) {
  $JSCompiler_StaticMethods_getIndexOfItem_$$(this, $itemId$$);
};
chrome.cast.media.$Media$.prototype.queueJumpToItem = chrome.cast.media.$Media$.prototype.$queueJumpToItem$;
chrome.cast.media.$Media$.prototype.$queueSetRepeatMode$ = function() {
};
chrome.cast.media.$Media$.prototype.queueSetRepeatMode = chrome.cast.media.$Media$.prototype.$queueSetRepeatMode$;
chrome.cast.media.$Media$.prototype.$queueRemoveItems$ = function() {
};
chrome.cast.media.$Media$.prototype.queueRemoveItems = chrome.cast.media.$Media$.prototype.$queueRemoveItems$;
chrome.cast.media.$Media$.prototype.$queueRemoveItem$ = function($itemId$jscomp$1$$) {
  $JSCompiler_StaticMethods_getIndexOfItem_$$(this, $itemId$jscomp$1$$);
};
chrome.cast.media.$Media$.prototype.queueRemoveItem = chrome.cast.media.$Media$.prototype.$queueRemoveItem$;
chrome.cast.media.$Media$.prototype.$queueReorderItems$ = function() {
};
chrome.cast.media.$Media$.prototype.queueReorderItems = chrome.cast.media.$Media$.prototype.$queueReorderItems$;
chrome.cast.media.$Media$.prototype.$queueMoveItemToNewIndex$ = function($index$jscomp$92_itemId$jscomp$2$$, $newIndex$$, $successCallback$jscomp$51$$, $errorCallback$jscomp$50$$) {
  $index$jscomp$92_itemId$jscomp$2$$ = $JSCompiler_StaticMethods_getIndexOfItem_$$(this, $index$jscomp$92_itemId$jscomp$2$$);
  0 > $index$jscomp$92_itemId$jscomp$2$$ || (0 > $newIndex$$ ? $errorCallback$jscomp$50$$ && $errorCallback$jscomp$50$$(new chrome.cast.Error(chrome.cast.$ErrorCode$.INVALID_PARAMETER)) : $index$jscomp$92_itemId$jscomp$2$$ == $newIndex$$ && $successCallback$jscomp$51$$ && $successCallback$jscomp$51$$());
};
chrome.cast.media.$Media$.prototype.queueMoveItemToNewIndex = chrome.cast.media.$Media$.prototype.$queueMoveItemToNewIndex$;
chrome.cast.media.$Media$.prototype.$supportsCommand$ = function($command$jscomp$1$$) {
  return -1 < this.supportedMediaCommands.indexOf($command$jscomp$1$$);
};
chrome.cast.media.$Media$.prototype.supportsCommand = chrome.cast.media.$Media$.prototype.$supportsCommand$;
chrome.cast.media.$Media$.prototype.$getEstimatedTime$ = function() {
  return this.currentTime;
};
chrome.cast.media.$Media$.prototype.getEstimatedTime = chrome.cast.media.$Media$.prototype.$getEstimatedTime$;
chrome.cast.media.$Media$.prototype.$getEstimatedBreakTime$ = function() {
  if (this.breakStatus && void 0 !== this.breakStatus.currentBreakTime) {
    return this.breakStatus.currentBreakTime;
  }
};
chrome.cast.media.$Media$.prototype.getEstimatedBreakTime = chrome.cast.media.$Media$.prototype.$getEstimatedBreakTime$;
chrome.cast.media.$Media$.prototype.$getEstimatedBreakClipTime$ = function() {
  if (this.breakStatus && void 0 !== this.breakStatus.currentBreakClipTime) {
    return this.breakStatus.currentBreakClipTime;
  }
};
chrome.cast.media.$Media$.prototype.getEstimatedBreakClipTime = chrome.cast.media.$Media$.prototype.$getEstimatedBreakClipTime$;
chrome.cast.media.$Media$.prototype.$getEstimatedLiveSeekableRange$ = function() {
  if (this.liveSeekableRange && void 0 !== this.liveSeekableRange.start && void 0 !== this.liveSeekableRange.end) {
    return this.liveSeekableRange;
  }
};
chrome.cast.media.$Media$.prototype.getEstimatedLiveSeekableRange = chrome.cast.media.$Media$.prototype.$getEstimatedLiveSeekableRange$;
chrome.cast.media.$Media$.prototype.$addUpdateListener$ = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.media.$Media$.prototype.addUpdateListener = chrome.cast.media.$Media$.prototype.$addUpdateListener$;
chrome.cast.media.$Media$.prototype.$addUpdateListenerWithContext$ = function() {
};
chrome.cast.media.$Media$.prototype.addUpdateListenerWithContext = chrome.cast.media.$Media$.prototype.$addUpdateListenerWithContext$;
chrome.cast.media.$Media$.prototype.$removeUpdateListener$ = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.media.$Media$.prototype.removeUpdateListener = chrome.cast.media.$Media$.prototype.$removeUpdateListener$;
chrome.cast.media.$Media$.prototype.$removeUpdateListenerWithContext$ = function() {
};
chrome.cast.media.$Media$.prototype.removeUpdateListenerWithContext = chrome.cast.media.$Media$.prototype.$removeUpdateListenerWithContext$;
var $JSCompiler_StaticMethods_getIndexOfItem_$$ = function($JSCompiler_StaticMethods_getIndexOfItem_$self$$, $itemId$jscomp$3$$) {
  return $goog$array$findIndex$$($JSCompiler_StaticMethods_getIndexOfItem_$self$$.items, function($elem$jscomp$5$$) {
    return $elem$jscomp$5$$.itemId == $itemId$jscomp$3$$;
  });
};
var $mr$cast$ApiInterface$instance$$ = null;
var $mr$cast$AppMessage$$ = function($sessionId$jscomp$17$$, $namespaceName$$, $message$jscomp$68$$) {
  this.sessionId = $sessionId$jscomp$17$$;
  this.namespaceName = $namespaceName$$;
  this.message = $message$jscomp$68$$;
};
var $mr$cast$SetVolumeRequest$$ = function($volume$jscomp$2$$, $opt_expectedVolume$$) {
  this.type = "SET_VOLUME";
  this.requestId = 0;
  this.volume = $volume$jscomp$2$$;
  this.expectedVolume = $opt_expectedVolume$$ || null;
};
chrome.cast.$Session$ = function($sessionId$jscomp$18$$, $appId$jscomp$10$$, $displayName$$, $appImages$jscomp$1$$, $receiver$jscomp$6$$) {
  this.sessionId = $sessionId$jscomp$18$$;
  this.appId = $appId$jscomp$10$$;
  this.displayName = $displayName$$;
  this.statusText = null;
  this.appImages = $appImages$jscomp$1$$;
  this.receiver = $receiver$jscomp$6$$;
  this.senderApps = [];
  this.namespaces = [];
  this.media = [];
  this.status = chrome.cast.$SessionStatus$.CONNECTED;
  this.transportId = "";
};
$goog$exportSymbol$$("chrome.cast.Session", chrome.cast.$Session$);
chrome.cast.$Session$.prototype.$setReceiverVolumeLevel$ = function($newLevel$$, $successCallback$jscomp$60$$, $errorCallback$jscomp$59$$) {
  this.$setReceiverVolumeLevelWithContext$($goog$asserts$assert$$($mr$cast$ApiInterface$instance$$), $newLevel$$, $successCallback$jscomp$60$$, $errorCallback$jscomp$59$$);
};
chrome.cast.$Session$.prototype.setReceiverVolumeLevel = chrome.cast.$Session$.prototype.$setReceiverVolumeLevel$;
chrome.cast.$Session$.prototype.$setReceiverVolumeLevelWithContext$ = function($context$jscomp$7$$, $newLevel$jscomp$1_volumeRequest$jscomp$2$$, $successCallback$jscomp$61$$, $errorCallback$jscomp$60$$) {
  $newLevel$jscomp$1_volumeRequest$jscomp$2$$ = new $mr$cast$SetVolumeRequest$$(new chrome.cast.Volume($newLevel$jscomp$1_volumeRequest$jscomp$2$$, null), this.receiver.volume);
  $context$jscomp$7$$.setReceiverVolume(this.sessionId, $newLevel$jscomp$1_volumeRequest$jscomp$2$$, $successCallback$jscomp$61$$, $errorCallback$jscomp$60$$);
};
chrome.cast.$Session$.prototype.setReceiverVolumeLevelWithContext = chrome.cast.$Session$.prototype.$setReceiverVolumeLevelWithContext$;
chrome.cast.$Session$.prototype.$setReceiverMuted$ = function($muted$$, $successCallback$jscomp$62$$, $errorCallback$jscomp$61$$) {
  this.$setReceiverMutedWithContext$($goog$asserts$assert$$($mr$cast$ApiInterface$instance$$), $muted$$, $successCallback$jscomp$62$$, $errorCallback$jscomp$61$$);
};
chrome.cast.$Session$.prototype.setReceiverMuted = chrome.cast.$Session$.prototype.$setReceiverMuted$;
chrome.cast.$Session$.prototype.$setReceiverMutedWithContext$ = function($context$jscomp$8_volumeRequest$jscomp$3$$, $muted$jscomp$1$$, $successCallback$jscomp$63$$, $errorCallback$jscomp$62$$) {
  $context$jscomp$8_volumeRequest$jscomp$3$$ = new $mr$cast$SetVolumeRequest$$(new chrome.cast.Volume(null, $muted$jscomp$1$$), this.receiver.volume);
  $mr$cast$ApiInterface$instance$$.setReceiverVolume(this.sessionId, $context$jscomp$8_volumeRequest$jscomp$3$$, $successCallback$jscomp$63$$, $errorCallback$jscomp$62$$);
};
chrome.cast.$Session$.prototype.setReceiverMutedWithContext = chrome.cast.$Session$.prototype.$setReceiverMutedWithContext$;
chrome.cast.$Session$.prototype.leave = function($successCallback$jscomp$64$$, $errorCallback$jscomp$63$$) {
  $mr$cast$ApiInterface$instance$$.leaveSession(this.sessionId, $successCallback$jscomp$64$$, $errorCallback$jscomp$63$$);
};
chrome.cast.$Session$.prototype.leave = chrome.cast.$Session$.prototype.leave;
chrome.cast.$Session$.prototype.stop = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.$Session$.prototype.stop = chrome.cast.$Session$.prototype.stop;
chrome.cast.$Session$.prototype.$stopWithContext$ = function() {
};
chrome.cast.$Session$.prototype.stopWithContext = chrome.cast.$Session$.prototype.$stopWithContext$;
chrome.cast.$Session$.prototype.sendMessage = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.$Session$.prototype.sendMessage = chrome.cast.$Session$.prototype.sendMessage;
chrome.cast.$Session$.prototype.$sendMessageWithContext$ = function() {
};
chrome.cast.$Session$.prototype.sendMessageWithContext = chrome.cast.$Session$.prototype.$sendMessageWithContext$;
chrome.cast.$Session$.prototype.$addUpdateListener$ = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.$Session$.prototype.addUpdateListener = chrome.cast.$Session$.prototype.$addUpdateListener$;
chrome.cast.$Session$.prototype.$addUpdateListenerWithContext$ = function() {
};
chrome.cast.$Session$.prototype.addUpdateListenerWithContext = chrome.cast.$Session$.prototype.$addUpdateListenerWithContext$;
chrome.cast.$Session$.prototype.$removeUpdateListener$ = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.$Session$.prototype.removeUpdateListener = chrome.cast.$Session$.prototype.$removeUpdateListener$;
chrome.cast.$Session$.prototype.$removeUpdateListenerWithContext$ = function() {
};
chrome.cast.$Session$.prototype.removeUpdateListenerWithContext = chrome.cast.$Session$.prototype.$removeUpdateListenerWithContext$;
chrome.cast.$Session$.prototype.$addMessageListener$ = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.$Session$.prototype.addMessageListener = chrome.cast.$Session$.prototype.$addMessageListener$;
chrome.cast.$Session$.prototype.$addMessageListenerWithContext$ = function() {
};
chrome.cast.$Session$.prototype.addMessageListenerWithContext = chrome.cast.$Session$.prototype.$addMessageListenerWithContext$;
chrome.cast.$Session$.prototype.$addMediaListener$ = function($listener$jscomp$103$$) {
  this.$addMediaListenerWithContext$($goog$asserts$assert$$($mr$cast$ApiInterface$instance$$), $listener$jscomp$103$$);
};
chrome.cast.$Session$.prototype.addMediaListener = chrome.cast.$Session$.prototype.$addMediaListener$;
chrome.cast.$Session$.prototype.$addMediaListenerWithContext$ = function($context$jscomp$14$$, $listener$jscomp$104$$) {
  $context$jscomp$14$$.$addMediaListener$(this.sessionId, $listener$jscomp$104$$);
};
chrome.cast.$Session$.prototype.addMediaListenerWithContext = chrome.cast.$Session$.prototype.$addMediaListenerWithContext$;
chrome.cast.$Session$.prototype.$removeMediaListener$ = function($listener$jscomp$105$$) {
  this.$removeMediaListenerWithContext$($goog$asserts$assert$$($mr$cast$ApiInterface$instance$$), $listener$jscomp$105$$);
};
chrome.cast.$Session$.prototype.removeMediaListener = chrome.cast.$Session$.prototype.$removeMediaListener$;
chrome.cast.$Session$.prototype.$removeMediaListenerWithContext$ = function($context$jscomp$15$$, $listener$jscomp$106$$) {
  $context$jscomp$15$$.$removeMediaListener$(this.sessionId, $listener$jscomp$106$$);
};
chrome.cast.$Session$.prototype.removeMediaListenerWithContext = chrome.cast.$Session$.prototype.$removeMediaListenerWithContext$;
chrome.cast.$Session$.prototype.$removeMessageListener$ = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.$Session$.prototype.removeMessageListener = chrome.cast.$Session$.prototype.$removeMessageListener$;
chrome.cast.$Session$.prototype.$removeMessageListenerWithContext$ = function() {
};
chrome.cast.$Session$.prototype.removeMessageListenerWithContext = chrome.cast.$Session$.prototype.$removeMessageListenerWithContext$;
chrome.cast.$Session$.prototype.$loadMedia$ = function($loadRequest$$) {
  $loadRequest$$.sessionId = this.sessionId;
};
chrome.cast.$Session$.prototype.loadMedia = chrome.cast.$Session$.prototype.$loadMedia$;
chrome.cast.$Session$.prototype.$queueLoad$ = function($queueLoadRequest$$) {
  $queueLoadRequest$$.sessionId = this.sessionId;
};
chrome.cast.$Session$.prototype.queueLoad = chrome.cast.$Session$.prototype.$queueLoad$;
var $mr$cast$ApiDataUtils$getSessionFromReceiverStatus$$ = function($castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$, $receiverStatus$$) {
  if (!$receiverStatus$$.applications || 1 != $receiverStatus$$.applications.length) {
    return null;
  }
  var $app$jscomp$inline_1728$$ = $receiverStatus$$.applications[0];
  $castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$ = $mr$cast$ApiDataUtils$getReceiverFrom$$($castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$);
  $castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$ = new chrome.cast.$Session$($app$jscomp$inline_1728$$.sessionId, $app$jscomp$inline_1728$$.appId, $app$jscomp$inline_1728$$.displayName, $app$jscomp$inline_1728$$.appImages, $castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$);
  $castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$.senderApps = $app$jscomp$inline_1728$$.senderApps;
  $castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$.namespaces = $app$jscomp$inline_1728$$.namespaces || [];
  $castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$.transportId = $app$jscomp$inline_1728$$.transportId;
  $castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$.statusText = $app$jscomp$inline_1728$$.statusText;
  if (!$castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$.sessionId || !($castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$.namespaces && 0 != $castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$.namespaces.length || $mr$cast$ApiDataUtils$isMultizoneLeader$$($castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$))) {
    return null;
  }
  $castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$.receiver.volume = $receiverStatus$$.volume;
  "boolean" === typeof $receiverStatus$$.isActiveInput && ($castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$.receiver.isActiveInput = $receiverStatus$$.isActiveInput);
  return $castReceiver$jscomp$inline_1729_receiver$jscomp$7_session$jscomp$inline_1730$$;
}, $mr$cast$ApiDataUtils$capabilitiesToApi$$ = function($capabilities$jscomp$3$$) {
  var $capabilitiesArray$$ = [];
  if (!$capabilities$jscomp$3$$) {
    return $capabilitiesArray$$;
  }
  $capabilities$jscomp$3$$ & 1 && $capabilitiesArray$$.push(chrome.cast.$Capability$.VIDEO_OUT);
  $capabilities$jscomp$3$$ & 2 && $capabilitiesArray$$.push(chrome.cast.$Capability$.VIDEO_IN);
  $capabilities$jscomp$3$$ & 4 && $capabilitiesArray$$.push(chrome.cast.$Capability$.AUDIO_OUT);
  $capabilities$jscomp$3$$ & 8 && $capabilitiesArray$$.push(chrome.cast.$Capability$.AUDIO_IN);
  $capabilities$jscomp$3$$ & 32 && $capabilitiesArray$$.push(chrome.cast.$Capability$.MULTIZONE_GROUP);
  return $capabilitiesArray$$;
}, $mr$cast$ApiDataUtils$getReceiverFrom$$ = function($receiver$jscomp$9$$) {
  var $receiverId$$ = $JSCompiler_StaticMethods_generateId$$($module$contents$mr$SinkUtils_SinkUtils$getInstance$$(), $receiver$jscomp$9$$.getId());
  return new chrome.cast.$Receiver$($receiverId$$, $receiver$jscomp$9$$.$f$.friendlyName, $mr$cast$ApiDataUtils$capabilitiesToApi$$($receiver$jscomp$9$$.$b$));
}, $mr$cast$ApiDataUtils$isSessionStatusChanged$$ = function($session1$$, $session2$$) {
  if ($session1$$.statusText != $session2$$.statusText) {
    return !0;
  }
  var $namespaces1$$ = $session1$$.namespaces || [], $namespaces2$$ = $session2$$.namespaces || [];
  if ($namespaces1$$.length != $namespaces2$$.length) {
    return !0;
  }
  for (var $$jscomp$loop$391$$ = {$$jscomp$loop$prop$index$392$:0}; $$jscomp$loop$391$$.$$jscomp$loop$prop$index$392$ < $namespaces1$$.length; $$jscomp$loop$391$$ = {$$jscomp$loop$prop$index$392$:$$jscomp$loop$391$$.$$jscomp$loop$prop$index$392$}, $$jscomp$loop$391$$.$$jscomp$loop$prop$index$392$++) {
    if (!$namespaces2$$.some(function($$jscomp$loop$391$jscomp$1$$) {
      return function($e$jscomp$45$$) {
        return $e$jscomp$45$$.name == $namespaces1$$[$$jscomp$loop$391$jscomp$1$$.$$jscomp$loop$prop$index$392$].name;
      };
    }($$jscomp$loop$391$$))) {
      return !0;
    }
  }
  return $session1$$.receiver.volume.level !== $session2$$.receiver.volume.level || $session1$$.receiver.volume.muted !== $session2$$.receiver.volume.muted ? !0 : !1;
}, $mr$cast$ApiDataUtils$removeNullFields$$ = function($element$jscomp$70$$) {
  $goog$isArray$$($element$jscomp$70$$) ? $element$jscomp$70$$.forEach($mr$cast$ApiDataUtils$removeNullFields$$) : $goog$isObject$$($element$jscomp$70$$) && Object.keys($element$jscomp$70$$).forEach(function($key$jscomp$137$$) {
    null === $element$jscomp$70$$[$key$jscomp$137$$] ? delete $element$jscomp$70$$[$key$jscomp$137$$] : ($goog$isObject$$($element$jscomp$70$$[$key$jscomp$137$$]) || $goog$isArray$$($element$jscomp$70$$[$key$jscomp$137$$])) && $mr$cast$ApiDataUtils$removeNullFields$$($element$jscomp$70$$[$key$jscomp$137$$]);
  });
}, $mr$cast$ApiDataUtils$hasNamespace$$ = function($session$jscomp$3$$) {
  return $session$jscomp$3$$.namespaces.some(function($s$jscomp$29$$) {
    return $s$jscomp$29$$.name == $mr$cast$Namespace$Cast$MEDIA$$;
  });
}, $mr$cast$ApiDataUtils$isMultizoneLeader$$ = function($session$jscomp$5$$) {
  return null !== $session$jscomp$5$$ && "MultizoneLeader" == $session$jscomp$5$$.appId;
}, $mr$cast$ApiDataUtils$isIdleAppId$$ = function($appId$jscomp$11$$) {
  return "E8C28D3C" == $appId$jscomp$11$$ || "00000000-0000-0000-0000-000000000000" == $appId$jscomp$11$$;
};
var $mr$cast$InternalMessage$$ = function($type$jscomp$178$$, $message$jscomp$71$$, $opt_sequenceNumber$jscomp$2$$) {
  this.type = $type$jscomp$178$$;
  this.message = $message$jscomp$71$$;
  this.sequenceNumber = void 0 !== $opt_sequenceNumber$jscomp$2$$ ? $opt_sequenceNumber$jscomp$2$$ : -1;
  this.timeoutMillis = 0;
  this.clientId = "";
};
var $mr$cast$ApiMessenger$$ = function($providerCallbacks$$, $clientRecords$$) {
  this.$h$ = $providerCallbacks$$;
  this.$b$ = $clientRecords$$;
  this.$g$ = [];
  this.$f$ = new $mr$cast$PendingRequestsManager$$;
}, $JSCompiler_StaticMethods_getRouteIdFromClientId_$$ = function($JSCompiler_StaticMethods_getRouteIdFromClientId_$self_clientRecord$$, $clientId$$) {
  return ($JSCompiler_StaticMethods_getRouteIdFromClientId_$self_clientRecord$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_getRouteIdFromClientId_$self_clientRecord$$.$b$, $clientId$$)) ? $JSCompiler_StaticMethods_getRouteIdFromClientId_$self_clientRecord$$.routeId : null;
};
$mr$cast$ApiMessenger$$.prototype.listen = function($type$jscomp$179$$, $listener$jscomp$109$$) {
  this.$g$[$type$jscomp$179$$] = $listener$jscomp$109$$;
};
var $JSCompiler_StaticMethods_mr_cast_ApiMessenger_prototype$send_$$ = function($JSCompiler_StaticMethods_mr_cast_ApiMessenger_prototype$send_$self$$, $routeId$jscomp$4$$, $clientId$jscomp$1$$, $message$jscomp$72$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiMessenger$logger_$$, "Sending to " + $clientId$jscomp$1$$);
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiMessenger$logger_$$, JSON.stringify($message$jscomp$72$$));
  $message$jscomp$72$$.clientId = $clientId$jscomp$1$$;
  $JSCompiler_StaticMethods_mr_cast_ApiMessenger_prototype$send_$self$$.$h$.$g$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$($routeId$jscomp$4$$, $message$jscomp$72$$);
}, $JSCompiler_StaticMethods_sendToApi$$ = function($JSCompiler_StaticMethods_sendToApi$self$$, $clientId$jscomp$2$$, $message$jscomp$73$$) {
  var $clientRecord$jscomp$1$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_sendToApi$self$$.$b$, $clientId$jscomp$2$$);
  $clientRecord$jscomp$1$$ && $clientRecord$jscomp$1$$.$b$ ? $JSCompiler_StaticMethods_mr_cast_ApiMessenger_prototype$send_$$($JSCompiler_StaticMethods_sendToApi$self$$, $clientRecord$jscomp$1$$.routeId, $clientId$jscomp$2$$, $message$jscomp$73$$) : $JSCompiler_StaticMethods_sendToApi$self$$.connect($clientId$jscomp$2$$).then(function($isConnected_routeId$jscomp$5$$) {
    $isConnected_routeId$jscomp$5$$ ? ($isConnected_routeId$jscomp$5$$ = $JSCompiler_StaticMethods_getRouteIdFromClientId_$$($JSCompiler_StaticMethods_sendToApi$self$$, $clientId$jscomp$2$$)) ? $JSCompiler_StaticMethods_mr_cast_ApiMessenger_prototype$send_$$($JSCompiler_StaticMethods_sendToApi$self$$, $isConnected_routeId$jscomp$5$$, $clientId$jscomp$2$$, $message$jscomp$73$$) : $mr$cast$ApiMessenger$logger_$$.$warning$("No route for " + $clientId$jscomp$2$$) : $mr$cast$ApiMessenger$logger_$$.$warning$("No connected client " + 
    $clientId$jscomp$2$$);
  }, null);
};
$mr$cast$ApiMessenger$$.prototype.connect = function($clientId$jscomp$5_pendingRequest_resolver$jscomp$9$$) {
  var $clientRecord$jscomp$inline_1738_routeId$jscomp$7$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$(this.$b$, $clientId$jscomp$5_pendingRequest_resolver$jscomp$9$$);
  if (null != $clientRecord$jscomp$inline_1738_routeId$jscomp$7$$ && $clientRecord$jscomp$inline_1738_routeId$jscomp$7$$.$b$) {
    return Promise.resolve(!0);
  }
  $clientRecord$jscomp$inline_1738_routeId$jscomp$7$$ = $JSCompiler_StaticMethods_getRouteIdFromClientId_$$(this, $clientId$jscomp$5_pendingRequest_resolver$jscomp$9$$);
  if (!$clientRecord$jscomp$inline_1738_routeId$jscomp$7$$) {
    return $mr$cast$ApiMessenger$logger_$$.$warning$("No route for client " + $clientId$jscomp$5_pendingRequest_resolver$jscomp$9$$), Promise.resolve(!1);
  }
  if ($clientId$jscomp$5_pendingRequest_resolver$jscomp$9$$ = this.$f$.$b$.get($clientRecord$jscomp$inline_1738_routeId$jscomp$7$$, null)) {
    return $clientId$jscomp$5_pendingRequest_resolver$jscomp$9$$.$resolver$.$b$;
  }
  $clientId$jscomp$5_pendingRequest_resolver$jscomp$9$$ = new $mr$PromiseResolver$$;
  $JSCompiler_StaticMethods_addRequest$$(this.$f$, new $mr$cast$ApiMessenger$PendingRequest$$($clientRecord$jscomp$inline_1738_routeId$jscomp$7$$, $clientId$jscomp$5_pendingRequest_resolver$jscomp$9$$));
  return $clientId$jscomp$5_pendingRequest_resolver$jscomp$9$$.$b$;
};
var $mr$cast$ApiMessenger$logger_$$ = $mr$Logger$getInstance$$("mr.cast.ApiMessenger"), $mr$cast$ApiMessenger$PendingRequest$$ = function($requestId$jscomp$10$$, $resolver$jscomp$10$$) {
  $mr$cast$PendingRequest$$.call(this, $requestId$jscomp$10$$, 3E4);
  this.$resolver$ = $resolver$jscomp$10$$;
};
$$jscomp$inherits$$($mr$cast$ApiMessenger$PendingRequest$$, $mr$cast$PendingRequest$$);
$mr$cast$ApiMessenger$PendingRequest$$.prototype.$b$ = function() {
  this.$resolver$.resolve(!1);
};
var $module$contents$mr$cast$DialPresentationUrl_DialPresentationUrl$$ = function($dialAppName$$, $dialPostData$$, $clientId$jscomp$7$$) {
  this.$g$ = $dialAppName$$;
  this.$b$ = $dialPostData$$;
  this.$f$ = $clientId$jscomp$7$$;
}, $JSCompiler_StaticMethods_getPresentationUrl$$ = function($JSCompiler_StaticMethods_getPresentationUrl$self_paramsString$$) {
  var $url$jscomp$101$$ = "cast-dial:" + $JSCompiler_StaticMethods_getPresentationUrl$self_paramsString$$.$g$, $params$jscomp$18$$ = new URLSearchParams;
  $JSCompiler_StaticMethods_getPresentationUrl$self_paramsString$$.$b$ && $params$jscomp$18$$.set("dialPostData", $JSCompiler_StaticMethods_getPresentationUrl$self_paramsString$$.$b$);
  $JSCompiler_StaticMethods_getPresentationUrl$self_paramsString$$.$f$ && $params$jscomp$18$$.set("clientId", $JSCompiler_StaticMethods_getPresentationUrl$self_paramsString$$.$f$);
  ($JSCompiler_StaticMethods_getPresentationUrl$self_paramsString$$ = $params$jscomp$18$$.toString()) && ($url$jscomp$101$$ += "?" + $JSCompiler_StaticMethods_getPresentationUrl$self_paramsString$$);
  return $url$jscomp$101$$;
};
var $mr$cast$PresentationUrl$$ = function($appInfos$$, $opt_clientId$$, $opt_autoJoinPolicy$jscomp$1$$, $opt_defaultActionPolicy$jscomp$1$$, $opt_launchTimeout$$, $opt_dialAppName$$, $opt_dialPostData$$, $opt_invisibleSender$$, $opt_broadcastNamespace$$, $opt_broadcastMessage$$) {
  this.$l$ = $appInfos$$;
  this.$b$ = $opt_clientId$$ || null;
  this.$f$ = $opt_autoJoinPolicy$jscomp$1$$ || null;
  this.$g$ = $opt_defaultActionPolicy$jscomp$1$$ || null;
  this.$h$ = void 0 !== $opt_launchTimeout$$ ? $opt_launchTimeout$$ : null;
  this.$C$ = $opt_dialAppName$$ || null;
  this.$G$ = $opt_dialPostData$$ || null;
  this.$s$ = $opt_invisibleSender$$ || !1;
  this.$o$ = $opt_broadcastNamespace$$ || null;
  this.$m$ = $opt_broadcastMessage$$ || null;
}, $mr$cast$PresentationUrl$extractParameter_$$ = function($match$jscomp$13_str$jscomp$96$$, $key$jscomp$138$$) {
  return ($match$jscomp$13_str$jscomp$96$$ = $match$jscomp$13_str$jscomp$96$$.match($key$jscomp$138$$ + "=([^/]*)")) ? $match$jscomp$13_str$jscomp$96$$[1] : null;
}, $mr$cast$PresentationUrl$extractAppInfos_$$ = function($appIds$jscomp$1_str$jscomp$98$$) {
  $appIds$jscomp$1_str$jscomp$98$$ = $appIds$jscomp$1_str$jscomp$98$$.match(/__castAppId__=([^/]*)/g);
  return null == $appIds$jscomp$1_str$jscomp$98$$ ? [] : $goog$array$filter$$($goog$array$map$$($appIds$jscomp$1_str$jscomp$98$$, function($appId$jscomp$12_appIdParam_matches$jscomp$3$$) {
    $appId$jscomp$12_appIdParam_matches$jscomp$3$$ = $mr$cast$PresentationUrl$extractParameter_$$($appId$jscomp$12_appIdParam_matches$jscomp$3$$, "__castAppId__");
    if (!$appId$jscomp$12_appIdParam_matches$jscomp$3$$) {
      return null;
    }
    $appId$jscomp$12_appIdParam_matches$jscomp$3$$ = $appId$jscomp$12_appIdParam_matches$jscomp$3$$.match($mr$cast$PresentationUrl$APP_ID_LEGACY_REGEX_$$);
    if (!$appId$jscomp$12_appIdParam_matches$jscomp$3$$ || 0 == $appId$jscomp$12_appIdParam_matches$jscomp$3$$.length) {
      return null;
    }
    var $capabilities$jscomp$4$$ = [];
    3 == $appId$jscomp$12_appIdParam_matches$jscomp$3$$.length && $appId$jscomp$12_appIdParam_matches$jscomp$3$$[2] && ($capabilities$jscomp$4$$ = $appId$jscomp$12_appIdParam_matches$jscomp$3$$[2].split(","));
    return {appId:$appId$jscomp$12_appIdParam_matches$jscomp$3$$[1], capabilities:$capabilities$jscomp$4$$};
  }), function($appInfo$$) {
    return null != $appInfo$$;
  });
}, $JSCompiler_StaticMethods_getAppIds$$ = function($JSCompiler_StaticMethods_getAppIds$self$$) {
  return $goog$array$map$$($JSCompiler_StaticMethods_getAppIds$self$$.$l$, function($appInfo$jscomp$1$$) {
    return $appInfo$jscomp$1$$.appId;
  });
}, $JSCompiler_StaticMethods_getAutoJoinPolicy$$ = function($JSCompiler_StaticMethods_getAutoJoinPolicy$self$$) {
  return $JSCompiler_StaticMethods_getAutoJoinPolicy$self$$.$f$ ? $JSCompiler_StaticMethods_getAutoJoinPolicy$self$$.$f$ : chrome.cast.$AutoJoinPolicy$.TAB_AND_ORIGIN_SCOPED;
}, $JSCompiler_StaticMethods_getPresentationUrls$$ = function($JSCompiler_StaticMethods_getPresentationUrls$self$$) {
  var $urls$$ = $JSCompiler_StaticMethods_getPresentationUrls$self$$.$l$.map(function($appInfo$jscomp$2$$) {
    var $url$jscomp$inline_1742$$ = "cast:" + $appInfo$jscomp$2$$.appId, $params$jscomp$inline_1743$$ = new URLSearchParams;
    $appInfo$jscomp$2$$.capabilities && 0 < $appInfo$jscomp$2$$.capabilities.length && $params$jscomp$inline_1743$$.set("capabilities", $appInfo$jscomp$2$$.capabilities.join(","));
    $JSCompiler_StaticMethods_getPresentationUrls$self$$.$b$ && $params$jscomp$inline_1743$$.set("clientId", $JSCompiler_StaticMethods_getPresentationUrls$self$$.$b$);
    $JSCompiler_StaticMethods_getPresentationUrls$self$$.$f$ && $params$jscomp$inline_1743$$.set("autoJoinPolicy", $JSCompiler_StaticMethods_getPresentationUrls$self$$.$f$);
    $JSCompiler_StaticMethods_getPresentationUrls$self$$.$g$ && $params$jscomp$inline_1743$$.set("defaultActionPolicy", $JSCompiler_StaticMethods_getPresentationUrls$self$$.$g$);
    null != $JSCompiler_StaticMethods_getPresentationUrls$self$$.$h$ && $params$jscomp$inline_1743$$.set("launchTimeout", String($JSCompiler_StaticMethods_getPresentationUrls$self$$.$h$));
    $JSCompiler_StaticMethods_getPresentationUrls$self$$.$s$ && $params$jscomp$inline_1743$$.set("invisibleSender", "true");
    $JSCompiler_StaticMethods_getPresentationUrls$self$$.$o$ && ($params$jscomp$inline_1743$$.set("broadcastNamespace", $JSCompiler_StaticMethods_getPresentationUrls$self$$.$o$), $params$jscomp$inline_1743$$.set("broadcastId", String(Math.random())));
    $JSCompiler_StaticMethods_getPresentationUrls$self$$.$m$ && $params$jscomp$inline_1743$$.set("broadcastMessage", encodeURIComponent(JSON.stringify($JSCompiler_StaticMethods_getPresentationUrls$self$$.$m$)));
    return $url$jscomp$inline_1742$$ + "?" + $params$jscomp$inline_1743$$.toString();
  });
  $JSCompiler_StaticMethods_getPresentationUrls$self$$.$C$ && $urls$$.push($JSCompiler_StaticMethods_getPresentationUrl$$(new $module$contents$mr$cast$DialPresentationUrl_DialPresentationUrl$$($JSCompiler_StaticMethods_getPresentationUrls$self$$.$C$, $JSCompiler_StaticMethods_getPresentationUrls$self$$.$G$, $JSCompiler_StaticMethods_getPresentationUrls$self$$.$b$)));
  return $urls$$;
}, $JSCompiler_StaticMethods_getSinglePresentationUrl$$ = function($JSCompiler_StaticMethods_getSinglePresentationUrl$self_presentationUrls$$) {
  $JSCompiler_StaticMethods_getSinglePresentationUrl$self_presentationUrls$$ = $JSCompiler_StaticMethods_getPresentationUrls$$($JSCompiler_StaticMethods_getSinglePresentationUrl$self_presentationUrls$$);
  $mr$Assertions$assert$$(1 == $JSCompiler_StaticMethods_getSinglePresentationUrl$self_presentationUrls$$.length, "Expected exactly one Presentation URL");
  return $JSCompiler_StaticMethods_getSinglePresentationUrl$self_presentationUrls$$[0];
}, $JSCompiler_StaticMethods_isSameAppId$$ = function($JSCompiler_StaticMethods_isSameAppId$self_appIds$jscomp$2$$, $url$jscomp$104$$) {
  $JSCompiler_StaticMethods_isSameAppId$self_appIds$jscomp$2$$ = $JSCompiler_StaticMethods_getAppIds$$($JSCompiler_StaticMethods_isSameAppId$self_appIds$jscomp$2$$);
  var $otherAppIds$$ = $mr$cast$PresentationUrl$getAppIdsFromUrl$$($url$jscomp$104$$);
  return $goog$array$some$$($JSCompiler_StaticMethods_isSameAppId$self_appIds$jscomp$2$$, function($appId$jscomp$13$$) {
    return $goog$array$contains$$($otherAppIds$$, $appId$jscomp$13$$);
  });
}, $mr$cast$PresentationUrl$createFromUrl$$ = function($JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$) {
  try {
    var $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$ = new URL($JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$);
  } catch ($err$jscomp$18$$) {
    return null;
  }
  if ("https:" == $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$.protocol) {
    if ("https:" != $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$.protocol || "google.com" != $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$.host || "/cast" != $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$.pathname) {
      $JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$ = null;
    } else {
      var $JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$ = $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$.hash;
      if (($JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$ = $mr$cast$PresentationUrl$extractAppInfos_$$($JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$)) && 0 != $JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$.length) {
        $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$ = $mr$cast$PresentationUrl$extractParameter_$$($JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$, "__castClientId__");
        var $autoJoinPolicy$jscomp$inline_1749_autoJoinPolicy$jscomp$inline_1762_capabilitiesParam$jscomp$inline_6692$$ = $mr$cast$PresentationUrl$extractParameter_$$($JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$, "__castAutoJoinPolicy__"), $defaultActionPolicy$jscomp$inline_1750_defaultActionPolicy$jscomp$inline_1763$$ = $mr$cast$PresentationUrl$extractParameter_$$($JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$, 
        "__castDefaultActionPolicy__");
        var $JSCompiler_inline_result$jscomp$6426_invisibleSender$jscomp$inline_1765_launchTimeout$jscomp$inline_1751_param$jscomp$inline_6681_timeout$jscomp$inline_6682$$ = $mr$cast$PresentationUrl$extractParameter_$$($JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$, "__castLaunchTimeout__");
        null == $JSCompiler_inline_result$jscomp$6426_invisibleSender$jscomp$inline_1765_launchTimeout$jscomp$inline_1751_param$jscomp$inline_6681_timeout$jscomp$inline_6682$$ ? $JSCompiler_inline_result$jscomp$6426_invisibleSender$jscomp$inline_1765_launchTimeout$jscomp$inline_1751_param$jscomp$inline_6681_timeout$jscomp$inline_6682$$ = null : ($JSCompiler_inline_result$jscomp$6426_invisibleSender$jscomp$inline_1765_launchTimeout$jscomp$inline_1751_param$jscomp$inline_6681_timeout$jscomp$inline_6682$$ = 
        Number($JSCompiler_inline_result$jscomp$6426_invisibleSender$jscomp$inline_1765_launchTimeout$jscomp$inline_1751_param$jscomp$inline_6681_timeout$jscomp$inline_6682$$), $JSCompiler_inline_result$jscomp$6426_invisibleSender$jscomp$inline_1765_launchTimeout$jscomp$inline_1751_param$jscomp$inline_6681_timeout$jscomp$inline_6682$$ = !isNaN($JSCompiler_inline_result$jscomp$6426_invisibleSender$jscomp$inline_1765_launchTimeout$jscomp$inline_1751_param$jscomp$inline_6681_timeout$jscomp$inline_6682$$) && 
        0 < $JSCompiler_inline_result$jscomp$6426_invisibleSender$jscomp$inline_1765_launchTimeout$jscomp$inline_1751_param$jscomp$inline_6681_timeout$jscomp$inline_6682$$ ? $JSCompiler_inline_result$jscomp$6426_invisibleSender$jscomp$inline_1765_launchTimeout$jscomp$inline_1751_param$jscomp$inline_6681_timeout$jscomp$inline_6682$$ : null);
        var $broadcastNamespace$jscomp$inline_1766_dialAppName$jscomp$inline_1752$$ = $mr$cast$PresentationUrl$extractParameter_$$($JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$, "__dialAppName__"), $broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$ = $mr$cast$PresentationUrl$extractParameter_$$($JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$, 
        "__dialPostData__");
        var $JSCompiler_inline_result$jscomp$6428_parameter$jscomp$inline_6685$$ = $mr$cast$PresentationUrl$extractParameter_$$($JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$, "__castInvisibleSender__");
        $JSCompiler_inline_result$jscomp$6428_parameter$jscomp$inline_6685$$ = null === $JSCompiler_inline_result$jscomp$6428_parameter$jscomp$inline_6685$$ ? null : "true" == $JSCompiler_inline_result$jscomp$6428_parameter$jscomp$inline_6685$$;
        var $broadcastNamespace$jscomp$inline_1755$$ = $mr$cast$PresentationUrl$extractParameter_$$($JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$, "__castBroadcastNamespace__");
        $JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$ = ($JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$ = $mr$cast$PresentationUrl$extractParameter_$$($JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$, "__castBroadcastMessage__")) ? JSON.parse(decodeURIComponent($JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$)) : 
        null;
        $JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$ = new $mr$cast$PresentationUrl$$($JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$, $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$, $autoJoinPolicy$jscomp$inline_1749_autoJoinPolicy$jscomp$inline_1762_capabilitiesParam$jscomp$inline_6692$$, 
        $defaultActionPolicy$jscomp$inline_1750_defaultActionPolicy$jscomp$inline_1763$$, $JSCompiler_inline_result$jscomp$6426_invisibleSender$jscomp$inline_1765_launchTimeout$jscomp$inline_1751_param$jscomp$inline_6681_timeout$jscomp$inline_6682$$, $broadcastNamespace$jscomp$inline_1766_dialAppName$jscomp$inline_1752$$, $broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$, $JSCompiler_inline_result$jscomp$6428_parameter$jscomp$inline_6685$$, 
        $broadcastNamespace$jscomp$inline_1755$$, $JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$);
      } else {
        $JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$ = null;
      }
    }
  } else {
    if ("cast:" == $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$.protocol) {
      $JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$ = $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$.pathname;
      $autoJoinPolicy$jscomp$inline_1749_autoJoinPolicy$jscomp$inline_1762_capabilitiesParam$jscomp$inline_6692$$ = $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$.searchParams.get("capabilities");
      $JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$ = {appId:$JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$, capabilities:$autoJoinPolicy$jscomp$inline_1749_autoJoinPolicy$jscomp$inline_1762_capabilitiesParam$jscomp$inline_6692$$ ? $autoJoinPolicy$jscomp$inline_1749_autoJoinPolicy$jscomp$inline_1762_capabilitiesParam$jscomp$inline_6692$$.split(",") : 
      []};
      $broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$ = $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$.searchParams;
      $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$ = $broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$.get("clientId");
      $autoJoinPolicy$jscomp$inline_1749_autoJoinPolicy$jscomp$inline_1762_capabilitiesParam$jscomp$inline_6692$$ = $broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$.get("autoJoinPolicy");
      $defaultActionPolicy$jscomp$inline_1750_defaultActionPolicy$jscomp$inline_1763$$ = $broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$.get("defaultActionPolicy");
      $JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$ = Number($broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$.get("launchTimeout"));
      if (isNaN($JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$) || 0 >= $JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$) {
        $JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$ = null;
      }
      $JSCompiler_inline_result$jscomp$6426_invisibleSender$jscomp$inline_1765_launchTimeout$jscomp$inline_1751_param$jscomp$inline_6681_timeout$jscomp$inline_6682$$ = "true" == $broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$.get("invisibleSender");
      $broadcastNamespace$jscomp$inline_1766_dialAppName$jscomp$inline_1752$$ = $broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$.get("broadcastNamespace");
      $broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$ = ($broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$ = $broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$.get("broadcastMessage")) ? JSON.parse(decodeURIComponent($broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$)) : 
      null;
      $JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$ = new $mr$cast$PresentationUrl$$([$JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$], $clientId$jscomp$inline_1748_clientId$jscomp$inline_1761_url$jscomp$105_url$jscomp$inline_1758$$, $autoJoinPolicy$jscomp$inline_1749_autoJoinPolicy$jscomp$inline_1762_capabilitiesParam$jscomp$inline_6692$$, 
      $defaultActionPolicy$jscomp$inline_1750_defaultActionPolicy$jscomp$inline_1763$$, $JSCompiler_inline_result$jscomp$6427_data$jscomp$inline_6688_fragment$jscomp$inline_1746_launchTimeout$jscomp$inline_1764$$, void 0, void 0, $JSCompiler_inline_result$jscomp$6426_invisibleSender$jscomp$inline_1765_launchTimeout$jscomp$inline_1751_param$jscomp$inline_6681_timeout$jscomp$inline_6682$$, $broadcastNamespace$jscomp$inline_1766_dialAppName$jscomp$inline_1752$$, $broadcastMessage$jscomp$inline_1768_broadcastMessageParam$jscomp$inline_1767_dialPostData$jscomp$inline_1753_searchParams$jscomp$inline_1760$$);
    } else {
      $JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$ = null;
    }
  }
  return $JSCompiler_inline_result$jscomp$6429_JSCompiler_temp$jscomp$494_JSCompiler_temp$jscomp$495_appId$jscomp$inline_6691_appInfos$jscomp$inline_1747_urlString$jscomp$1$$;
}, $mr$cast$PresentationUrl$getAppIdsFromUrl$$ = function($presentationUrl_url$jscomp$109$$) {
  return ($presentationUrl_url$jscomp$109$$ = $mr$cast$PresentationUrl$createFromUrl$$($presentationUrl_url$jscomp$109$$)) ? $JSCompiler_StaticMethods_getAppIds$$($presentationUrl_url$jscomp$109$$) : null;
}, $mr$cast$PresentationUrl$getClientIdFromUrl$$ = function($presentationUrl$jscomp$1_url$jscomp$110$$) {
  return ($presentationUrl$jscomp$1_url$jscomp$110$$ = $mr$cast$PresentationUrl$createFromUrl$$($presentationUrl$jscomp$1_url$jscomp$110$$)) ? $presentationUrl$jscomp$1_url$jscomp$110$$.$b$ : null;
}, $mr$cast$PresentationUrl$APP_ID_LEGACY_REGEX_$$ = /(^\w+)(?:\(([\w, ]*)\))?$/;
var $mr$CastAnalytics$SESSION_TYPES$$ = {$LAUNCH$:0, $JOIN$:1}, $mr$CastAnalytics$SESSION_ENDED_TYPES$$ = {$USER_STOP$:0, $RECEIVER_ENDED$:1, $RECEIVER_LOST$:2}, $mr$CastAnalytics$SESSION_FAILURE$$ = {$NO_CONNECTION$:0, TIMEOUT:1, FAILED:2}, $mr$CastAnalytics$CONTROLLER_ACTION_TYPES$$ = {$INITIALIZE$:0, $PLAY_PAUSE$:1, SEEK:2, $MUTE_UNMUTE$:3, $SET_VOLUME$:4, $ANY$:5}, $mr$CastAnalytics$recordSessionEndType$$ = function($type$jscomp$181$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cast.Session.Ended", $type$jscomp$181$$, $mr$CastAnalytics$SESSION_ENDED_TYPES$$);
}, $mr$CastAnalytics$recordCastControllerAction$$ = function($type$jscomp$182$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cast.Controller.ActionType", $type$jscomp$182$$, $mr$CastAnalytics$CONTROLLER_ACTION_TYPES$$);
}, $mr$CastAnalytics$recordSessionFailure$$ = function($type$jscomp$183$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cast.Session.Fail", $type$jscomp$183$$, $mr$CastAnalytics$SESSION_FAILURE$$);
};
var $module$contents$mr$MediaRouteController_MediaRouteController$$ = function($name$jscomp$164$$, $controllerRequest$jscomp$1$$, $observer$jscomp$2$$) {
  this.$logger$ = $mr$Logger$getInstance$$("mr.MediaRouteController." + $name$jscomp$164$$);
  this.$h$ = new mojo.Binding(mojo.MediaController, this, $controllerRequest$jscomp$1$$);
  this.$f$ = $observer$jscomp$2$$;
  this.$b$ = new mojo.MediaStatus({title:"", description:"", duration:new mojo.TimeDelta({microseconds:0}), current_time:new mojo.TimeDelta({microseconds:0})});
  this.$s$ = !1;
  this.$h$.setConnectionErrorHandler(this.$onMojoConnectionError$.bind(this));
  this.$f$.ptr.setConnectionErrorHandler(this.$onMojoConnectionError$.bind(this));
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$MediaRouteController_MediaRouteController$$.prototype;
$JSCompiler_prototypeAlias$$.$onMojoConnectionError$ = function() {
  this.$dispose$();
  this.$onControllerInvalidated$();
};
$JSCompiler_prototypeAlias$$.$dispose$ = function() {
  this.$s$ || (this.$s$ = !0, this.$h$ && (this.$h$.close(), this.$h$ = null), this.$f$ && (this.$f$.ptr.reset(), this.$f$ = null));
};
$JSCompiler_prototypeAlias$$.$onControllerInvalidated$ = function() {
};
$JSCompiler_prototypeAlias$$.play = function() {
};
$JSCompiler_prototypeAlias$$.pause = function() {
};
$JSCompiler_prototypeAlias$$.$setMute$ = function() {
};
$JSCompiler_prototypeAlias$$.setVolume = function() {
};
$JSCompiler_prototypeAlias$$.seek = function() {
};
$JSCompiler_prototypeAlias$$.$connectHangoutsMediaRouteController$ = function($hangoutsControllerRequest$$) {
  $hangoutsControllerRequest$$.close();
  throw Error("Not implemented");
};
$module$contents$mr$MediaRouteController_MediaRouteController$$.prototype.connectHangoutsMediaRouteController = $module$contents$mr$MediaRouteController_MediaRouteController$$.prototype.$connectHangoutsMediaRouteController$;
$module$contents$mr$MediaRouteController_MediaRouteController$$.prototype.seek = $module$contents$mr$MediaRouteController_MediaRouteController$$.prototype.seek;
$module$contents$mr$MediaRouteController_MediaRouteController$$.prototype.setVolume = $module$contents$mr$MediaRouteController_MediaRouteController$$.prototype.setVolume;
$module$contents$mr$MediaRouteController_MediaRouteController$$.prototype.setMute = $module$contents$mr$MediaRouteController_MediaRouteController$$.prototype.$setMute$;
$module$contents$mr$MediaRouteController_MediaRouteController$$.prototype.pause = $module$contents$mr$MediaRouteController_MediaRouteController$$.prototype.pause;
$module$contents$mr$MediaRouteController_MediaRouteController$$.prototype.play = $module$contents$mr$MediaRouteController_MediaRouteController$$.prototype.play;
var $mr$MojoUtils$stringToMojoOrigin$$ = function($mojoOrigin_origin$jscomp$4$$) {
  var $port$jscomp$14_url$jscomp$111$$ = new URL($mojoOrigin_origin$jscomp$4$$);
  $mojoOrigin_origin$jscomp$4$$ = {};
  $mojoOrigin_origin$jscomp$4$$.scheme = $port$jscomp$14_url$jscomp$111$$.protocol.replace(":", "");
  $mojoOrigin_origin$jscomp$4$$.host = $port$jscomp$14_url$jscomp$111$$.hostname;
  $port$jscomp$14_url$jscomp$111$$ = $port$jscomp$14_url$jscomp$111$$.port ? Number.parseInt($port$jscomp$14_url$jscomp$111$$.port, 10) : 0;
  switch($mojoOrigin_origin$jscomp$4$$.scheme) {
    case "http":
      $mojoOrigin_origin$jscomp$4$$.port = $port$jscomp$14_url$jscomp$111$$ || 80;
      break;
    case "https":
      $mojoOrigin_origin$jscomp$4$$.port = $port$jscomp$14_url$jscomp$111$$ || 443;
      break;
    default:
      throw Error("Scheme must be http or https");
  }
  $mojoOrigin_origin$jscomp$4$$.suborigin = "";
  return new mojo.Origin($mojoOrigin_origin$jscomp$4$$);
}, $mr$MojoUtils$secondsToTimeDelta$$ = function($seconds$jscomp$4$$) {
  return new mojo.TimeDelta({microseconds:Math.floor(1000000 * $seconds$jscomp$4$$)});
};
var $module$contents$mr$cast$CastRouteController_MediaRequest$$ = function($type$jscomp$184$$, $mediaSessionId$jscomp$1$$, $sessionId$jscomp$20$$, $currentTime$jscomp$1$$) {
  this.type = $type$jscomp$184$$;
  this.mediaSessionId = $mediaSessionId$jscomp$1$$;
  this.requestId = 0;
  this.sessionId = $sessionId$jscomp$20$$;
  this.currentTime = $currentTime$jscomp$1$$;
}, $module$contents$mr$cast$CastRouteController_CastRouteController$$ = function($controllerRequest$jscomp$2$$, $observer$jscomp$3$$, $session$jscomp$9$$, $callbacks$jscomp$1$$, $setTitleFromMedia$$) {
  $module$contents$mr$MediaRouteController_MediaRouteController$$.call(this, "CastRouteController", $controllerRequest$jscomp$2$$, $observer$jscomp$3$$);
  this.session = $session$jscomp$9$$;
  this.$g$ = $callbacks$jscomp$1$$;
  this.$l$ = $setTitleFromMedia$$;
  this.$o$ = new Date;
  this.$m$ = new Set;
  $JSCompiler_StaticMethods_onSessionUpdated$$(this);
  $mr$CastAnalytics$recordCastControllerAction$$(0);
};
$$jscomp$inherits$$($module$contents$mr$cast$CastRouteController_CastRouteController$$, $module$contents$mr$MediaRouteController_MediaRouteController$$);
var $JSCompiler_StaticMethods_onSessionUpdated$$ = function($JSCompiler_StaticMethods_onSessionUpdated$self$$) {
  var $media$jscomp$5$$ = $JSCompiler_StaticMethods_getMedia_$$($JSCompiler_StaticMethods_onSessionUpdated$self$$);
  $media$jscomp$5$$ && $JSCompiler_StaticMethods_updateCurrentMediaStatus_$$($JSCompiler_StaticMethods_onSessionUpdated$self$$, $media$jscomp$5$$);
  $media$jscomp$5$$ && $JSCompiler_StaticMethods_onSessionUpdated$self$$.$l$ || !$JSCompiler_StaticMethods_onSessionUpdated$self$$.session.statusText || ($JSCompiler_StaticMethods_onSessionUpdated$self$$.$b$.title = $JSCompiler_StaticMethods_onSessionUpdated$self$$.session.statusText.substring(0, 256));
  $JSCompiler_StaticMethods_onSessionUpdated$self$$.$b$.volume = null === $JSCompiler_StaticMethods_onSessionUpdated$self$$.session.receiver.volume.level ? 0 : $JSCompiler_StaticMethods_onSessionUpdated$self$$.session.receiver.volume.level;
  $JSCompiler_StaticMethods_onSessionUpdated$self$$.$b$.is_muted = !!$JSCompiler_StaticMethods_onSessionUpdated$self$$.session.receiver.volume.muted;
  $JSCompiler_StaticMethods_onSessionUpdated$self$$.$b$.can_mute = $JSCompiler_StaticMethods_onSessionUpdated$self$$.session.receiver.volume.controlType !== chrome.cast.$VolumeControlType$.FIXED;
  $JSCompiler_StaticMethods_onSessionUpdated$self$$.$b$.can_set_volume = $JSCompiler_StaticMethods_onSessionUpdated$self$$.$b$.can_mute;
  if ($JSCompiler_StaticMethods_onSessionUpdated$self$$.$f$) {
    $JSCompiler_StaticMethods_onSessionUpdated$self$$.$f$.onMediaStatusUpdated($JSCompiler_StaticMethods_onSessionUpdated$self$$.$b$);
  }
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$cast$CastRouteController_CastRouteController$$.prototype;
$JSCompiler_prototypeAlias$$.$onControllerInvalidated$ = function() {
  $JSCompiler_StaticMethods_disposeRouteControllerForSession$$(this.$g$.$b$, this.session.sessionId);
};
$JSCompiler_prototypeAlias$$.play = function() {
  var $media$jscomp$6$$ = $JSCompiler_StaticMethods_getMedia_$$(this);
  this.$b$.can_play_pause && $media$jscomp$6$$ && this.$b$.play_state === mojo.MediaStatus.PlayState.PAUSED && $JSCompiler_StaticMethods_sendMediaControlRequest$$(this.$g$, this.session, new $module$contents$mr$cast$CastRouteController_MediaRequest$$("PLAY", $media$jscomp$6$$.mediaSessionId, this.session.sessionId));
  $JSCompiler_StaticMethods_maybeRecordAction_$$(this, 1);
};
$JSCompiler_prototypeAlias$$.pause = function() {
  var $media$jscomp$7$$ = $JSCompiler_StaticMethods_getMedia_$$(this);
  this.$b$.can_play_pause && $media$jscomp$7$$ && this.$b$.play_state !== mojo.MediaStatus.PlayState.PAUSED && $JSCompiler_StaticMethods_sendMediaControlRequest$$(this.$g$, this.session, new $module$contents$mr$cast$CastRouteController_MediaRequest$$("PAUSE", $media$jscomp$7$$.mediaSessionId, this.session.sessionId));
  $JSCompiler_StaticMethods_maybeRecordAction_$$(this, 1);
};
$JSCompiler_prototypeAlias$$.seek = function($time$jscomp$3_timeInSeconds$$) {
  var $media$jscomp$8$$ = $JSCompiler_StaticMethods_getMedia_$$(this);
  $time$jscomp$3_timeInSeconds$$ = $time$jscomp$3_timeInSeconds$$ ? $time$jscomp$3_timeInSeconds$$.microseconds / 1000000 : 0;
  var $JSCompiler_temp$jscomp$496_timeDelta$jscomp$inline_1797$$;
  if ($JSCompiler_temp$jscomp$496_timeDelta$jscomp$inline_1797$$ = this.$b$.can_seek && $media$jscomp$8$$ && 0 <= $time$jscomp$3_timeInSeconds$$) {
    $JSCompiler_temp$jscomp$496_timeDelta$jscomp$inline_1797$$ = this.$b$.duration, $JSCompiler_temp$jscomp$496_timeDelta$jscomp$inline_1797$$ = $time$jscomp$3_timeInSeconds$$ <= ($JSCompiler_temp$jscomp$496_timeDelta$jscomp$inline_1797$$ ? $JSCompiler_temp$jscomp$496_timeDelta$jscomp$inline_1797$$.microseconds / 1000000 : 0);
  }
  $JSCompiler_temp$jscomp$496_timeDelta$jscomp$inline_1797$$ && $JSCompiler_StaticMethods_sendMediaControlRequest$$(this.$g$, this.session, new $module$contents$mr$cast$CastRouteController_MediaRequest$$("SEEK", $media$jscomp$8$$.mediaSessionId, this.session.sessionId, $time$jscomp$3_timeInSeconds$$));
  $JSCompiler_StaticMethods_maybeRecordAction_$$(this, 2);
};
$JSCompiler_prototypeAlias$$.$setMute$ = function($mute$jscomp$1$$) {
  this.$b$.can_mute && $mute$jscomp$1$$ !== this.$b$.is_muted && $JSCompiler_StaticMethods_sendVolumeRequest$$(this.$g$, this.session, new chrome.cast.Volume(null, $mute$jscomp$1$$));
  $JSCompiler_StaticMethods_maybeRecordAction_$$(this, 3);
};
$JSCompiler_prototypeAlias$$.setVolume = function($volume$jscomp$5$$) {
  this.$b$.can_set_volume && 0 <= $volume$jscomp$5$$ && 1 >= $volume$jscomp$5$$ && $JSCompiler_StaticMethods_sendVolumeRequest$$(this.$g$, this.session, new chrome.cast.Volume($volume$jscomp$5$$));
  $JSCompiler_StaticMethods_maybeRecordAction_$$(this, 4);
};
var $JSCompiler_StaticMethods_getMedia_$$ = function($JSCompiler_StaticMethods_getMedia_$self$$) {
  return $JSCompiler_StaticMethods_getMedia_$self$$.session.media.find(function($media$jscomp$9$$) {
    return !$media$jscomp$9$$.idleReason;
  }) || null;
}, $JSCompiler_StaticMethods_updateCurrentMediaStatus_$$ = function($JSCompiler_StaticMethods_updateCurrentMediaStatus_$self$$, $media$jscomp$10$$) {
  $JSCompiler_StaticMethods_updateCurrentMediaStatus_$self$$.$l$ && $media$jscomp$10$$.media && $media$jscomp$10$$.media.metadata && $media$jscomp$10$$.media.metadata.title && ($JSCompiler_StaticMethods_updateCurrentMediaStatus_$self$$.$b$.title = $media$jscomp$10$$.media.metadata.title.substring(0, 256));
  $JSCompiler_StaticMethods_updateCurrentMediaStatus_$self$$.$b$.can_play_pause = $media$jscomp$10$$.supportedMediaCommands.includes(chrome.cast.media.$MediaCommand$.PAUSE);
  $JSCompiler_StaticMethods_updateCurrentMediaStatus_$self$$.$b$.can_seek = $media$jscomp$10$$.supportedMediaCommands.includes(chrome.cast.media.$MediaCommand$.SEEK);
  var $playerState$jscomp$inline_1799$$ = $media$jscomp$10$$.playerState;
  $JSCompiler_StaticMethods_updateCurrentMediaStatus_$self$$.$b$.play_state = $playerState$jscomp$inline_1799$$ === chrome.cast.media.PlayerState.PLAYING ? mojo.MediaStatus.PlayState.PLAYING : $playerState$jscomp$inline_1799$$ === chrome.cast.media.PlayerState.PAUSED ? mojo.MediaStatus.PlayState.PAUSED : mojo.MediaStatus.PlayState.BUFFERING;
  $JSCompiler_StaticMethods_updateCurrentMediaStatus_$self$$.$b$.current_time = $media$jscomp$10$$.currentTime ? $mr$MojoUtils$secondsToTimeDelta$$($media$jscomp$10$$.playerState === chrome.cast.media.PlayerState.PLAYING ? $media$jscomp$10$$.currentTime + (new Date - $JSCompiler_StaticMethods_updateCurrentMediaStatus_$self$$.$o$) / 1000 : $media$jscomp$10$$.currentTime) : $mr$MojoUtils$secondsToTimeDelta$$(0);
  $JSCompiler_StaticMethods_updateCurrentMediaStatus_$self$$.$b$.duration = $media$jscomp$10$$.media && $media$jscomp$10$$.media.duration ? $mr$MojoUtils$secondsToTimeDelta$$($media$jscomp$10$$.media.duration) : $mr$MojoUtils$secondsToTimeDelta$$(0);
}, $JSCompiler_StaticMethods_maybeRecordAction_$$ = function($JSCompiler_StaticMethods_maybeRecordAction_$self$$, $action$jscomp$2$$) {
  0 == $JSCompiler_StaticMethods_maybeRecordAction_$self$$.$m$.size && $mr$CastAnalytics$recordCastControllerAction$$(5);
  $JSCompiler_StaticMethods_maybeRecordAction_$self$$.$m$.has($action$jscomp$2$$) || ($mr$CastAnalytics$recordCastControllerAction$$($action$jscomp$2$$), $JSCompiler_StaticMethods_maybeRecordAction_$self$$.$m$.add($action$jscomp$2$$));
};
$module$contents$mr$cast$CastRouteController_CastRouteController$$.prototype.setVolume = $module$contents$mr$cast$CastRouteController_CastRouteController$$.prototype.setVolume;
$module$contents$mr$cast$CastRouteController_CastRouteController$$.prototype.setMute = $module$contents$mr$cast$CastRouteController_CastRouteController$$.prototype.$setMute$;
$module$contents$mr$cast$CastRouteController_CastRouteController$$.prototype.seek = $module$contents$mr$cast$CastRouteController_CastRouteController$$.prototype.seek;
$module$contents$mr$cast$CastRouteController_CastRouteController$$.prototype.pause = $module$contents$mr$cast$CastRouteController_CastRouteController$$.prototype.pause;
$module$contents$mr$cast$CastRouteController_CastRouteController$$.prototype.play = $module$contents$mr$cast$CastRouteController_CastRouteController$$.prototype.play;
var $mr$cast$SessionLauncher$$ = function($castRequestSender$jscomp$1$$) {
  this.$f$ = $castRequestSender$jscomp$1$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cast.SessionLauncher");
}, $JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$$ = function($JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$self$$, $sessionRequest$jscomp$3$$, $receiver$jscomp$10$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cast.Session.Type", 0, $mr$CastAnalytics$SESSION_TYPES$$);
  return $JSCompiler_StaticMethods_requestLaunchSession$$($JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$self$$.$f$, $sessionRequest$jscomp$3$$, $receiver$jscomp$10$$).then($JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$self$$.$b$.bind($JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$self$$, $receiver$jscomp$10$$), function($error$jscomp$24$$) {
    $error$jscomp$24$$ && $mr$cast$RequestSender$TIMEOUT_ERROR$$ == $error$jscomp$24$$ ? $mr$CastAnalytics$recordSessionFailure$$(1) : $mr$CastAnalytics$recordSessionFailure$$(0);
    throw $error$jscomp$24$$;
  });
};
$mr$cast$SessionLauncher$$.prototype.$b$ = function($receiver$jscomp$11_session$jscomp$10$$, $response$jscomp$9$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "Got launch result from " + $receiver$jscomp$11_session$jscomp$10$$.getId());
  if ("LAUNCH_ERROR" == $response$jscomp$9$$.type) {
    throw $mr$CastAnalytics$recordSessionFailure$$(2), Error($response$jscomp$9$$.reason);
  }
  $receiver$jscomp$11_session$jscomp$10$$ = $mr$cast$ApiDataUtils$getSessionFromReceiverStatus$$($receiver$jscomp$11_session$jscomp$10$$, $response$jscomp$9$$.status);
  this.$logger_$.info("Launched session: " + $receiver$jscomp$11_session$jscomp$10$$.sessionId);
  return $receiver$jscomp$11_session$jscomp$10$$;
};
var $mr$cast$ReceiverStatusQuerier$$ = function($castRequestSender$jscomp$2$$) {
  this.$b$ = $castRequestSender$jscomp$2$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cast.ReceiverStatusQuerier");
}, $JSCompiler_StaticMethods_startQuery$$ = function($JSCompiler_StaticMethods_startQuery$self$$, $receiver$jscomp$12$$) {
  return (new $module$exports$mr$Retry$$($goog$bind$$($JSCompiler_StaticMethods_startQuery$self$$.$f$, $JSCompiler_StaticMethods_startQuery$self$$, $receiver$jscomp$12$$), 3500, 5)).start().then(null, function($error$jscomp$26$$) {
    $JSCompiler_StaticMethods_startQuery$self$$.$logger_$.info("Failed to get receiver status from " + $receiver$jscomp$12$$.getId());
    throw $error$jscomp$26$$;
  });
};
$mr$cast$ReceiverStatusQuerier$$.prototype.$f$ = function($receiver$jscomp$13$$) {
  this.$logger_$.info("Query receiver status: " + $receiver$jscomp$13$$.getId());
  return this.$b$.sendRequest(new $mr$cast$ReceiverStatusRequest$$, $receiver$jscomp$13$$, $mr$cast$Namespace$Cast$RECEIVER$$);
};
var $mr$cast$ApiHandler$$ = function($requestSender$$, $discoveryService$$, $clientRecords$jscomp$1$$, $sessionRecords$$, $channelService$jscomp$1$$, $providerCallbacks$jscomp$1$$) {
  this.$g$ = $requestSender$$;
  this.$m$ = $discoveryService$$;
  this.$l$ = $clientRecords$jscomp$1$$;
  this.$b$ = $sessionRecords$$;
  this.$o$ = $channelService$jscomp$1$$;
  this.$h$ = $providerCallbacks$jscomp$1$$;
  this.$f$ = new $mr$cast$ApiMessenger$$($providerCallbacks$jscomp$1$$, $clientRecords$jscomp$1$$);
  this.$H$ = new $mr$cast$ReceiverStatusQuerier$$(this.$g$);
  this.$J$ = new $mr$cast$SessionLauncher$$(this.$g$);
};
$mr$cast$ApiHandler$$.prototype.init = function() {
  this.$l$.init();
  this.$f$.listen("v2_message", this.$G$.bind(this));
  this.$f$.listen("app_message", this.$s$.bind(this));
  this.$f$.listen("leave_session", this.$C$.bind(this));
};
var $JSCompiler_StaticMethods_sendMessageToClients_$$ = function($JSCompiler_StaticMethods_sendMessageToClients_$self$$, $sessionId$jscomp$21$$, $message$jscomp$75$$, $opt_excludeClientId$$) {
  $JSCompiler_StaticMethods_getClientIdsOfSession$$($JSCompiler_StaticMethods_sendMessageToClients_$self$$.$b$, $sessionId$jscomp$21$$).slice().forEach(function($clientId$jscomp$10$$) {
    $clientId$jscomp$10$$ != $opt_excludeClientId$$ && $JSCompiler_StaticMethods_sendMessageToClient_$$($JSCompiler_StaticMethods_sendMessageToClients_$self$$, $clientId$jscomp$10$$, $message$jscomp$75$$);
  });
}, $JSCompiler_StaticMethods_sendMessageToClient_$$ = function($JSCompiler_StaticMethods_sendMessageToClient_$self$$, $clientId$jscomp$11$$, $message$jscomp$76$$) {
  $message$jscomp$76$$.clientId = $clientId$jscomp$11$$;
  $JSCompiler_StaticMethods_sendToApi$$($JSCompiler_StaticMethods_sendMessageToClient_$self$$.$f$, $clientId$jscomp$11$$, $message$jscomp$76$$);
}, $JSCompiler_StaticMethods_sendReceiverAction$$ = function($JSCompiler_StaticMethods_sendReceiverAction$self$$, $clientId$jscomp$12$$, $receiverAction_sink$jscomp$14$$, $action$jscomp$3$$) {
  $receiverAction_sink$jscomp$14$$ = {receiver:$mr$cast$ApiDataUtils$getReceiverFrom$$($receiverAction_sink$jscomp$14$$), action:$action$jscomp$3$$};
  $JSCompiler_StaticMethods_sendMessageToClient_$$($JSCompiler_StaticMethods_sendReceiverAction$self$$, $clientId$jscomp$12$$, new $mr$cast$InternalMessage$$("receiver_action", $receiverAction_sink$jscomp$14$$));
};
$mr$cast$ApiHandler$$.prototype.$G$ = function($request$jscomp$28$$) {
  var $message$jscomp$78$$ = $request$jscomp$28$$.message, $receiver$jscomp$14_sessionId$jscomp$22_sinkId$jscomp$7$$ = $message$jscomp$78$$.sessionId;
  if ($receiver$jscomp$14_sessionId$jscomp$22_sinkId$jscomp$7$$) {
    var $session$jscomp$11$$ = $JSCompiler_StaticMethods_getSessionById$$(this.$b$, $receiver$jscomp$14_sessionId$jscomp$22_sinkId$jscomp$7$$);
    if ($session$jscomp$11$$) {
      if ($receiver$jscomp$14_sessionId$jscomp$22_sinkId$jscomp$7$$ = $JSCompiler_StaticMethods_getSinkIdBySessionId$$(this.$b$, $receiver$jscomp$14_sessionId$jscomp$22_sinkId$jscomp$7$$)) {
        if ($receiver$jscomp$14_sessionId$jscomp$22_sinkId$jscomp$7$$ = this.$m$.$getSinkById$($receiver$jscomp$14_sessionId$jscomp$22_sinkId$jscomp$7$$)) {
          switch($message$jscomp$78$$.type) {
            case "STOP":
              $JSCompiler_StaticMethods_onApiStopSession_$$(this, $request$jscomp$28$$, $receiver$jscomp$14_sessionId$jscomp$22_sinkId$jscomp$7$$);
              break;
            case "LOAD":
            case "PAUSE":
            case "PLAY":
            case "SEEK":
            case "STOP_MEDIA":
            case "MEDIA_SET_VOLUME":
            case "MEDIA_GET_STATUS":
            case "EDIT_TRACKS_INFO":
            case "QUEUE_LOAD":
            case "QUEUE_INSERT":
            case "QUEUE_UPDATE":
            case "QUEUE_REMOVE":
            case "QUEUE_REORDER":
            case "PRECACHE":
              $JSCompiler_StaticMethods_onApiMediaCommand_$$(this, $request$jscomp$28$$, $receiver$jscomp$14_sessionId$jscomp$22_sinkId$jscomp$7$$, $session$jscomp$11$$);
              break;
            case "SET_VOLUME":
              $JSCompiler_StaticMethods_onApiSetReceiverVolume_$$(this, $request$jscomp$28$$, $receiver$jscomp$14_sessionId$jscomp$22_sinkId$jscomp$7$$);
              break;
            default:
              $mr$cast$ApiHandler$logger_$$.$warning$("Unknown request");
          }
        } else {
          $JSCompiler_StaticMethods_sendErrorCodeToApi_$$(this, $request$jscomp$28$$, chrome.cast.$ErrorCode$.INVALID_PARAMETER, "No receiver");
        }
      } else {
        $JSCompiler_StaticMethods_sendErrorCodeToApi_$$(this, $request$jscomp$28$$, chrome.cast.$ErrorCode$.INVALID_PARAMETER, "No sink ID");
      }
    } else {
      $JSCompiler_StaticMethods_sendErrorCodeToApi_$$(this, $request$jscomp$28$$, chrome.cast.$ErrorCode$.INVALID_PARAMETER, "Unknown session ID");
    }
  } else {
    $JSCompiler_StaticMethods_sendErrorCodeToApi_$$(this, $request$jscomp$28$$, chrome.cast.$ErrorCode$.INVALID_PARAMETER, "No session ID");
  }
};
var $JSCompiler_StaticMethods_sendErrorCodeToApi_$$ = function($JSCompiler_StaticMethods_sendErrorCodeToApi_$self$$, $request$jscomp$29$$, $error$jscomp$27_errorCode$$, $opt_description$jscomp$4$$) {
  $error$jscomp$27_errorCode$$ = new chrome.cast.Error($error$jscomp$27_errorCode$$, $opt_description$jscomp$4$$);
  $JSCompiler_StaticMethods_sendErrorToApi_$$($JSCompiler_StaticMethods_sendErrorCodeToApi_$self$$, $request$jscomp$29$$, $error$jscomp$27_errorCode$$);
}, $JSCompiler_StaticMethods_sendErrorToApi_$$ = function($JSCompiler_StaticMethods_sendErrorToApi_$self$$, $request$jscomp$30$$, $error$jscomp$28$$) {
  $JSCompiler_StaticMethods_sendToApi$$($JSCompiler_StaticMethods_sendErrorToApi_$self$$.$f$, $request$jscomp$30$$.clientId, new $mr$cast$InternalMessage$$("error", $error$jscomp$28$$, $request$jscomp$30$$.sequenceNumber));
}, $JSCompiler_StaticMethods_onApiStopSession_$$ = function($JSCompiler_StaticMethods_onApiStopSession_$self$$, $request$jscomp$31$$, $receiver$jscomp$15$$) {
  var $stopRequest$jscomp$2$$ = $request$jscomp$31$$.message;
  $mr$Analytics$recordEvent$$("MediaRouter.Cast.Session.End");
  var $sessionId$jscomp$23$$ = $stopRequest$jscomp$2$$.sessionId, $cleanup_sessionRecord$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_onApiStopSession_$self$$.$b$, $sessionId$jscomp$23$$);
  $cleanup_sessionRecord$$ && ($cleanup_sessionRecord$$.$l$ = !0);
  $cleanup_sessionRecord$$ = function() {
    $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$$($JSCompiler_StaticMethods_onApiStopSession_$self$$, $sessionId$jscomp$23$$, $request$jscomp$31$$);
  };
  $JSCompiler_StaticMethods_onApiStopSession_$self$$.$g$.sendRequest($stopRequest$jscomp$2$$, $receiver$jscomp$15$$, $mr$cast$Namespace$Cast$RECEIVER$$, $request$jscomp$31$$.timeoutMillis, $goog$asserts$assertString$$($request$jscomp$31$$.clientId)).then($cleanup_sessionRecord$$, $cleanup_sessionRecord$$);
}, $JSCompiler_StaticMethods_onApiMediaCommand_$$ = function($JSCompiler_StaticMethods_onApiMediaCommand_$self$$, $request$jscomp$32$$, $receiver$jscomp$16$$, $session$jscomp$12$$) {
  var $message$jscomp$80$$ = $request$jscomp$32$$.message, $messageType$$ = $message$jscomp$80$$.type;
  $messageType$$ in $mr$cast$OVERLOADED_MESSAGE_TYPES$$ && ($message$jscomp$80$$.type = $mr$cast$OVERLOADED_MESSAGE_TYPES$$[$messageType$$]);
  $JSCompiler_StaticMethods_onApiMediaCommand_$self$$.$g$.sendRequest($message$jscomp$80$$, $receiver$jscomp$16$$, $mr$cast$Namespace$Cast$MEDIA$$, $request$jscomp$32$$.timeoutMillis, $request$jscomp$32$$.clientId, $session$jscomp$12$$.transportId).then(function($statusMessage$$) {
    $JSCompiler_StaticMethods_processReceiverMediaStatus_$$($JSCompiler_StaticMethods_onApiMediaCommand_$self$$, $session$jscomp$12$$, $statusMessage$$);
    $JSCompiler_StaticMethods_sendToApi$$($JSCompiler_StaticMethods_onApiMediaCommand_$self$$.$f$, $request$jscomp$32$$.clientId, new $mr$cast$InternalMessage$$("v2_message", $statusMessage$$, $request$jscomp$32$$.sequenceNumber));
  }, function($error$jscomp$29$$) {
    $JSCompiler_StaticMethods_sendErrorToApi_$$($JSCompiler_StaticMethods_onApiMediaCommand_$self$$, $request$jscomp$32$$, $error$jscomp$29$$);
  });
}, $JSCompiler_StaticMethods_onApiSetReceiverVolume_$$ = function($JSCompiler_StaticMethods_onApiSetReceiverVolume_$self$$, $request$jscomp$33$$, $receiver$jscomp$17$$) {
  var $volumeRequest$jscomp$4$$ = $request$jscomp$33$$.message;
  delete $volumeRequest$jscomp$4$$.sessionId;
  $JSCompiler_StaticMethods_onApiSetReceiverVolume_$self$$.$g$.sendRequest($volumeRequest$jscomp$4$$, $receiver$jscomp$17$$, $mr$cast$Namespace$Cast$RECEIVER$$, $request$jscomp$33$$.timeoutMillis, $request$jscomp$33$$.clientId).then(function() {
    $JSCompiler_StaticMethods_sendToApi$$($JSCompiler_StaticMethods_onApiSetReceiverVolume_$self$$.$f$, $request$jscomp$33$$.clientId, new $mr$cast$InternalMessage$$("v2_message", null, $request$jscomp$33$$.sequenceNumber));
  }, function($error$jscomp$30$$) {
    $JSCompiler_StaticMethods_sendErrorToApi_$$($JSCompiler_StaticMethods_onApiSetReceiverVolume_$self$$, $request$jscomp$33$$, $error$jscomp$30$$);
  });
};
$mr$cast$ApiHandler$$.prototype.$s$ = function($request$jscomp$34$$) {
  var $$jscomp$this$jscomp$39$$ = this, $appMessageRequest$$ = $request$jscomp$34$$.message, $session$jscomp$13_sessionId$jscomp$24$$ = $appMessageRequest$$.sessionId;
  if ($session$jscomp$13_sessionId$jscomp$24$$) {
    var $receiver$jscomp$18_sinkId$jscomp$8$$ = $JSCompiler_StaticMethods_getSinkIdBySessionId$$(this.$b$, $session$jscomp$13_sessionId$jscomp$24$$);
    $receiver$jscomp$18_sinkId$jscomp$8$$ ? ($receiver$jscomp$18_sinkId$jscomp$8$$ = this.$m$.$getSinkById$($receiver$jscomp$18_sinkId$jscomp$8$$)) ? ($session$jscomp$13_sessionId$jscomp$24$$ = $JSCompiler_StaticMethods_getSessionById$$(this.$b$, $session$jscomp$13_sessionId$jscomp$24$$), $goog$array$find$$($session$jscomp$13_sessionId$jscomp$24$$.namespaces, function($e$jscomp$46$$) {
      return $e$jscomp$46$$.name == $appMessageRequest$$.namespaceName;
    }) ? $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$$(this.$o$, $receiver$jscomp$18_sinkId$jscomp$8$$, $appMessageRequest$$.namespaceName, $appMessageRequest$$.message, $request$jscomp$34$$.clientId, $session$jscomp$13_sessionId$jscomp$24$$.transportId).then(function() {
      $JSCompiler_StaticMethods_sendToApi$$($$jscomp$this$jscomp$39$$.$f$, $request$jscomp$34$$.clientId, new $mr$cast$InternalMessage$$("app_message", null, $request$jscomp$34$$.sequenceNumber));
    }, function() {
      $JSCompiler_StaticMethods_sendErrorCodeToApi_$$($$jscomp$this$jscomp$39$$, $request$jscomp$34$$, chrome.cast.$ErrorCode$.CHANNEL_ERROR, "Channel to receiver not available");
    }) : $JSCompiler_StaticMethods_sendErrorCodeToApi_$$(this, $request$jscomp$34$$, chrome.cast.$ErrorCode$.INVALID_PARAMETER, "Invalid namespace")) : $mr$cast$ApiHandler$logger_$$.$warning$("No receiver from sinkId") : $mr$cast$ApiHandler$logger_$$.$warning$("No sinkId from sessionId");
  } else {
    $mr$cast$ApiHandler$logger_$$.$warning$("No sessionId");
  }
};
$mr$cast$ApiHandler$$.prototype.$C$ = function($request$jscomp$35$$) {
  var $$jscomp$this$jscomp$40$$ = this;
  $mr$cast$ApiHandler$logger_$$.info("Leave session");
  var $sessionRecord$jscomp$2$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$(this.$b$, $request$jscomp$35$$.message);
  if ($sessionRecord$jscomp$2$$) {
    var $clientId$jscomp$13$$ = $request$jscomp$35$$.clientId, $clientRecord$jscomp$4$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$(this.$l$, $clientId$jscomp$13$$);
    if ($clientRecord$jscomp$4$$) {
      var $leaving$$ = [], $staying$$ = [], $tabId$jscomp$17$$ = $clientRecord$jscomp$4$$.tabId, $origin$jscomp$5$$ = $clientRecord$jscomp$4$$.origin, $autoJoinPolicy$jscomp$2$$ = $clientRecord$jscomp$4$$.autoJoinPolicy;
      $sessionRecord$jscomp$2$$.$f$.forEach(function($clientId$jscomp$14$$) {
        var $r$jscomp$5$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($$jscomp$this$jscomp$40$$.$l$, $clientId$jscomp$14$$);
        $autoJoinPolicy$jscomp$2$$ == chrome.cast.$AutoJoinPolicy$.TAB_AND_ORIGIN_SCOPED && $tabId$jscomp$17$$ == $r$jscomp$5$$.tabId && $origin$jscomp$5$$ == $r$jscomp$5$$.origin || $autoJoinPolicy$jscomp$2$$ == chrome.cast.$AutoJoinPolicy$.ORIGIN_SCOPED && $origin$jscomp$5$$ == $r$jscomp$5$$.origin ? ($r$jscomp$5$$.$f$ = !0, $leaving$$.push($clientId$jscomp$14$$)) : $staying$$.push($clientId$jscomp$14$$);
      });
      $JSCompiler_StaticMethods_sendToApi$$(this.$f$, $clientId$jscomp$13$$, new $mr$cast$InternalMessage$$("leave_session", null, $request$jscomp$35$$.sequenceNumber));
      $leaving$$.forEach(function($clientId$jscomp$15_clientRecord$jscomp$5$$) {
        ($clientId$jscomp$15_clientRecord$jscomp$5$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($$jscomp$this$jscomp$40$$.$l$, $clientId$jscomp$15_clientRecord$jscomp$5$$)) && $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$$($$jscomp$this$jscomp$40$$.$h$, $clientId$jscomp$15_clientRecord$jscomp$5$$.routeId, !0, !0);
      });
      $sessionRecord$jscomp$2$$.$f$ = $staying$$;
    } else {
      $mr$cast$ApiHandler$logger_$$.$warning$("No client record");
    }
  } else {
    $mr$cast$ApiHandler$logger_$$.$warning$("No session");
  }
};
var $JSCompiler_StaticMethods_queryMediaStatus_$$ = function($JSCompiler_StaticMethods_queryMediaStatus_$self$$, $session$jscomp$14$$, $sink$jscomp$15$$) {
  $mr$cast$ApiDataUtils$hasNamespace$$($session$jscomp$14$$) && $JSCompiler_StaticMethods_queryMediaStatus_$self$$.$g$.sendRequest(new $mr$cast$ReceiverStatusRequest$$, $sink$jscomp$15$$, $mr$cast$Namespace$Cast$MEDIA$$, void 0, void 0, $session$jscomp$14$$.transportId).catch($goog$nullFunction$$);
}, $JSCompiler_StaticMethods_querySinkStatus$$ = function($JSCompiler_StaticMethods_querySinkStatus$self$$, $sink$jscomp$16$$, $opt_queryMediaStatus$$) {
  var $sinkId$jscomp$10$$ = $sink$jscomp$16$$.getId();
  $mr$cast$ApiHandler$logger_$$.info("Query status for " + $sinkId$jscomp$10$$);
  $JSCompiler_StaticMethods_startQuery$$($JSCompiler_StaticMethods_querySinkStatus$self$$.$H$, $sink$jscomp$16$$).then(function($session$jscomp$15_statusResponse$jscomp$1$$) {
    $JSCompiler_StaticMethods_onReceiverStatus_$$($JSCompiler_StaticMethods_querySinkStatus$self$$, $sinkId$jscomp$10$$, $session$jscomp$15_statusResponse$jscomp$1$$);
    $opt_queryMediaStatus$$ && ($session$jscomp$15_statusResponse$jscomp$1$$ = $JSCompiler_StaticMethods_getSessionBySinkId$$($JSCompiler_StaticMethods_querySinkStatus$self$$.$b$, $sinkId$jscomp$10$$)) && $JSCompiler_StaticMethods_queryMediaStatus_$$($JSCompiler_StaticMethods_querySinkStatus$self$$, $session$jscomp$15_statusResponse$jscomp$1$$, $sink$jscomp$16$$);
  }, $goog$nullFunction$$);
}, $JSCompiler_StaticMethods_isValidDestinationId_$$ = function($JSCompiler_StaticMethods_isValidDestinationId_$self$$, $destinationId_message$jscomp$86$$) {
  if ("*" == $destinationId_message$jscomp$86$$.destinationId) {
    return !0;
  }
  $destinationId_message$jscomp$86$$ = $destinationId_message$jscomp$86$$.destinationId;
  if ($destinationId_message$jscomp$86$$ == $JSCompiler_StaticMethods_isValidDestinationId_$self$$.$o$.$m$ || null != $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_isValidDestinationId_$self$$.$l$, $destinationId_message$jscomp$86$$)) {
    return !0;
  }
  $mr$cast$ApiHandler$logger_$$.info("Invalid destination " + $destinationId_message$jscomp$86$$);
  return !1;
}, $JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$$ = function($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$, $receiverId$jscomp$1_sessionRecord$jscomp$3$$, $message$jscomp$87$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiHandler$logger_$$, function() {
    return "Cast message: " + JSON.stringify($message$jscomp$87$$);
  });
  if ($JSCompiler_StaticMethods_isValidDestinationId_$$($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$, $message$jscomp$87$$)) {
    if ($message$jscomp$87$$.namespace_ == $mr$cast$Namespace$Cast$REMOTING$$ || $message$jscomp$87$$.namespace_ == $mr$cast$Namespace$Cast$WEBRTC$$) {
      ($receiverId$jscomp$1_sessionRecord$jscomp$3$$ = $JSCompiler_StaticMethods_getRecordBySinkId$$($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$.$b$, $receiverId$jscomp$1_sessionRecord$jscomp$3$$)) && $receiverId$jscomp$1_sessionRecord$jscomp$3$$.$b$.forEach(function($routeId$jscomp$9$$) {
        var $JSCompiler_StaticMethods_dispatchInternalMessage$self$jscomp$inline_1822$$ = $JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$.$h$, $route$jscomp$inline_1825$$ = $JSCompiler_StaticMethods_dispatchInternalMessage$self$jscomp$inline_1822$$.$f$.get($routeId$jscomp$9$$);
        $route$jscomp$inline_1825$$ && $route$jscomp$inline_1825$$.$createdLocally$ && $JSCompiler_StaticMethods_dispatchInternalMessage$self$jscomp$inline_1822$$.$g$.$onInternalMessage$($routeId$jscomp$9$$, $message$jscomp$87$$);
      });
    } else {
      var $payload$jscomp$1$$ = JSON.parse($message$jscomp$87$$.data), $request$jscomp$36_sourceId$jscomp$4$$ = $JSCompiler_StaticMethods_handlePendingRequest_$$($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$, $payload$jscomp$1$$);
      $request$jscomp$36_sourceId$jscomp$4$$ = $request$jscomp$36_sourceId$jscomp$4$$ ? $request$jscomp$36_sourceId$jscomp$4$$.sourceId : void 0;
      switch($payload$jscomp$1$$.type) {
        case "RECEIVER_STATUS":
          $JSCompiler_StaticMethods_onReceiverStatus_$$($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$, $receiverId$jscomp$1_sessionRecord$jscomp$3$$, $payload$jscomp$1$$);
          break;
        case "MEDIA_STATUS":
          $JSCompiler_StaticMethods_onReceiverMediaStatus_$$($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$, $receiverId$jscomp$1_sessionRecord$jscomp$3$$, $message$jscomp$87$$, $request$jscomp$36_sourceId$jscomp$4$$);
      }
    }
  } else {
    $JSCompiler_StaticMethods_closeVirtualConnection$$($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$.$o$, $receiverId$jscomp$1_sessionRecord$jscomp$3$$, $message$jscomp$87$$.destinationId, $message$jscomp$87$$.sourceId, !1);
  }
}, $JSCompiler_StaticMethods_handlePendingRequest_$$ = function($JSCompiler_StaticMethods_handlePendingRequest_$self_request$jscomp$37$$, $payload$jscomp$2$$) {
  $JSCompiler_StaticMethods_handlePendingRequest_$self_request$jscomp$37$$ = $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$$($JSCompiler_StaticMethods_handlePendingRequest_$self_request$jscomp$37$$.$g$.$b$, $payload$jscomp$2$$.requestId);
  if (!$JSCompiler_StaticMethods_handlePendingRequest_$self_request$jscomp$37$$) {
    return null;
  }
  var $resolver$jscomp$11$$ = $JSCompiler_StaticMethods_handlePendingRequest_$self_request$jscomp$37$$.$resolver$;
  switch($payload$jscomp$2$$.type) {
    case "LAUNCH_ERROR":
    case "INVALID_REQUEST":
    case "LOAD_CANCELLED":
    case "LOAD_FAILED":
    case "INVALID_PLAYER_STATE":
      delete $payload$jscomp$2$$.requestId;
      $resolver$jscomp$11$$.reject(new chrome.cast.Error(chrome.cast.$ErrorCode$.SESSION_ERROR, $payload$jscomp$2$$.reason || $payload$jscomp$2$$.type, $payload$jscomp$2$$));
      break;
    default:
      $resolver$jscomp$11$$.resolve($payload$jscomp$2$$);
  }
  return $JSCompiler_StaticMethods_handlePendingRequest_$self_request$jscomp$37$$;
}, $JSCompiler_StaticMethods_onReceiverAppMessage_$$ = function($JSCompiler_StaticMethods_onReceiverAppMessage_$self$$, $receiverId$jscomp$2_session$jscomp$16$$, $message$jscomp$88$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiHandler$logger_$$, function() {
    return "App message: " + JSON.stringify($message$jscomp$88$$);
  });
  if ($receiverId$jscomp$2_session$jscomp$16$$ = $JSCompiler_StaticMethods_getSessionBySinkId$$($JSCompiler_StaticMethods_onReceiverAppMessage_$self$$.$b$, $receiverId$jscomp$2_session$jscomp$16$$)) {
    var $clientIds$jscomp$1$$;
    "*" == $message$jscomp$88$$.destinationId ? $clientIds$jscomp$1$$ = $JSCompiler_StaticMethods_getClientIdsOfSession$$($JSCompiler_StaticMethods_onReceiverAppMessage_$self$$.$b$, $receiverId$jscomp$2_session$jscomp$16$$.sessionId) : $clientIds$jscomp$1$$ = [$message$jscomp$88$$.destinationId];
    var $appMessage$$ = new $mr$cast$AppMessage$$($receiverId$jscomp$2_session$jscomp$16$$.sessionId, $message$jscomp$88$$.namespace_, $message$jscomp$88$$.data);
    $clientIds$jscomp$1$$.forEach(function($clientId$jscomp$16$$) {
      $JSCompiler_StaticMethods_sendToApi$$($JSCompiler_StaticMethods_onReceiverAppMessage_$self$$.$f$, $clientId$jscomp$16$$, new $mr$cast$InternalMessage$$("app_message", $appMessage$$));
    });
  } else {
    $mr$cast$ApiHandler$logger_$$.$warning$("No session for incoming app message");
  }
}, $mr$cast$ApiHandler$fixupMediaArray_$$ = function($mediaArray$$, $sessionId$jscomp$26$$) {
  $mediaArray$$.forEach(function($media$jscomp$12$$) {
    $media$jscomp$12$$.sessionId = $sessionId$jscomp$26$$;
    var $supportedMediaCommands$jscomp$inline_1827$$ = $media$jscomp$12$$.supportedMediaCommands, $result$jscomp$inline_1828$$ = [];
    $supportedMediaCommands$jscomp$inline_1827$$ & 1 && $result$jscomp$inline_1828$$.push(chrome.cast.media.$MediaCommand$.PAUSE);
    $supportedMediaCommands$jscomp$inline_1827$$ & 2 && $result$jscomp$inline_1828$$.push(chrome.cast.media.$MediaCommand$.SEEK);
    $supportedMediaCommands$jscomp$inline_1827$$ & 4 && $result$jscomp$inline_1828$$.push(chrome.cast.media.$MediaCommand$.STREAM_VOLUME);
    $supportedMediaCommands$jscomp$inline_1827$$ & 8 && $result$jscomp$inline_1828$$.push(chrome.cast.media.$MediaCommand$.STREAM_MUTE);
    $media$jscomp$12$$.supportedMediaCommands = $result$jscomp$inline_1828$$;
  });
  return $mediaArray$$;
}, $JSCompiler_StaticMethods_processReceiverMediaStatus_$$ = function($JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$, $session$jscomp$17_sessionId$jscomp$27$$, $media$jscomp$inline_1831_mediaArray$jscomp$1_statusMessage$jscomp$2$$) {
  $session$jscomp$17_sessionId$jscomp$27$$ = $session$jscomp$17_sessionId$jscomp$27$$.sessionId;
  $media$jscomp$inline_1831_mediaArray$jscomp$1_statusMessage$jscomp$2$$.sessionId = $session$jscomp$17_sessionId$jscomp$27$$;
  $media$jscomp$inline_1831_mediaArray$jscomp$1_statusMessage$jscomp$2$$ = $mr$cast$ApiHandler$fixupMediaArray_$$($media$jscomp$inline_1831_mediaArray$jscomp$1_statusMessage$jscomp$2$$.status, $session$jscomp$17_sessionId$jscomp$27$$);
  $JSCompiler_StaticMethods_setSessionMedia$$($JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$.$b$, $session$jscomp$17_sessionId$jscomp$27$$, $media$jscomp$inline_1831_mediaArray$jscomp$1_statusMessage$jscomp$2$$);
  if (($JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$.$b$, $session$jscomp$17_sessionId$jscomp$27$$)) && $JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$.controller && 
  ($JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$ = $JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$.controller, $JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$.$o$ = new Date, ($media$jscomp$inline_1831_mediaArray$jscomp$1_statusMessage$jscomp$2$$ = 
  $JSCompiler_StaticMethods_getMedia_$$($JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$)) ? $JSCompiler_StaticMethods_updateCurrentMediaStatus_$$($JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$, $media$jscomp$inline_1831_mediaArray$jscomp$1_statusMessage$jscomp$2$$) : ($JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$.$l$ && 
  ($JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$.$b$.title = ""), $JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$.$b$.can_play_pause = !1, $JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$.$b$.can_seek = 
  !1), $JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$.$f$)) {
    $JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$.$f$.onMediaStatusUpdated($JSCompiler_StaticMethods_onMediaUpdated$self$jscomp$inline_1830_JSCompiler_StaticMethods_processReceiverMediaStatus_$self_sessionRecord$jscomp$4$$.$b$);
  }
}, $JSCompiler_StaticMethods_removeSession$$ = function($JSCompiler_StaticMethods_removeSession$self$$, $session$jscomp$19_sessionId$jscomp$28_sinkId$jscomp$12$$) {
  if ($session$jscomp$19_sessionId$jscomp$28_sinkId$jscomp$12$$ = $JSCompiler_StaticMethods_getSessionBySinkId$$($JSCompiler_StaticMethods_removeSession$self$$.$b$, $session$jscomp$19_sessionId$jscomp$28_sinkId$jscomp$12$$)) {
    $session$jscomp$19_sessionId$jscomp$28_sinkId$jscomp$12$$ = $session$jscomp$19_sessionId$jscomp$28_sinkId$jscomp$12$$.sessionId;
    var $sessionRecord$jscomp$5$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_removeSession$self$$.$b$, $session$jscomp$19_sessionId$jscomp$28_sinkId$jscomp$12$$);
    $sessionRecord$jscomp$5$$ && $sessionRecord$jscomp$5$$.$l$ || $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$$($JSCompiler_StaticMethods_removeSession$self$$, $session$jscomp$19_sessionId$jscomp$28_sinkId$jscomp$12$$);
  }
}, $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$$ = function($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$self$$, $sessionId$jscomp$29$$, $opt_request$jscomp$4_sessionRecord$jscomp$6$$) {
  $opt_request$jscomp$4_sessionRecord$jscomp$6$$ && $JSCompiler_StaticMethods_sendMessageToClient_$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$self$$, $opt_request$jscomp$4_sessionRecord$jscomp$6$$.clientId, $opt_request$jscomp$4_sessionRecord$jscomp$6$$);
  ($opt_request$jscomp$4_sessionRecord$jscomp$6$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$self$$.$b$, $sessionId$jscomp$29$$)) && $opt_request$jscomp$4_sessionRecord$jscomp$6$$.$b$.slice().forEach(function($routeId$jscomp$10$$) {
    $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$self$$.$h$, $routeId$jscomp$10$$, !0);
  });
  $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$self$$.$b$, $sessionId$jscomp$29$$);
  $JSCompiler_StaticMethods_updateKeepAliveRequest$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$self$$.$h$);
}, $JSCompiler_StaticMethods_onReceiverStatus_$$ = function($JSCompiler_StaticMethods_onReceiverStatus_$self$$, $receiverId$jscomp$3_session$jscomp$inline_1836$$, $receiver$jscomp$19_statusResponse$jscomp$2$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiHandler$logger_$$, "Receiver status for " + $receiverId$jscomp$3_session$jscomp$inline_1836$$);
  var $latestSession_receiverStatus$jscomp$2$$ = $receiver$jscomp$19_statusResponse$jscomp$2$$.status;
  if ($latestSession_receiverStatus$jscomp$2$$) {
    if ($receiver$jscomp$19_statusResponse$jscomp$2$$ = $JSCompiler_StaticMethods_onReceiverStatus_$self$$.$m$.$getSinkById$($receiverId$jscomp$3_session$jscomp$inline_1836$$)) {
      $latestSession_receiverStatus$jscomp$2$$ = $mr$cast$ApiDataUtils$getSessionFromReceiverStatus$$($receiver$jscomp$19_statusResponse$jscomp$2$$, $latestSession_receiverStatus$jscomp$2$$);
      var $currentSessionRecord$$ = $JSCompiler_StaticMethods_getRecordBySinkId$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$.$b$, $receiverId$jscomp$3_session$jscomp$inline_1836$$);
      $currentSessionRecord$$ ? $latestSession_receiverStatus$jscomp$2$$ ? $latestSession_receiverStatus$jscomp$2$$.sessionId == $currentSessionRecord$$.session.sessionId ? ($goog$asserts$assert$$($currentSessionRecord$$.session.sessionId == $latestSession_receiverStatus$jscomp$2$$.sessionId), $receiverId$jscomp$3_session$jscomp$inline_1836$$ = $currentSessionRecord$$.session, $mr$cast$ApiDataUtils$isSessionStatusChanged$$($receiverId$jscomp$3_session$jscomp$inline_1836$$, $latestSession_receiverStatus$jscomp$2$$) && 
      ($JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiHandler$logger_$$, "Updating session " + $latestSession_receiverStatus$jscomp$2$$.sessionId), $currentSessionRecord$$.$g$ && ($receiverId$jscomp$3_session$jscomp$inline_1836$$.statusText = $latestSession_receiverStatus$jscomp$2$$.statusText), $receiverId$jscomp$3_session$jscomp$inline_1836$$.namespaces = $latestSession_receiverStatus$jscomp$2$$.namespaces, $receiverId$jscomp$3_session$jscomp$inline_1836$$.receiver.volume = $latestSession_receiverStatus$jscomp$2$$.receiver.volume, 
      $JSCompiler_StaticMethods_updateRoute$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$.$h$, $currentSessionRecord$$), $JSCompiler_StaticMethods_sendMessageToClients_$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$, $receiverId$jscomp$3_session$jscomp$inline_1836$$.sessionId, new $mr$cast$InternalMessage$$("update_session", $receiverId$jscomp$3_session$jscomp$inline_1836$$)), $currentSessionRecord$$.controller && $JSCompiler_StaticMethods_onSessionUpdated$$($currentSessionRecord$$.controller))) : 
      ($JSCompiler_StaticMethods_removeSession$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$, $receiverId$jscomp$3_session$jscomp$inline_1836$$), $mr$CastAnalytics$recordSessionEndType$$(1), $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$.$h$, null, $receiver$jscomp$19_statusResponse$jscomp$2$$, null, $latestSession_receiverStatus$jscomp$2$$)) : ($JSCompiler_StaticMethods_removeSession$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$, 
      $receiverId$jscomp$3_session$jscomp$inline_1836$$), $mr$CastAnalytics$recordSessionEndType$$(1)) : $latestSession_receiverStatus$jscomp$2$$ && $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$.$h$, null, $receiver$jscomp$19_statusResponse$jscomp$2$$, null, $latestSession_receiverStatus$jscomp$2$$);
    } else {
      $mr$Analytics$recordEvent$$("MediaRouter.Cast.Error.Sink.Missing.From.Discovery.Service"), $mr$cast$ApiHandler$logger_$$.$warning$("Got message from receiver " + $receiverId$jscomp$3_session$jscomp$inline_1836$$ + ", but sink is no longer available.");
    }
  }
}, $JSCompiler_StaticMethods_onReceiverMediaStatus_$$ = function($JSCompiler_StaticMethods_onReceiverMediaStatus_$self$$, $receiverId$jscomp$5_session$jscomp$21$$, $message$jscomp$91_statusMessage$jscomp$3$$, $opt_excludeClientId$jscomp$1$$) {
  if ($receiverId$jscomp$5_session$jscomp$21$$ = $JSCompiler_StaticMethods_getSessionBySinkId$$($JSCompiler_StaticMethods_onReceiverMediaStatus_$self$$.$b$, $receiverId$jscomp$5_session$jscomp$21$$)) {
    if ($message$jscomp$91_statusMessage$jscomp$3$$ = JSON.parse($message$jscomp$91_statusMessage$jscomp$3$$.data)) {
      $JSCompiler_StaticMethods_processReceiverMediaStatus_$$($JSCompiler_StaticMethods_onReceiverMediaStatus_$self$$, $receiverId$jscomp$5_session$jscomp$21$$, $message$jscomp$91_statusMessage$jscomp$3$$), $JSCompiler_StaticMethods_sendMessageToClients_$$($JSCompiler_StaticMethods_onReceiverMediaStatus_$self$$, $message$jscomp$91_statusMessage$jscomp$3$$.sessionId, new $mr$cast$InternalMessage$$("v2_message", $message$jscomp$91_statusMessage$jscomp$3$$), $opt_excludeClientId$jscomp$1$$);
    }
  }
}, $JSCompiler_StaticMethods_chooseAppId_$$ = function($presentationUrl$jscomp$2$$, $appInfo$jscomp$5_sink$jscomp$18$$) {
  var $capabilities$jscomp$6$$ = $mr$cast$ApiDataUtils$capabilitiesToApi$$($appInfo$jscomp$5_sink$jscomp$18$$.$b$);
  return ($appInfo$jscomp$5_sink$jscomp$18$$ = $goog$array$find$$($presentationUrl$jscomp$2$$.$l$, function($appInfo$jscomp$6$$) {
    return $goog$array$every$$($appInfo$jscomp$6$$.capabilities, function($capability$$) {
      return $goog$array$contains$$($capabilities$jscomp$6$$, $capability$$);
    });
  })) ? $appInfo$jscomp$5_sink$jscomp$18$$.appId : $JSCompiler_StaticMethods_getAppIds$$($presentationUrl$jscomp$2$$)[0];
}, $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$launchSession$$ = function($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$launchSession$self$$, $sourceUrn$jscomp$11$$, $sink$jscomp$19$$) {
  var $presentationUrl$jscomp$3$$ = $mr$cast$PresentationUrl$createFromUrl$$($sourceUrn$jscomp$11$$);
  if (!$presentationUrl$jscomp$3$$) {
    return Promise.reject(Error("Invalid source " + $sourceUrn$jscomp$11$$));
  }
  var $appId$jscomp$15$$ = $JSCompiler_StaticMethods_chooseAppId_$$($presentationUrl$jscomp$3$$, $sink$jscomp$19$$), $timing$jscomp$2$$ = new $mr$Timing$$("MediaRouter.Cast.Session.Launch");
  return $JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$launchSession$self$$.$J$, new chrome.cast.$SessionRequest$($appId$jscomp$15$$, void 0, null == $presentationUrl$jscomp$3$$.$h$ ? chrome.cast.timeout.requestSession : $presentationUrl$jscomp$3$$.$h$), $sink$jscomp$19$$).then(function($session$jscomp$22$$) {
    $mr$cast$ApiHandler$logger_$$.info("Launched session " + $session$jscomp$22$$.sessionId + " for appId " + $appId$jscomp$15$$);
    $timing$jscomp$2$$.end("Success");
    return $session$jscomp$22$$;
  }, function($error$jscomp$32$$) {
    $mr$cast$ApiHandler$logger_$$.error("Failed to session for appId " + $appId$jscomp$15$$);
    $timing$jscomp$2$$.end("Failure");
    throw $error$jscomp$32$$;
  });
};
$mr$cast$ApiHandler$$.prototype.createMediaRouteController = function($routeId$jscomp$11_sessionRecord$jscomp$8$$, $controllerRequest$jscomp$3$$, $observer$jscomp$4$$) {
  $routeId$jscomp$11_sessionRecord$jscomp$8$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$$(this.$b$, $routeId$jscomp$11_sessionRecord$jscomp$8$$);
  if (!$routeId$jscomp$11_sessionRecord$jscomp$8$$) {
    return Error("Session not found for the route");
  }
  var $session$jscomp$23$$ = $routeId$jscomp$11_sessionRecord$jscomp$8$$.session;
  if ($routeId$jscomp$11_sessionRecord$jscomp$8$$.controller) {
    return Error("Controller already exists for the route");
  }
  var $sink$jscomp$20$$ = $JSCompiler_StaticMethods_getSinkBySessionId_$$(this, $session$jscomp$23$$.sessionId);
  if (!$sink$jscomp$20$$) {
    return Error("Sink not found for the route");
  }
  $routeId$jscomp$11_sessionRecord$jscomp$8$$.controller = new $module$contents$mr$cast$CastRouteController_CastRouteController$$($controllerRequest$jscomp$3$$, $observer$jscomp$4$$, $session$jscomp$23$$, this, $routeId$jscomp$11_sessionRecord$jscomp$8$$.$g$);
  $JSCompiler_StaticMethods_queryMediaStatus_$$(this, $session$jscomp$23$$, $sink$jscomp$20$$);
  return null;
};
var $JSCompiler_StaticMethods_sendMediaControlRequest$$ = function($JSCompiler_StaticMethods_sendMediaControlRequest$self$$, $session$jscomp$24$$, $request$jscomp$38$$) {
  var $sink$jscomp$21$$ = $JSCompiler_StaticMethods_getSinkBySessionId_$$($JSCompiler_StaticMethods_sendMediaControlRequest$self$$, $session$jscomp$24$$.sessionId);
  $sink$jscomp$21$$ && $JSCompiler_StaticMethods_sendMediaControlRequest$self$$.$g$.sendRequest($request$jscomp$38$$, $sink$jscomp$21$$, $mr$cast$Namespace$Cast$MEDIA$$, 0, "", $session$jscomp$24$$.transportId).catch(function($error$jscomp$33$$) {
    $mr$cast$ApiHandler$logger_$$.$warning$("Failed to send a media control request: " + $error$jscomp$33$$);
  });
}, $JSCompiler_StaticMethods_sendVolumeRequest$$ = function($JSCompiler_StaticMethods_sendVolumeRequest$self$$, $session$jscomp$25_sink$jscomp$22$$, $request$jscomp$39_volume$jscomp$6$$) {
  $request$jscomp$39_volume$jscomp$6$$ = new $mr$cast$SetVolumeRequest$$($request$jscomp$39_volume$jscomp$6$$);
  ($session$jscomp$25_sink$jscomp$22$$ = $JSCompiler_StaticMethods_getSinkBySessionId_$$($JSCompiler_StaticMethods_sendVolumeRequest$self$$, $session$jscomp$25_sink$jscomp$22$$.sessionId)) && $JSCompiler_StaticMethods_sendVolumeRequest$self$$.$g$.sendRequest($request$jscomp$39_volume$jscomp$6$$, $session$jscomp$25_sink$jscomp$22$$, $mr$cast$Namespace$Cast$RECEIVER$$).catch(function($error$jscomp$34$$) {
    $mr$cast$ApiHandler$logger_$$.$warning$("Failed to send a volume control request: " + $error$jscomp$34$$);
  });
}, $JSCompiler_StaticMethods_getSinkBySessionId_$$ = function($JSCompiler_StaticMethods_getSinkBySessionId_$self$$, $sessionId$jscomp$31_sinkId$jscomp$13$$) {
  return ($sessionId$jscomp$31_sinkId$jscomp$13$$ = $JSCompiler_StaticMethods_getSinkIdBySessionId$$($JSCompiler_StaticMethods_getSinkBySessionId_$self$$.$b$, $sessionId$jscomp$31_sinkId$jscomp$13$$)) ? $JSCompiler_StaticMethods_getSinkBySessionId_$self$$.$m$.$getSinkById$($sessionId$jscomp$31_sinkId$jscomp$13$$) : null;
}, $mr$cast$ApiHandler$logger_$$ = $mr$Logger$getInstance$$("mr.cast.ApiHandler");
var $mr$cast$AppIds$isMirrorAppId$$ = function($appId$jscomp$16$$) {
  return "0F5096E8" == $appId$jscomp$16$$ || "85CDB22F" == $appId$jscomp$16$$;
};
var $mr$EventListener$$ = function($eventType$jscomp$4$$, $name$jscomp$165$$, $moduleId$jscomp$11$$, $eventHandler$$, $listenerArgs$$) {
  for (var $$jscomp$restParams$jscomp$1$$ = [], $$jscomp$restIndex$jscomp$1$$ = 4; $$jscomp$restIndex$jscomp$1$$ < arguments.length; ++$$jscomp$restIndex$jscomp$1$$) {
    $$jscomp$restParams$jscomp$1$$[$$jscomp$restIndex$jscomp$1$$ - 4] = arguments[$$jscomp$restIndex$jscomp$1$$];
  }
  var $$jscomp$this$jscomp$45$$ = this;
  this.$l$ = $eventType$jscomp$4$$;
  this.$m$ = $name$jscomp$165$$;
  this.$moduleId_$ = $moduleId$jscomp$11$$;
  this.$f$ = $eventHandler$$;
  this.$h$ = $$jscomp$restParams$jscomp$1$$;
  this.$b$ = !1;
  this.$g$ = function($args$jscomp$22$$) {
    for (var $$jscomp$restParams$jscomp$2$$ = [], $$jscomp$restIndex$jscomp$2$$ = 0; $$jscomp$restIndex$jscomp$2$$ < arguments.length; ++$$jscomp$restIndex$jscomp$2$$) {
      $$jscomp$restParams$jscomp$2$$[$$jscomp$restIndex$jscomp$2$$ - 0] = arguments[$$jscomp$restIndex$jscomp$2$$];
    }
    return $$jscomp$this$jscomp$45$$.$dispatchEvent_$.apply($$jscomp$this$jscomp$45$$, $$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$2$$));
  };
};
$JSCompiler_prototypeAlias$$ = $mr$EventListener$$.prototype;
$JSCompiler_prototypeAlias$$.addListener = function() {
  this.$b$ || (this.$b$ = !0, this.$f$.addListener.apply(this.$f$, [this.$g$].concat($$jscomp$arrayFromIterable$$(this.$h$))));
};
$JSCompiler_prototypeAlias$$.removeListener = function() {
  this.$b$ && (this.$f$.removeListener(this.$g$), this.$b$ = !1);
};
$JSCompiler_prototypeAlias$$.$validateEvent$ = function($args$jscomp$23$$) {
  for (var $$jscomp$restIndex$jscomp$3$$ = 0; $$jscomp$restIndex$jscomp$3$$ < arguments.length; ++$$jscomp$restIndex$jscomp$3$$) {
  }
  return !0;
};
$JSCompiler_prototypeAlias$$.$dispatchEvent_$ = function($args$jscomp$24$$) {
  for (var $$jscomp$restParams$jscomp$4$$ = [], $$jscomp$restIndex$jscomp$4$$ = 0; $$jscomp$restIndex$jscomp$4$$ < arguments.length; ++$$jscomp$restIndex$jscomp$4$$) {
    $$jscomp$restParams$jscomp$4$$[$$jscomp$restIndex$jscomp$4$$ - 0] = arguments[$$jscomp$restIndex$jscomp$4$$];
  }
  var $$jscomp$this$jscomp$46$$ = this;
  $mr$EventAnalytics$recordEvent$$(this.$l$);
  if (!this.$validateEvent$.apply(this, $$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$4$$))) {
    return !1;
  }
  $mr$Module$load$$(this.$moduleId_$).then(function($module$jscomp$4$$) {
    return $module$jscomp$4$$.handleEvent.apply($module$jscomp$4$$, [$$jscomp$this$jscomp$46$$.$f$].concat($$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$4$$)));
  });
  return this.$deferredReturnValue$();
};
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "mr.EventListener." + this.$m$;
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [this.$b$];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  $mr$PersistentDataManager$getTemporaryData$$(this) && this.addListener();
};
$JSCompiler_prototypeAlias$$.$deferredReturnValue$ = function() {
};
var $mr$cast$EventListeners$channelMessageListener_$$ = null, $mr$cast$EventListeners$channelErrorListener_$$ = null, $mr$cast$EventListeners$getChannelListeners$$ = function() {
  $mr$cast$EventListeners$channelMessageListener_$$ || ($mr$cast$EventListeners$channelMessageListener_$$ = new $mr$EventListener$$(2, "CastChannelMessageListener", "mr.cast.ChannelService", chrome.cast.channel.onMessage));
  $mr$cast$EventListeners$channelErrorListener_$$ || ($mr$cast$EventListeners$channelErrorListener_$$ = new $mr$EventListener$$(1, "CastChannelErrorListener", "mr.cast.ChannelService", chrome.cast.channel.onError));
  return [$mr$cast$EventListeners$channelMessageListener_$$, $mr$cast$EventListeners$channelErrorListener_$$];
};
var $mr$RouteId$$ = function() {
}, $mr$RouteId$create$$ = function($$jscomp$destructuring$var6_routeId$jscomp$12$$) {
  if (!$$jscomp$destructuring$var6_routeId$jscomp$12$$.startsWith("urn:x-org.chromium:media:route:")) {
    return null;
  }
  var $obj$jscomp$106_suffix$jscomp$3$$ = $$jscomp$destructuring$var6_routeId$jscomp$12$$.substring(31);
  if (!$obj$jscomp$106_suffix$jscomp$3$$) {
    return null;
  }
  var $match$jscomp$14$$ = $obj$jscomp$106_suffix$jscomp$3$$.match(/([^/]*)\/([^-/]*)-([^/]*)\/(.*)/);
  if (!$match$jscomp$14$$) {
    return null;
  }
  $obj$jscomp$106_suffix$jscomp$3$$ = new $mr$RouteId$$;
  $obj$jscomp$106_suffix$jscomp$3$$.$f$ = $$jscomp$destructuring$var6_routeId$jscomp$12$$;
  $$jscomp$destructuring$var6_routeId$jscomp$12$$ = $$jscomp$makeIterator$$($match$jscomp$14$$);
  $$jscomp$destructuring$var6_routeId$jscomp$12$$.next();
  $obj$jscomp$106_suffix$jscomp$3$$.$b$ = $$jscomp$destructuring$var6_routeId$jscomp$12$$.next().value;
  $obj$jscomp$106_suffix$jscomp$3$$.$h$ = $$jscomp$destructuring$var6_routeId$jscomp$12$$.next().value;
  $obj$jscomp$106_suffix$jscomp$3$$.$l$ = $$jscomp$destructuring$var6_routeId$jscomp$12$$.next().value;
  $obj$jscomp$106_suffix$jscomp$3$$.$g$ = $$jscomp$destructuring$var6_routeId$jscomp$12$$.next().value;
  return $obj$jscomp$106_suffix$jscomp$3$$;
};
var $mr$Route$$ = function($id$jscomp$64$$, $presentationId$jscomp$2$$, $sinkId$jscomp$15$$, $sourceUrn$jscomp$12$$, $isLocal$$, $description$jscomp$13$$) {
  this.id = $id$jscomp$64$$;
  this.presentationId = $presentationId$jscomp$2$$;
  this.sinkId = $sinkId$jscomp$15$$;
  this.mediaSource = $sourceUrn$jscomp$12$$;
  this.isLocal = $isLocal$$;
  this.description = $description$jscomp$13$$;
  this.iconUrl = null;
  this.allowStop = !0;
  this.customControllerPath = null;
  this.supportsMediaRouteController = !1;
  this.controllerType = mojo && mojo.RouteControllerType && mojo.RouteControllerType.kNone;
  this.forDisplay = !0;
  this.offTheRecord = !1;
  this.$createdLocally$ = $isLocal$$;
  this.isOffscreenPresentation = !1;
}, $mr$Route$createRoute$$ = function($presentationId$jscomp$3$$, $JSCompiler_inline_result$jscomp$501_providerName$jscomp$1$$, $sinkId$jscomp$16$$, $source$jscomp$19$$, $isLocal$jscomp$1$$, $description$jscomp$14$$) {
  $JSCompiler_inline_result$jscomp$501_providerName$jscomp$1$$ = $source$jscomp$19$$ && $mr$MediaSourceUtils$isPresentationSource$$($source$jscomp$19$$) ? $presentationId$jscomp$3$$ : "urn:x-org.chromium:media:route:" + $presentationId$jscomp$3$$ + "/" + $JSCompiler_inline_result$jscomp$501_providerName$jscomp$1$$ + "-" + $sinkId$jscomp$16$$ + "/" + $source$jscomp$19$$;
  return new $mr$Route$$($JSCompiler_inline_result$jscomp$501_providerName$jscomp$1$$, $presentationId$jscomp$3$$, $sinkId$jscomp$16$$, $source$jscomp$19$$, $isLocal$jscomp$1$$, $description$jscomp$14$$);
};
var $mr$cast$RouteUtils$createRoute$$ = function($sourceUrn$jscomp$24$$, $sink$jscomp$23$$, $presentationId$jscomp$8_route$jscomp$9$$, $isLocal$jscomp$2$$) {
  $presentationId$jscomp$8_route$jscomp$9$$ = $mr$Route$createRoute$$($presentationId$jscomp$8_route$jscomp$9$$, "cast", $sink$jscomp$23$$.getId(), $sourceUrn$jscomp$24$$, $isLocal$jscomp$2$$, "");
  $presentationId$jscomp$8_route$jscomp$9$$.supportsMediaRouteController = !0;
  mojo && mojo.RouteControllerType && ($presentationId$jscomp$8_route$jscomp$9$$.controllerType = $isLocal$jscomp$2$$ && $mr$MediaSourceUtils$isTabMirrorSource$$($sourceUrn$jscomp$24$$) && $sink$jscomp$23$$.$b$ & 1 && mojo.RouteControllerType.kMirroring ? mojo.RouteControllerType.kMirroring : mojo.RouteControllerType.kGeneric);
  return $presentationId$jscomp$8_route$jscomp$9$$;
}, $mr$cast$RouteUtils$getAppDescription$$ = function($session$jscomp$27$$) {
  $mr$Assertions$assert$$(!$mr$cast$AppIds$isMirrorAppId$$($session$jscomp$27$$.appId));
  return $session$jscomp$27$$.statusText || $session$jscomp$27$$.displayName;
}, $mr$cast$RouteUtils$updateLocalMirrorSession$$ = function($session$jscomp$28$$, $route$jscomp$11$$) {
  var $activity$$ = $route$jscomp$11$$.$mirrorInitData$.$activity$;
  $activity$$ && ($route$jscomp$11$$.description = $JSCompiler_StaticMethods_getRouteDescription$$($activity$$), $session$jscomp$28$$.displayName = "", $session$jscomp$28$$.statusText = "mirror_desktop" == $activity$$.$f$ ? "" : $activity$$.$g$ || "");
};
var $mr$cast$ChannelUtils$createMessage$$ = function($namespace$jscomp$23$$, $data$jscomp$93$$, $sourceVcId$$, $destinationVcId$$) {
  return {namespace_:$namespace$jscomp$23$$, data:"string" === typeof $data$jscomp$93$$ ? $data$jscomp$93$$ : JSON.stringify($data$jscomp$93$$), sourceId:$sourceVcId$$, destinationId:$destinationVcId$$};
};
var $mr$cast$VirtualCloseRequest$$ = function($reasonCode$$) {
  this.type = "CLOSE";
  this.reasonCode = $reasonCode$$;
};
var $goog$userAgent$product$getFirstRegExpGroup_$$ = function($arr$jscomp$83_re$jscomp$4$$) {
  return ($arr$jscomp$83_re$jscomp$4$$ = $arr$jscomp$83_re$jscomp$4$$.exec($goog$labs$userAgent$util$userAgent_$$)) ? $arr$jscomp$83_re$jscomp$4$$[1] : "";
}, $goog$userAgent$product$VERSION$$ = function() {
  if ($goog$userAgent$product$FIREFOX$$) {
    return $goog$userAgent$product$getFirstRegExpGroup_$$(/Firefox\/([0-9.]+)/);
  }
  if ($goog$userAgent$IE$$ || $goog$userAgent$EDGE$$ || $goog$userAgent$OPERA$$) {
    return $goog$userAgent$VERSION$$;
  }
  if ($goog$userAgent$product$CHROME$$) {
    return $goog$labs$userAgent$platform$isIphone$$() || $goog$labs$userAgent$util$matchUserAgent$$("iPad") || $goog$labs$userAgent$util$matchUserAgent$$("iPod") ? $goog$userAgent$product$getFirstRegExpGroup_$$(/CriOS\/([0-9.]+)/) : $goog$userAgent$product$getFirstRegExpGroup_$$(/Chrome\/([0-9.]+)/);
  }
  if ($goog$userAgent$product$SAFARI$$ && !($goog$labs$userAgent$platform$isIphone$$() || $goog$labs$userAgent$util$matchUserAgent$$("iPad") || $goog$labs$userAgent$util$matchUserAgent$$("iPod"))) {
    return $goog$userAgent$product$getFirstRegExpGroup_$$(/Version\/([0-9.]+)/);
  }
  if ($goog$userAgent$product$IPHONE$$ || $goog$userAgent$product$IPAD$$) {
    var $arr$jscomp$82_version$jscomp$15$$ = /Version\/(\S+).*Mobile\/(\S+)/.exec($goog$labs$userAgent$util$userAgent_$$);
    if ($arr$jscomp$82_version$jscomp$15$$) {
      return $arr$jscomp$82_version$jscomp$15$$[1] + "." + $arr$jscomp$82_version$jscomp$15$$[2];
    }
  } else {
    if ($goog$userAgent$product$ANDROID$$) {
      return ($arr$jscomp$82_version$jscomp$15$$ = $goog$userAgent$product$getFirstRegExpGroup_$$(/Android\s+([0-9.]+)/)) ? $arr$jscomp$82_version$jscomp$15$$ : $goog$userAgent$product$getFirstRegExpGroup_$$(/Version\/([0-9.]+)/);
    }
  }
  return "";
}(), $goog$userAgent$product$isVersion$$ = function($version$jscomp$16$$) {
  return 0 <= $goog$string$internal$compareVersions$$($goog$userAgent$product$VERSION$$, $version$jscomp$16$$);
};
var $mr$cast$VirtualConnectRequest$$ = function($isVisible$$) {
  this.type = "CONNECT";
  this.origin = {};
  this.userAgent = $goog$labs$userAgent$util$userAgent_$$;
  var $systemVersion_systemVersionStart$$ = this.userAgent.indexOf("(") + 1;
  $systemVersion_systemVersionStart$$ = this.userAgent.substr($systemVersion_systemVersionStart$$, this.userAgent.indexOf(")", $systemVersion_systemVersionStart$$) - 1 - $systemVersion_systemVersionStart$$ + 1);
  this.senderInfo = {sdkType:2, version:chrome.runtime.getManifest().version, browserVersion:$goog$userAgent$product$VERSION$$, platform:$mr$cast$VirtualConnectRequest$getPlatform_$$(), systemVersion:$systemVersion_systemVersionStart$$, connectionType:1};
  this.connType = $isVisible$$ ? 0 : 2;
}, $mr$cast$VirtualConnectRequest$getPlatform_$$ = function() {
  switch($mr$PlatformUtils$getCurrentOS$$()) {
    case "ChromeOS":
      return 5;
    case "Windows":
      return 3;
    case "Mac":
      return 4;
    case "Linux":
      return 6;
  }
  return 0;
};
var $mr$RunTimeErrorUtils$getError$$ = function($logger$jscomp$11$$) {
  if (!chrome.runtime.lastError) {
    return null;
  }
  var $message$jscomp$93$$ = "chrome.cast.channel.send failed, chrome.runtime.lastError: " + (chrome.runtime.lastError.message || "Unknown error");
  $logger$jscomp$11$$ && $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($logger$jscomp$11$$, $message$jscomp$93$$);
  return Error($message$jscomp$93$$);
};
var $mr$cast$VirtualConnectionManager$$ = function() {
  this.$b$ = new $goog$structs$Map$$;
};
$mr$cast$VirtualConnectionManager$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
};
var $JSCompiler_StaticMethods_openVc$$ = function($JSCompiler_StaticMethods_openVc$self$$, $channel$jscomp$3$$, $senderVcId$$, $receiverVcId$$, $isVisible$jscomp$1$$) {
  if (!$JSCompiler_StaticMethods_goog_structs_Map_prototype$containsKey$$($JSCompiler_StaticMethods_openVc$self$$.$b$, [$channel$jscomp$3$$.channelId, $senderVcId$$, $receiverVcId$$].join("#"))) {
    var $message$jscomp$94$$ = $mr$cast$ChannelUtils$createMessage$$($mr$cast$Namespace$Cast$TP_CONNECTION$$, new $mr$cast$VirtualConnectRequest$$($isVisible$jscomp$1$$), $senderVcId$$, $receiverVcId$$);
    chrome.cast.channel.send($channel$jscomp$3$$, $message$jscomp$94$$, $JSCompiler_StaticMethods_openVc$self$$.$f$.bind($JSCompiler_StaticMethods_openVc$self$$));
    $JSCompiler_StaticMethods_openVc$self$$.$b$.set([$channel$jscomp$3$$.channelId, $senderVcId$$, $receiverVcId$$].join("#"), $isVisible$jscomp$1$$);
  }
};
$mr$cast$VirtualConnectionManager$$.prototype.$f$ = function() {
  $mr$RunTimeErrorUtils$getError$$($mr$cast$VirtualConnectionManager$logger_$$);
};
var $JSCompiler_StaticMethods_removeVcsOnChannel$$ = function($JSCompiler_StaticMethods_removeVcsOnChannel$self$$, $channel$jscomp$7$$) {
  $JSCompiler_StaticMethods_removeVcsOnChannel$self$$.$b$.$getKeys$().forEach(function($vcKey$jscomp$2$$) {
    $vcKey$jscomp$2$$.split("#")[0] == $channel$jscomp$7$$.channelId.toString() && $JSCompiler_StaticMethods_removeVcsOnChannel$self$$.$b$.remove($vcKey$jscomp$2$$);
  });
}, $JSCompiler_StaticMethods_moveVcs$$ = function($JSCompiler_StaticMethods_moveVcs$self$$, $oldChannel$$, $newChannel$$) {
  $JSCompiler_StaticMethods_moveVcs$self$$.$b$.forEach(function($isVisible$jscomp$2$$, $vcKey$jscomp$3$$) {
    var $vcKeyFields$$ = $vcKey$jscomp$3$$.split("#");
    $vcKeyFields$$[0] == $oldChannel$$.channelId.toString() && ($JSCompiler_StaticMethods_openVc$$($JSCompiler_StaticMethods_moveVcs$self$$, $newChannel$$, $vcKeyFields$$[1], $vcKeyFields$$[2], $isVisible$jscomp$2$$), $JSCompiler_StaticMethods_moveVcs$self$$.$b$.remove($vcKey$jscomp$3$$));
  });
};
$mr$cast$VirtualConnectionManager$$.prototype.$getStorageKey$ = function() {
  return "cast.VirtualConnectionManager";
};
$mr$cast$VirtualConnectionManager$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  var $connections$$ = $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$(this.$b$);
  return [new $mr$cast$VirtualConnectionManager$PersistentData_$$($connections$$)];
};
$mr$cast$VirtualConnectionManager$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$2$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($savedData$jscomp$2$$) {
    for (var $key$jscomp$140$$ in $savedData$jscomp$2$$.$b$) {
      this.$b$.set($key$jscomp$140$$, $savedData$jscomp$2$$.$b$[$key$jscomp$140$$]);
    }
  }
};
$goog$addSingletonGetter$$($mr$cast$VirtualConnectionManager$$);
var $mr$cast$VirtualConnectionManager$logger_$$ = $mr$Logger$getInstance$$("mr.cast.VirtualConnectionManager"), $mr$cast$VirtualConnectionManager$PersistentData_$$ = function($virtualConnections$$) {
  this.$b$ = $virtualConnections$$;
};
var $mr$cast$ChannelService$$ = function($senderId$jscomp$1$$, $channelCallbacks$$) {
  this.$l$ = $channelCallbacks$$;
  this.$m$ = $senderId$jscomp$1$$;
  this.$f$ = new $goog$structs$Map$$;
  this.$b$ = new $goog$structs$Map$$;
  this.$g$ = $mr$cast$VirtualConnectionManager$$.$getInstance$();
  this.$getSinkById$ = null;
  this.$h$ = new $goog$structs$Map$$;
};
$$jscomp$inherits$$($mr$cast$ChannelService$$, $mr$Module$$);
$mr$cast$ChannelService$$.prototype.handleEvent = function($event$jscomp$17$$, $args$jscomp$25$$) {
  for (var $$jscomp$restParams$jscomp$5$$ = [], $$jscomp$restIndex$jscomp$5$$ = 1; $$jscomp$restIndex$jscomp$5$$ < arguments.length; ++$$jscomp$restIndex$jscomp$5$$) {
    $$jscomp$restParams$jscomp$5$$[$$jscomp$restIndex$jscomp$5$$ - 1] = arguments[$$jscomp$restIndex$jscomp$5$$];
  }
  $event$jscomp$17$$ == chrome.cast.channel.onMessage ? this.$s$.apply(this, $$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$5$$)) : $event$jscomp$17$$ == chrome.cast.channel.onError ? this.$o$.apply(this, $$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$5$$)) : $mr$Assertions$assert$$(!1, "Unhandled event");
};
$mr$cast$ChannelService$$.prototype.init = function() {
  this.$g$.init();
  $mr$PersistentDataManager$register$$(this);
  $mr$Module$onModuleLoaded$$("mr.cast.ChannelService", this);
  $mr$cast$EventListeners$getChannelListeners$$().forEach(function($listener$jscomp$111$$) {
    return $listener$jscomp$111$$.addListener();
  });
};
var $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$$ = function($JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$self$$, $receiver$jscomp$20$$, $namespace$jscomp$24$$, $content$jscomp$13$$, $opt_sourceId$jscomp$4_sourceId$jscomp$5$$, $destinationId$jscomp$1_opt_destinationId$jscomp$2$$) {
  $opt_sourceId$jscomp$4_sourceId$jscomp$5$$ = $opt_sourceId$jscomp$4_sourceId$jscomp$5$$ || $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$self$$.$m$;
  $destinationId$jscomp$1_opt_destinationId$jscomp$2$$ = $destinationId$jscomp$1_opt_destinationId$jscomp$2$$ || "receiver-0";
  var $channel$jscomp$11$$ = $JSCompiler_StaticMethods_getCastChannel$$($JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$self$$, $receiver$jscomp$20$$);
  return $channel$jscomp$11$$ ? $JSCompiler_StaticMethods_sendToChannel_$$($JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$self$$, $channel$jscomp$11$$, $namespace$jscomp$24$$, $content$jscomp$13$$, $opt_sourceId$jscomp$4_sourceId$jscomp$5$$, $destinationId$jscomp$1_opt_destinationId$jscomp$2$$) : Promise.reject("Channel not found for " + $receiver$jscomp$20$$.getId());
}, $JSCompiler_StaticMethods_closeVirtualConnection$$ = function($JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1852_JSCompiler_StaticMethods_closeVirtualConnection$self$$, $channel$jscomp$13_receiverId$jscomp$7$$, $message$jscomp$inline_1857_sourceId$jscomp$7$$, $destinationId$jscomp$3$$, $explicitDisconnect$jscomp$1$$) {
  if ($channel$jscomp$13_receiverId$jscomp$7$$ = $JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1852_JSCompiler_StaticMethods_closeVirtualConnection$self$$.$f$.get($channel$jscomp$13_receiverId$jscomp$7$$)) {
    $JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1852_JSCompiler_StaticMethods_closeVirtualConnection$self$$ = $JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1852_JSCompiler_StaticMethods_closeVirtualConnection$self$$.$g$, $JSCompiler_StaticMethods_goog_structs_Map_prototype$containsKey$$($JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1852_JSCompiler_StaticMethods_closeVirtualConnection$self$$.$b$, [$channel$jscomp$13_receiverId$jscomp$7$$.channelId, $message$jscomp$inline_1857_sourceId$jscomp$7$$, 
    $destinationId$jscomp$3$$].join("#")) && ($JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1852_JSCompiler_StaticMethods_closeVirtualConnection$self$$.$b$.remove([$channel$jscomp$13_receiverId$jscomp$7$$.channelId, $message$jscomp$inline_1857_sourceId$jscomp$7$$, $destinationId$jscomp$3$$].join("#")), $message$jscomp$inline_1857_sourceId$jscomp$7$$ = $mr$cast$ChannelUtils$createMessage$$($mr$cast$Namespace$Cast$TP_CONNECTION$$, new $mr$cast$VirtualCloseRequest$$($explicitDisconnect$jscomp$1$$ ? 
    5 : 0), $message$jscomp$inline_1857_sourceId$jscomp$7$$, $destinationId$jscomp$3$$), chrome.cast.channel.send($channel$jscomp$13_receiverId$jscomp$7$$, $message$jscomp$inline_1857_sourceId$jscomp$7$$, $JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1852_JSCompiler_StaticMethods_closeVirtualConnection$self$$.$f$.bind($JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1852_JSCompiler_StaticMethods_closeVirtualConnection$self$$)));
  }
};
$mr$cast$ChannelService$$.prototype.$s$ = function($channel$jscomp$14$$, $message$jscomp$96$$) {
  var $receiverId$jscomp$8$$ = this.$b$.get($channel$jscomp$14$$.channelId);
  if ($receiverId$jscomp$8$$) {
    var $receiver$jscomp$22$$ = this.$getSinkById$($receiverId$jscomp$8$$);
    if ($receiver$jscomp$22$$) {
      if ($mr$cast$Namespace$TRANSPOSED_CAST_NAMESPACES_$$.hasOwnProperty($message$jscomp$96$$.namespace_)) {
        var $payload$jscomp$3$$ = JSON.parse($message$jscomp$96$$.data);
        switch($payload$jscomp$3$$.type) {
          case "CLOSE":
            this.$g$.$b$.remove([$channel$jscomp$14$$.channelId, $message$jscomp$96$$.destinationId, $message$jscomp$96$$.sourceId].join("#"));
            return;
          case "RPC":
            break;
          default:
            $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ChannelService$logger_$$, function() {
              return "Got message " + ($payload$jscomp$3$$.type || $payload$jscomp$3$$.responseType) + " from " + $receiver$jscomp$22$$.getId();
            });
        }
      } else {
        $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ChannelService$logger_$$, "Got message in " + $message$jscomp$96$$.namespace_ + " from " + $receiver$jscomp$22$$.getId());
      }
      $JSCompiler_StaticMethods_onChannelMessage$$(this.$l$, $receiver$jscomp$22$$, $message$jscomp$96$$);
    } else {
      $mr$cast$ChannelService$logger_$$.$warning$("Got message for unknown receiver (receiverId=" + $receiverId$jscomp$8$$ + ").");
    }
  } else {
    $mr$cast$ChannelService$logger_$$.$warning$("Got message for unknown channel (channelId=" + $channel$jscomp$14$$.channelId + ").");
  }
};
var $JSCompiler_StaticMethods_removeChannel_$$ = function($JSCompiler_StaticMethods_removeChannel_$self$$, $channel$jscomp$15$$) {
  var $receiverId$jscomp$9$$ = $JSCompiler_StaticMethods_removeChannel_$self$$.$b$.get($channel$jscomp$15$$.channelId);
  $receiverId$jscomp$9$$ && ($JSCompiler_StaticMethods_removeChannel_$self$$.$b$.remove($channel$jscomp$15$$.channelId), $JSCompiler_StaticMethods_removeChannel_$self$$.$f$.remove($receiverId$jscomp$9$$));
};
$mr$cast$ChannelService$$.prototype.$o$ = function($channel$jscomp$16$$, $error$jscomp$35$$) {
  $mr$cast$ChannelService$logger_$$.$warning$(function() {
    return "Channel error: " + JSON.stringify($channel$jscomp$16$$) + ($error$jscomp$35$$ ? ", " + JSON.stringify($error$jscomp$35$$) : "");
  });
  $JSCompiler_StaticMethods_removeChannel_$$(this, $channel$jscomp$16$$);
};
var $JSCompiler_StaticMethods_getCastChannel$$ = function($JSCompiler_StaticMethods_getCastChannel$self_channel$jscomp$19$$, $receiver$jscomp$24_receiverId$jscomp$12$$) {
  $receiver$jscomp$24_receiverId$jscomp$12$$ = $receiver$jscomp$24_receiverId$jscomp$12$$.getId();
  ($JSCompiler_StaticMethods_getCastChannel$self_channel$jscomp$19$$ = $JSCompiler_StaticMethods_getCastChannel$self_channel$jscomp$19$$.$f$.get($receiver$jscomp$24_receiverId$jscomp$12$$)) || $mr$cast$ChannelService$logger_$$.info("Channel not found for receiver: " + $receiver$jscomp$24_receiverId$jscomp$12$$);
  return $JSCompiler_StaticMethods_getCastChannel$self_channel$jscomp$19$$;
}, $JSCompiler_StaticMethods_sendToChannel_$$ = function($JSCompiler_StaticMethods_sendToChannel_$self$$, $channel$jscomp$20$$, $namespace$jscomp$25$$, $content$jscomp$14$$, $sourceId$jscomp$8$$, $destinationId$jscomp$4$$) {
  $JSCompiler_StaticMethods_openVc$$($JSCompiler_StaticMethods_sendToChannel_$self$$.$g$, $channel$jscomp$20$$, $sourceId$jscomp$8$$, $destinationId$jscomp$4$$, 0 == $destinationId$jscomp$4$$.indexOf("receiver-0"));
  $mr$cast$ApiDataUtils$removeNullFields$$($content$jscomp$14$$);
  var $message$jscomp$97$$ = $mr$cast$ChannelUtils$createMessage$$($namespace$jscomp$25$$, $content$jscomp$14$$, $sourceId$jscomp$8$$, $destinationId$jscomp$4$$);
  "object" === typeof $content$jscomp$14$$ && "RPC" == $content$jscomp$14$$.type || $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ChannelService$logger_$$, function() {
    return "Channel is sending message: " + JSON.stringify($message$jscomp$97$$);
  });
  return new Promise(function($resolve$jscomp$25$$, $reject$jscomp$24$$) {
    chrome.cast.channel.send($channel$jscomp$20$$, $message$jscomp$97$$, function($channel$jscomp$21_error$jscomp$36$$) {
      $channel$jscomp$21_error$jscomp$36$$ ? $channel$jscomp$21_error$jscomp$36$$.errorState ? ($reject$jscomp$24$$(Error("Failed to send message")), $JSCompiler_StaticMethods_removeChannel_$$($JSCompiler_StaticMethods_sendToChannel_$self$$, $channel$jscomp$21_error$jscomp$36$$)) : $resolve$jscomp$25$$(!0) : ($channel$jscomp$21_error$jscomp$36$$ = $mr$Assertions$assert$$($mr$RunTimeErrorUtils$getError$$($mr$cast$ChannelService$logger_$$ || void 0)), $reject$jscomp$24$$($channel$jscomp$21_error$jscomp$36$$));
    });
  });
};
$mr$cast$ChannelService$$.prototype.$getStorageKey$ = function() {
  return "cast.ChannelService";
};
$mr$cast$ChannelService$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [new $mr$cast$ChannelService$PersistentData_$$($JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$(this.$f$), $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$(this.$b$), $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$(this.$h$))];
};
$mr$cast$ChannelService$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$3$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$3$$ && ($JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$(this.$f$, $savedData$jscomp$3$$.$f$), $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$(this.$b$, $savedData$jscomp$3$$.$b$), $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$(this.$h$, $savedData$jscomp$3$$.$g$));
};
var $mr$cast$ChannelService$logger_$$ = $mr$Logger$getInstance$$("mr.cast.ChannelService"), $mr$cast$ChannelService$PersistentData_$$ = function($receiverIdToChannel$$, $channelIdToReceiverId$$, $receiverIdToLastProvidedChannel$$) {
  this.$f$ = $receiverIdToChannel$$;
  this.$b$ = $channelIdToReceiverId$$;
  this.$g$ = $receiverIdToLastProvidedChannel$$;
};
var $mr$cast$ClientRecord$$ = function($routeId$jscomp$20$$, $clientId$jscomp$18$$, $appIds$jscomp$3$$, $autoJoinPolicy$jscomp$3$$, $origin$jscomp$8$$, $tabId$jscomp$20$$) {
  this.routeId = $routeId$jscomp$20$$;
  this.clientId = $clientId$jscomp$18$$;
  this.appIds = $appIds$jscomp$3$$;
  this.autoJoinPolicy = $autoJoinPolicy$jscomp$3$$;
  this.origin = $origin$jscomp$8$$;
  this.tabId = $tabId$jscomp$20$$;
  this.$f$ = this.$b$ = !1;
}, $mr$cast$ClientRecords$$ = function() {
  this.$b$ = [];
};
$mr$cast$ClientRecords$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
};
$mr$cast$ClientRecords$$.prototype.$getCount$ = function() {
  return this.$b$.length;
};
var $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$ = function($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$self$$, $clientId$jscomp$19$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$self$$.$b$, function($e$jscomp$47$$) {
    return $e$jscomp$47$$.clientId == $clientId$jscomp$19$$;
  });
}, $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$$ = function($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$self$$, $routeId$jscomp$21$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$self$$.$b$, function($e$jscomp$48$$) {
    return $e$jscomp$48$$.routeId == $routeId$jscomp$21$$;
  });
}, $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$removeClient$$ = function($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$removeClient$self$$, $clientId$jscomp$21$$) {
  $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$removeClient$self$$.$b$ = $goog$array$filter$$($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$removeClient$self$$.$b$, function($e$jscomp$49$$) {
    return $e$jscomp$49$$.clientId != $clientId$jscomp$21$$;
  });
};
$mr$cast$ClientRecords$$.prototype.$getStorageKey$ = function() {
  return "cast.ClientRecords";
};
$mr$cast$ClientRecords$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [new $mr$cast$ClientRecords$PersistentData_$$(this.$b$)];
};
$mr$cast$ClientRecords$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$4$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$4$$ && (this.$b$ = $savedData$jscomp$4$$.$b$);
};
var $mr$cast$ClientRecords$PersistentData_$$ = function($records$$) {
  this.$b$ = $records$$;
};
var $mr$cast$GetAppAvailabilityRequest$$ = function() {
  this.requestId = 0;
  this.type = "GET_APP_AVAILABILITY";
  this.appId = [];
};
var $mr$cast$AppDiscoveryService$$ = function($requestSender$jscomp$1$$, $discoveryService$jscomp$1$$) {
  this.$h$ = $requestSender$jscomp$1$$;
  this.$f$ = $discoveryService$jscomp$1$$;
  this.$g$ = new $goog$structs$Set$$;
  this.$b$ = new $goog$structs$Map$$;
};
$mr$cast$AppDiscoveryService$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
};
var $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$$ = function($JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$self$$, $appId$jscomp$20$$) {
  var $appInfo$jscomp$8$$ = $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$self$$.$b$.get($appId$jscomp$20$$);
  $appInfo$jscomp$8$$ && ($appInfo$jscomp$8$$.$registeredCount$--, 0 < $appInfo$jscomp$8$$.$registeredCount$ || ($goog$iter$forEach$$($JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$self$$.$f$.$b$.$__iterator__$(!1), function($sink$jscomp$24$$) {
    switch($JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$$($sink$jscomp$24$$, $appId$jscomp$20$$)) {
      case "available":
        $sink$jscomp$24$$.$u$[$appId$jscomp$20$$] = "available_rescan";
        break;
      case "unavailable":
        $sink$jscomp$24$$.$u$[$appId$jscomp$20$$] = "unavailable_rescan";
    }
  }), $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$self$$.$b$.remove($appId$jscomp$20$$)));
};
$JSCompiler_prototypeAlias$$ = $mr$cast$AppDiscoveryService$$.prototype;
$JSCompiler_prototypeAlias$$.$mr_cast_AppDiscoveryService_prototype$scanSink$ = function($sink$jscomp$25$$) {
  var $$jscomp$this$jscomp$50$$ = this;
  $goog$iter$forEach$$(this.$b$.$__iterator__$(!0), function($appId$jscomp$22$$) {
    a: {
      switch($JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$$($sink$jscomp$25$$, $appId$jscomp$22$$)) {
        case "unknown":
        case "available_rescan":
        case "unavailable_rescan":
          var $JSCompiler_inline_result$jscomp$481_cleanup$jscomp$1$$ = !0;
          break a;
      }
      $JSCompiler_inline_result$jscomp$481_cleanup$jscomp$1$$ = !1;
    }
    if ($JSCompiler_inline_result$jscomp$481_cleanup$jscomp$1$$) {
      var $requestId$jscomp$11$$ = $sink$jscomp$25$$.getId() + ":" + $appId$jscomp$22$$;
      $$jscomp$this$jscomp$50$$.$g$.contains($requestId$jscomp$11$$) || ($$jscomp$this$jscomp$50$$.$g$.add($requestId$jscomp$11$$), $JSCompiler_inline_result$jscomp$481_cleanup$jscomp$1$$ = function() {
        $$jscomp$this$jscomp$50$$.$g$.remove($requestId$jscomp$11$$);
      }, (new $module$exports$mr$Retry$$($$jscomp$this$jscomp$50$$.$checkAppAvailability_$.bind($$jscomp$this$jscomp$50$$, $sink$jscomp$25$$, $appId$jscomp$22$$), 5500, 3)).start().then($$jscomp$this$jscomp$50$$.$updateAppStatus_$.bind($$jscomp$this$jscomp$50$$, $sink$jscomp$25$$, $appId$jscomp$22$$), function() {
        $$jscomp$this$jscomp$50$$.$logger_$.error("Failed to get app availability response for " + $sink$jscomp$25$$.getId() + ", appId " + $appId$jscomp$22$$ + " after 3 attempts.");
        $$jscomp$this$jscomp$50$$.$updateAppStatus_$($sink$jscomp$25$$, $appId$jscomp$22$$, "unknown");
      }).then($JSCompiler_inline_result$jscomp$481_cleanup$jscomp$1$$, $JSCompiler_inline_result$jscomp$481_cleanup$jscomp$1$$));
    }
  });
};
$JSCompiler_prototypeAlias$$.$updateAppStatus_$ = function($sink$jscomp$26$$, $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1878_appId$jscomp$23$$, $appStatus$jscomp$2$$) {
  $appStatus$jscomp$2$$ != $JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$$($sink$jscomp$26$$, $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1878_appId$jscomp$23$$) && (this.$logger_$.info($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1878_appId$jscomp$23$$ + " on " + $sink$jscomp$26$$.getId() + " is " + $appStatus$jscomp$2$$), $sink$jscomp$26$$.$u$[$JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1878_appId$jscomp$23$$] = 
  $appStatus$jscomp$2$$, $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1878_appId$jscomp$23$$ = this.$f$, $goog$asserts$assert$$(null != $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1878_appId$jscomp$23$$.$getSinkById$($sink$jscomp$26$$.getId())), $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1878_appId$jscomp$23$$.$h$, 
  $sink$jscomp$26$$));
};
$JSCompiler_prototypeAlias$$.$checkAppAvailability_$ = function($sink$jscomp$27$$, $appId$jscomp$24$$) {
  var $$jscomp$this$jscomp$51$$ = this, $request$jscomp$40$$ = new $mr$cast$GetAppAvailabilityRequest$$;
  $request$jscomp$40$$.appId = [$appId$jscomp$24$$];
  var $timing$jscomp$3$$ = new $mr$Timing$$("MediaRouter.Cast.App.Availability");
  return this.$h$.sendRequest($request$jscomp$40$$, $sink$jscomp$27$$, $mr$cast$Namespace$Cast$RECEIVER$$, 5000).then(function($response$jscomp$10$$) {
    $timing$jscomp$3$$.end("Success");
    $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($$jscomp$this$jscomp$51$$.$logger_$, function() {
      return "App availability response " + JSON.stringify($response$jscomp$10$$);
    });
    for (var $appId$318$$ in $response$jscomp$10$$.availability) {
      if ("APP_AVAILABLE" == $response$jscomp$10$$.availability[$appId$318$$]) {
        return "available";
      }
      if ("APP_UNAVAILABLE" == $response$jscomp$10$$.availability[$appId$318$$]) {
        return "unavailable";
      }
    }
    return "unknown";
  }, function($err$jscomp$19$$) {
    $timing$jscomp$3$$.end("Failure");
    $$jscomp$this$jscomp$51$$.$logger_$.error("checkAppAvailability_ failed for " + $sink$jscomp$27$$.getId() + ", appId " + $appId$jscomp$24$$);
    throw $err$jscomp$19$$;
  });
};
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "cast.AppDiscoveryService";
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [new $mr$cast$AppDiscoveryService$PersistentData_$$($JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$(this.$b$))];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  var $savedData$jscomp$5$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$5$$ && $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$(this.$b$, $savedData$jscomp$5$$.$b$);
};
$JSCompiler_prototypeAlias$$.$logger_$ = $mr$Logger$getInstance$$("mr.cast.AppDiscoveryService");
var $mr$cast$AppDiscoveryService$PersistentData_$$ = function($registeredApps$$) {
  this.$b$ = $registeredApps$$;
};
var $mr$cast$Messages$MSG_FAILED_TO_CAST$$ = chrome.i18n.getMessage("4528089202128275824");
chrome.i18n.getMessage("2810417817914017289");
chrome.i18n.getMessage("3413021810593924462");
chrome.i18n.getMessage("7603034707785674700");
chrome.i18n.getMessage("8009014317872238527");
chrome.i18n.getMessage("8636962961150071298");
chrome.i18n.getMessage("1802762746589457177");
var $mr$cast$SessionRecord$$ = function($sinkId$jscomp$22$$, $session$jscomp$31$$) {
  this.$f$ = [];
  this.$b$ = [];
  this.sinkId = $sinkId$jscomp$22$$;
  this.session = $session$jscomp$31$$;
  this.$m$ = this.$h$ = null;
  this.offTheRecord = this.$l$ = !1;
  this.controller = null;
  this.$g$ = !0;
}, $mr$cast$SessionRecords$$ = function() {
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cast.SessionRecords");
  this.$b$ = [];
};
$mr$cast$SessionRecords$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
};
var $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$$ = function($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$self$$, $sessionId$jscomp$33$$) {
  $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$self$$.$logger_$.info("Removing session " + $sessionId$jscomp$33$$);
  $JSCompiler_StaticMethods_disposeRouteControllerForSession$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$self$$, $sessionId$jscomp$33$$);
  $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$self$$.$b$ = $goog$array$filter$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$self$$.$b$, function($e$jscomp$50$$) {
    return $e$jscomp$50$$.session.sessionId != $sessionId$jscomp$33$$;
  });
}, $JSCompiler_StaticMethods_getClientIdsOfSession$$ = function($JSCompiler_StaticMethods_getClientIdsOfSession$self_record$jscomp$4$$, $sessionId$jscomp$34$$) {
  return ($JSCompiler_StaticMethods_getClientIdsOfSession$self_record$jscomp$4$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_getClientIdsOfSession$self_record$jscomp$4$$, $sessionId$jscomp$34$$)) ? $JSCompiler_StaticMethods_getClientIdsOfSession$self_record$jscomp$4$$.$f$ : [];
}, $JSCompiler_StaticMethods_getSessionBySinkId$$ = function($JSCompiler_StaticMethods_getSessionBySinkId$self_record$jscomp$5$$, $sinkId$jscomp$25$$) {
  return ($JSCompiler_StaticMethods_getSessionBySinkId$self_record$jscomp$5$$ = $JSCompiler_StaticMethods_getRecordBySinkId$$($JSCompiler_StaticMethods_getSessionBySinkId$self_record$jscomp$5$$, $sinkId$jscomp$25$$)) ? $JSCompiler_StaticMethods_getSessionBySinkId$self_record$jscomp$5$$.session : null;
}, $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByClientId$$ = function($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByClientId$self$$, $clientId$jscomp$24$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByClientId$self$$.$b$, function($e$jscomp$51$$) {
    return $goog$array$contains$$($e$jscomp$51$$.$f$, $clientId$jscomp$24$$);
  });
}, $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$$ = function($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$self$$, $routeId$jscomp$29$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$self$$.$b$, function($e$jscomp$52$$) {
    return $goog$array$contains$$($e$jscomp$52$$.$b$, $routeId$jscomp$29$$);
  });
}, $JSCompiler_StaticMethods_getRecordByPresentationId$$ = function($JSCompiler_StaticMethods_getRecordByPresentationId$self$$, $presentationId$jscomp$10$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_getRecordByPresentationId$self$$.$b$, function($e$jscomp$53$$) {
    return null != $goog$array$find$$($e$jscomp$53$$.$b$, function($r$jscomp$7$$) {
      return $mr$RouteId$create$$($r$jscomp$7$$).$b$ == $presentationId$jscomp$10$$;
    });
  });
}, $JSCompiler_StaticMethods_getRecordBySinkId$$ = function($JSCompiler_StaticMethods_getRecordBySinkId$self$$, $sinkId$jscomp$26$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_getRecordBySinkId$self$$.$b$, function($e$jscomp$54$$) {
    return $e$jscomp$54$$.sinkId == $sinkId$jscomp$26$$ || $e$jscomp$54$$.$h$ == $sinkId$jscomp$26$$;
  });
}, $JSCompiler_StaticMethods_getRecordBySessionId$$ = function($JSCompiler_StaticMethods_getRecordBySessionId$self$$, $sessionId$jscomp$35$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_getRecordBySessionId$self$$.$b$, function($e$jscomp$55$$) {
    return $e$jscomp$55$$.session.sessionId == $sessionId$jscomp$35$$;
  });
}, $JSCompiler_StaticMethods_getSinkIdBySessionId$$ = function($JSCompiler_StaticMethods_getSinkIdBySessionId$self_record$jscomp$6$$, $sessionId$jscomp$36$$) {
  return ($JSCompiler_StaticMethods_getSinkIdBySessionId$self_record$jscomp$6$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_getSinkIdBySessionId$self_record$jscomp$6$$, $sessionId$jscomp$36$$)) ? $JSCompiler_StaticMethods_getSinkIdBySessionId$self_record$jscomp$6$$.sinkId : null;
}, $JSCompiler_StaticMethods_getSessionById$$ = function($JSCompiler_StaticMethods_getSessionById$self_record$jscomp$7$$, $sessionId$jscomp$37$$) {
  return ($JSCompiler_StaticMethods_getSessionById$self_record$jscomp$7$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_getSessionById$self_record$jscomp$7$$, $sessionId$jscomp$37$$)) ? $JSCompiler_StaticMethods_getSessionById$self_record$jscomp$7$$.session : null;
}, $JSCompiler_StaticMethods_setSessionMedia$$ = function($JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$, $sessionId$jscomp$38$$, $mediaArray$jscomp$2$$) {
  var $session$jscomp$34$$ = $JSCompiler_StaticMethods_getSessionById$$($JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$, $sessionId$jscomp$38$$);
  $session$jscomp$34$$ && ($JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$ = $goog$array$filter$$($mediaArray$jscomp$2$$, function($e$jscomp$56$$) {
    return $e$jscomp$56$$.playerState != chrome.cast.media.PlayerState.IDLE;
  }), $JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$.forEach(function($media$jscomp$13$$) {
    if (!$media$jscomp$13$$.media) {
      var $existingMedia$$ = $goog$array$find$$($session$jscomp$34$$.media, function($e$jscomp$57$$) {
        return $e$jscomp$57$$.mediaSessionId == $media$jscomp$13$$.mediaSessionId;
      });
      $existingMedia$$ && ($media$jscomp$13$$.media = $existingMedia$$.media);
    }
  }), $session$jscomp$34$$.media = $JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$);
};
$mr$cast$SessionRecords$$.prototype.$getStorageKey$ = function() {
  return "cast.SessionRecords";
};
$mr$cast$SessionRecords$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [new $mr$cast$SessionRecords$PersistentData_$$(this.$b$)];
};
$mr$cast$SessionRecords$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$6$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($savedData$jscomp$6$$) {
    for (var $i$jscomp$233$$ = 0; $i$jscomp$233$$ < $savedData$jscomp$6$$.$b$.length; $i$jscomp$233$$++) {
      var $savedRecord$$ = $savedData$jscomp$6$$.$b$[$i$jscomp$233$$], $record$jscomp$8$$ = new $mr$cast$SessionRecord$$($savedRecord$$.sinkId, $savedRecord$$.session);
      $record$jscomp$8$$.$f$ = $savedRecord$$.$f$;
      $record$jscomp$8$$.$b$ = $savedRecord$$.$b$;
      $record$jscomp$8$$.$l$ = $savedRecord$$.$l$;
      $record$jscomp$8$$.$m$ = $savedRecord$$.$m$;
      $record$jscomp$8$$.$h$ = $savedRecord$$.$h$;
      $record$jscomp$8$$.$g$ = $savedRecord$$.$g$;
      this.$b$.push($record$jscomp$8$$);
    }
  }
};
var $JSCompiler_StaticMethods_disposeRouteControllerForSession$$ = function($JSCompiler_StaticMethods_disposeRouteControllerForSession$self_sessionRecord$jscomp$11$$, $sessionId$jscomp$39$$) {
  ($JSCompiler_StaticMethods_disposeRouteControllerForSession$self_sessionRecord$jscomp$11$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_disposeRouteControllerForSession$self_sessionRecord$jscomp$11$$, $sessionId$jscomp$39$$)) && $JSCompiler_StaticMethods_disposeRouteControllerForSession$self_sessionRecord$jscomp$11$$.controller && ($JSCompiler_StaticMethods_disposeRouteControllerForSession$self_sessionRecord$jscomp$11$$.controller.$dispose$(), $JSCompiler_StaticMethods_disposeRouteControllerForSession$self_sessionRecord$jscomp$11$$.controller = 
  null);
}, $mr$cast$SessionRecords$PersistentData_$$ = function($$jscomp$inline_1884_records$jscomp$1$$) {
  var $copy$jscomp$inline_1883$$ = [];
  $$jscomp$inline_1884_records$jscomp$1$$ = $$jscomp$makeIterator$$($$jscomp$inline_1884_records$jscomp$1$$);
  for (var $$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$ = $$jscomp$inline_1884_records$jscomp$1$$.next(); !$$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$.done; $$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$ = $$jscomp$inline_1884_records$jscomp$1$$.next()) {
    $$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$ = $$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$.value;
    var $record$jscomp$inline_1887$$ = new $mr$cast$SessionRecord$$($$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$.sinkId, $$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$.session);
    $record$jscomp$inline_1887$$.$f$ = $$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$.$f$;
    $record$jscomp$inline_1887$$.$b$ = $$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$.$b$;
    $record$jscomp$inline_1887$$.$l$ = $$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$.$l$;
    $record$jscomp$inline_1887$$.$m$ = $$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$.$m$;
    $record$jscomp$inline_1887$$.$h$ = $$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$.$h$;
    $record$jscomp$inline_1887$$.offTheRecord = $$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$.offTheRecord;
    $record$jscomp$inline_1887$$.$g$ = $$jscomp$inline_1885_originalRecord$jscomp$inline_1886$$.$g$;
    $copy$jscomp$inline_1883$$.push($record$jscomp$inline_1887$$);
  }
  this.$b$ = $copy$jscomp$inline_1883$$;
};
var $mr$RouteRequestError$$ = function($errorCode$jscomp$1$$, $opt_message$jscomp$23_stack$jscomp$7$$, $opt_stack$$) {
  var $$jscomp$tmp$error$jscomp$2$$ = Error.call(this);
  this.message = $$jscomp$tmp$error$jscomp$2$$.message;
  "stack" in $$jscomp$tmp$error$jscomp$2$$ && (this.stack = $$jscomp$tmp$error$jscomp$2$$.stack);
  this.name = "RouteRequestError";
  this.message = $opt_message$jscomp$23_stack$jscomp$7$$ || "";
  if ($opt_stack$$) {
    this.stack = $opt_stack$$;
  } else {
    if (Error.captureStackTrace) {
      Error.captureStackTrace(this, $mr$RouteRequestError$$);
    } else {
      if ($opt_message$jscomp$23_stack$jscomp$7$$ = Error().stack) {
        this.stack = $opt_message$jscomp$23_stack$jscomp$7$$;
      }
    }
  }
  this.errorCode = $errorCode$jscomp$1$$;
};
$$jscomp$inherits$$($mr$RouteRequestError$$, Error);
var $mr$SinkList$$ = function($sinks$jscomp$3$$, $opt_origins$$) {
  this.sinks = $sinks$jscomp$3$$;
  this.origins = $opt_origins$$ || null;
}, $mr$SinkList$EMPTY$$ = new $mr$SinkList$$([]);
var $mr$CastProvider$$ = function($providerManagerCallbacks$$) {
  this.$G$ = "sender-" + $goog$string$getRandomString$$();
  this.$f$ = new $goog$structs$Map$$;
  this.$s$ = null;
  $mr$PersistentDataManager$register$$(this);
  this.$g$ = $providerManagerCallbacks$$;
  this.$o$ = new $mr$cast$ClientRecords$$;
  this.$h$ = new $mr$cast$SessionRecords$$;
  this.$C$ = new $mr$cast$ChannelService$$(this.$G$, this);
  this.$b$ = new $mr$cast$SinkDiscoveryService$$(this.$C$, this);
  this.$H$ = new $mr$cast$RequestSender$$(this.$C$, this.$G$);
  this.$m$ = null;
  this.$l$ = new $mr$cast$ApiHandler$$(this.$H$, this.$b$, this.$o$, this.$h$, this.$C$, this);
  this.$J$ = new $castApp$eventPage$Service$$(this.$b$, this.$H$);
};
$JSCompiler_prototypeAlias$$ = $mr$CastProvider$$.prototype;
$JSCompiler_prototypeAlias$$.getName = function() {
  return "cast";
};
$JSCompiler_prototypeAlias$$.initialize = function($config$jscomp$13_sinkQueryEnabled$$) {
  $config$jscomp$13_sinkQueryEnabled$$ = $config$jscomp$13_sinkQueryEnabled$$ && "boolean" === typeof $config$jscomp$13_sinkQueryEnabled$$.enable_cast_sink_query ? $config$jscomp$13_sinkQueryEnabled$$.enable_cast_sink_query : !0;
  this.$logger_$.info("Query enabled: " + $config$jscomp$13_sinkQueryEnabled$$);
  this.$H$.init();
  this.$h$.init();
  this.$l$.init();
  this.$C$.init();
  this.$b$.init();
  $config$jscomp$13_sinkQueryEnabled$$ && (this.$m$ = new $mr$cast$AppDiscoveryService$$(this.$H$, this.$b$), this.$m$.init());
};
$JSCompiler_prototypeAlias$$.$getRoutes$ = function() {
  return this.$f$.$getValues$();
};
$JSCompiler_prototypeAlias$$.$getAvailableSinks$ = function($sourceUrn$jscomp$26$$) {
  var $$jscomp$this$jscomp$52$$ = this;
  if (null != $JSCompiler_StaticMethods_getBroadcastRequestFromUrn_$$($sourceUrn$jscomp$26$$)) {
    return new $mr$SinkList$$([]);
  }
  var $sinks$jscomp$4$$ = new $goog$structs$Set$$;
  $JSCompiler_StaticMethods_getAppIdsFromUrn_$$($sourceUrn$jscomp$26$$).forEach(function($appId$jscomp$25$$) {
    $JSCompiler_StaticMethods_getSinksByAppId$$($$jscomp$this$jscomp$52$$.$b$, $appId$jscomp$25$$).map(function($e$jscomp$58$$) {
      return $e$jscomp$58$$.$f$;
    }).forEach(function($sink$jscomp$35$$) {
      $sinks$jscomp$4$$.add($sink$jscomp$35$$);
    });
  });
  return new $mr$SinkList$$($sinks$jscomp$4$$.$getValues$(), $mr$MediaSourceUtils$getWhitelistedOrigins$$($sourceUrn$jscomp$26$$));
};
$JSCompiler_prototypeAlias$$.startObservingMediaSinks = function($sourceUrn$jscomp$27$$) {
  var $$jscomp$this$jscomp$53$$ = this, $broadcastRequest$jscomp$1$$ = $JSCompiler_StaticMethods_getBroadcastRequestFromUrn_$$($sourceUrn$jscomp$27$$);
  $broadcastRequest$jscomp$1$$ ? (this.$logger_$.info("Received broadcast request " + $sourceUrn$jscomp$27$$), $goog$iter$forEach$$(this.$b$.$b$.$__iterator__$(!1), function($sink$jscomp$36$$) {
    $$jscomp$this$jscomp$53$$.$H$.sendMessage($broadcastRequest$jscomp$1$$, $sink$jscomp$36$$, $mr$cast$Namespace$Cast$BROADCAST$$).catch(function($error$jscomp$40$$) {
      $$jscomp$this$jscomp$53$$.$logger_$.error("Broadcast failed " + $error$jscomp$40$$.message);
    });
  })) : this.$m$ && $JSCompiler_StaticMethods_getAppIdsFromUrn_$$($sourceUrn$jscomp$27$$).forEach(function($appId$jscomp$26$$) {
    var $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1889$$ = $$jscomp$this$jscomp$53$$.$m$, $appInfo$jscomp$inline_1891$$ = $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1889$$.$b$.get($appId$jscomp$26$$);
    $appInfo$jscomp$inline_1891$$ ? $appInfo$jscomp$inline_1891$$.$registeredCount$++ : $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1889$$.$b$.set($appId$jscomp$26$$, {$registeredCount$:1});
    $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1889$$.$logger_$.info("Scanning sinks for app availability");
    $goog$iter$forEach$$($JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1889$$.$f$.$b$.$__iterator__$(!1), $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1889$$.$mr_cast_AppDiscoveryService_prototype$scanSink$, $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1889$$);
  });
};
$JSCompiler_prototypeAlias$$.stopObservingMediaSinks = function($sourceUrn$jscomp$28$$) {
  var $$jscomp$this$jscomp$54$$ = this;
  null != $JSCompiler_StaticMethods_getBroadcastRequestFromUrn_$$($sourceUrn$jscomp$28$$) || this.$m$ && $JSCompiler_StaticMethods_getAppIdsFromUrn_$$($sourceUrn$jscomp$28$$).forEach(function($appId$jscomp$27$$) {
    $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$$($$jscomp$this$jscomp$54$$.$m$, $appId$jscomp$27$$);
  });
};
$JSCompiler_prototypeAlias$$.startObservingMediaRoutes = function() {
};
$JSCompiler_prototypeAlias$$.stopObservingMediaRoutes = function() {
};
$JSCompiler_prototypeAlias$$.$getSinkById$ = function($castSink$jscomp$3_sinkId$jscomp$27$$) {
  return ($castSink$jscomp$3_sinkId$jscomp$27$$ = this.$b$.$getSinkById$($castSink$jscomp$3_sinkId$jscomp$27$$)) ? $castSink$jscomp$3_sinkId$jscomp$27$$.$f$ : null;
};
var $JSCompiler_StaticMethods_handleLaunchError_$$ = function($JSCompiler_StaticMethods_handleLaunchError_$self$$, $route$jscomp$14$$, $error$jscomp$41_issue$jscomp$inline_1895$$) {
  $JSCompiler_StaticMethods_handleLaunchError_$self$$.$logger_$.error("Error launching.", $error$jscomp$41_issue$jscomp$inline_1895$$);
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$$($JSCompiler_StaticMethods_handleLaunchError_$self$$, $route$jscomp$14$$.id, !1, !0, "error");
  $error$jscomp$41_issue$jscomp$inline_1895$$ = new $mr$Issue$$($mr$cast$Messages$MSG_FAILED_TO_CAST$$, "warning");
  $JSCompiler_StaticMethods_setRouteId$$($error$jscomp$41_issue$jscomp$inline_1895$$, $route$jscomp$14$$.id);
  $JSCompiler_StaticMethods_mr_Issue_prototype$setSinkId$$($error$jscomp$41_issue$jscomp$inline_1895$$, $route$jscomp$14$$.sinkId);
  $JSCompiler_StaticMethods_handleLaunchError_$self$$.$g$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$sendIssue$($error$jscomp$41_issue$jscomp$inline_1895$$);
}, $JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$$ = function($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $sourceUrn$jscomp$31$$, $sink$jscomp$37$$, $presentationId$jscomp$11$$, $offTheRecord$jscomp$2_presentationUrl$jscomp$4$$, $timeoutMillis$jscomp$6$$, $opt_origin$jscomp$2$$, $opt_tabId$jscomp$5$$) {
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$f$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$($sink$jscomp$37$$.$D$, $sink$jscomp$37$$.$getIpAddress$());
  var $route$jscomp$15$$ = $mr$cast$RouteUtils$createRoute$$($sourceUrn$jscomp$31$$, $sink$jscomp$37$$, $presentationId$jscomp$11$$, !0);
  $route$jscomp$15$$.forDisplay = !1;
  $route$jscomp$15$$.offTheRecord = $offTheRecord$jscomp$2_presentationUrl$jscomp$4$$;
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$.$f$.set($route$jscomp$15$$.id, $route$jscomp$15$$);
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$.$g$.$onRouteAdded$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $route$jscomp$15$$);
  $JSCompiler_StaticMethods_updateKeepAliveRequest$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$);
  ($offTheRecord$jscomp$2_presentationUrl$jscomp$4$$ = $mr$cast$PresentationUrl$createFromUrl$$($sourceUrn$jscomp$31$$)) && $offTheRecord$jscomp$2_presentationUrl$jscomp$4$$.$b$ && $JSCompiler_StaticMethods_addClient_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $offTheRecord$jscomp$2_presentationUrl$jscomp$4$$, $route$jscomp$15$$.id, $opt_origin$jscomp$2$$, $opt_tabId$jscomp$5$$);
  return new Promise(function($resolve$jscomp$26$$, $reject$jscomp$25$$) {
    $mr$MediaSourceUtils$isMirrorSource$$($sourceUrn$jscomp$31$$) || $mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$31$$) ? ($route$jscomp$15$$.$mirrorInitData$ = {tabId:$opt_tabId$jscomp$5$$, sessionId:"", $sinkIpAddress$:$sink$jscomp$37$$.$getIpAddress$() || "", $sinkModelName$:$sink$jscomp$37$$.$D$ || "", $sinkFriendlyName$:$sink$jscomp$37$$.$f$.friendlyName || ""}, $mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$31$$) && ($route$jscomp$15$$.isOffscreenPresentation = 
    !0), $JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$.$g$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$startMirroring$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $route$jscomp$15$$, $presentationId$jscomp$11$$, function($updatedRoute$jscomp$1$$) {
      return $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_StaticMethods_launchSession_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $sourceUrn$jscomp$31$$, $sink$jscomp$37$$, $presentationId$jscomp$11$$, $timeoutMillis$jscomp$6$$, $opt_origin$jscomp$2$$, $opt_tabId$jscomp$5$$, $updatedRoute$jscomp$1$$));
    }).$b$.then(function() {
      var $sessionRecord$jscomp$inline_1899$$ = $goog$asserts$assertObject$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$.$h$, $route$jscomp$15$$.id));
      $sessionRecord$jscomp$inline_1899$$.$g$ = !1;
      $mr$cast$RouteUtils$updateLocalMirrorSession$$($sessionRecord$jscomp$inline_1899$$.session, $route$jscomp$15$$);
      $sessionRecord$jscomp$inline_1899$$.controller && ($sessionRecord$jscomp$inline_1899$$.controller.$l$ = !1, $JSCompiler_StaticMethods_onSessionUpdated$$($sessionRecord$jscomp$inline_1899$$.controller));
      $resolve$jscomp$26$$($route$jscomp$15$$);
    }, function($error$jscomp$42$$) {
      $JSCompiler_StaticMethods_handleLaunchError_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $route$jscomp$15$$, $error$jscomp$42$$);
      $reject$jscomp$25$$($error$jscomp$42$$);
    })) : $JSCompiler_StaticMethods_launchSession_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $sourceUrn$jscomp$31$$, $sink$jscomp$37$$, $presentationId$jscomp$11$$, $timeoutMillis$jscomp$6$$, $opt_origin$jscomp$2$$, $opt_tabId$jscomp$5$$, $route$jscomp$15$$).then(function() {
      $resolve$jscomp$26$$($route$jscomp$15$$);
    }, function($error$jscomp$43$$) {
      $JSCompiler_StaticMethods_handleLaunchError_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $route$jscomp$15$$, $error$jscomp$43$$);
      $reject$jscomp$25$$($error$jscomp$43$$);
    });
  });
}, $JSCompiler_StaticMethods_launchSession_$$ = function($JSCompiler_StaticMethods_launchSession_$self$$, $sourceUrn$jscomp$32$$, $sink$jscomp$38$$, $presentationId$jscomp$12$$, $timeoutMillis$jscomp$7$$, $origin$jscomp$10$$, $tabId$jscomp$22$$, $route$jscomp$16$$) {
  return $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$launchSession$$($JSCompiler_StaticMethods_launchSession_$self$$.$l$, $JSCompiler_StaticMethods_preprocessUrn_$$($sourceUrn$jscomp$32$$, $sink$jscomp$38$$, $timeoutMillis$jscomp$7$$), $sink$jscomp$38$$).then(function($session$jscomp$35$$) {
    $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$$($JSCompiler_StaticMethods_launchSession_$self$$, $sourceUrn$jscomp$32$$, $sink$jscomp$38$$, $presentationId$jscomp$12$$, $session$jscomp$35$$, $origin$jscomp$10$$, $tabId$jscomp$22$$, $route$jscomp$16$$);
    return $route$jscomp$16$$;
  });
};
$mr$CastProvider$$.prototype.createRoute = function($sourceUrn$jscomp$33$$, $promise$jscomp$9_sinkId$jscomp$28$$, $presentationId$jscomp$13$$, $offTheRecord$jscomp$3$$, $timeoutMillis$jscomp$8$$, $opt_origin$jscomp$3$$, $opt_tabId$jscomp$6$$) {
  var $$jscomp$this$jscomp$57$$ = this, $sink$jscomp$39$$ = this.$b$.$getSinkById$($promise$jscomp$9_sinkId$jscomp$28$$);
  if (!$sink$jscomp$39$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("No sink with ID " + $promise$jscomp$9_sinkId$jscomp$28$$));
  }
  var $clientId$jscomp$26$$ = $mr$cast$PresentationUrl$getClientIdFromUrl$$($sourceUrn$jscomp$33$$);
  if ($clientId$jscomp$26$$) {
    setTimeout(function() {
      $JSCompiler_StaticMethods_sendReceiverAction$$($$jscomp$this$jscomp$57$$.$l$, $goog$asserts$assertString$$($clientId$jscomp$26$$), $goog$asserts$assertObject$$($sink$jscomp$39$$), chrome.cast.$ReceiverAction$.CAST);
    }, 0);
    var $doCreateRoute$$ = function() {
      return $JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$$($$jscomp$this$jscomp$57$$, $sourceUrn$jscomp$33$$, $sink$jscomp$39$$, $presentationId$jscomp$13$$, $offTheRecord$jscomp$3$$, $timeoutMillis$jscomp$8$$, $opt_origin$jscomp$3$$, $opt_tabId$jscomp$6$$);
    }, $clientRecord$jscomp$7$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$(this.$o$, $clientId$jscomp$26$$);
    if ($clientRecord$jscomp$7$$) {
      return $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$(this.terminateRoute($clientRecord$jscomp$7$$.routeId).then($doCreateRoute$$, $doCreateRoute$$));
    }
    if ($opt_origin$jscomp$3$$ && $opt_tabId$jscomp$6$$ && ($promise$jscomp$9_sinkId$jscomp$28$$ = $JSCompiler_StaticMethods_convertMirrorToCast_$$(this, $sourceUrn$jscomp$33$$, $opt_origin$jscomp$3$$, $opt_tabId$jscomp$6$$, $offTheRecord$jscomp$3$$, $timeoutMillis$jscomp$8$$, $promise$jscomp$9_sinkId$jscomp$28$$))) {
      return $promise$jscomp$9_sinkId$jscomp$28$$;
    }
  }
  return $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$$(this, $sourceUrn$jscomp$33$$, $sink$jscomp$39$$, $presentationId$jscomp$13$$, $offTheRecord$jscomp$3$$, $timeoutMillis$jscomp$8$$, $opt_origin$jscomp$3$$, $opt_tabId$jscomp$6$$));
};
var $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$$ = function($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$, $routeId$jscomp$32$$, $explicitDisconnect$jscomp$3$$, $isClosed$jscomp$1$$, $closeReason$jscomp$1$$) {
  $isClosed$jscomp$1$$ = void 0 === $isClosed$jscomp$1$$ ? !1 : $isClosed$jscomp$1$$;
  $closeReason$jscomp$1$$ = void 0 === $closeReason$jscomp$1$$ ? "closed" : $closeReason$jscomp$1$$;
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$logger_$.info("Remove route " + $routeId$jscomp$32$$);
  var $clientRecord$jscomp$8$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$o$, $routeId$jscomp$32$$);
  if ($clientRecord$jscomp$8$$) {
    $explicitDisconnect$jscomp$3$$ = $explicitDisconnect$jscomp$3$$ || $clientRecord$jscomp$8$$.$f$;
    var $clientId$jscomp$27_sessionRecord$jscomp$12$$ = $clientRecord$jscomp$8$$.clientId;
    $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$logger_$.info("Remove client " + $clientId$jscomp$27_sessionRecord$jscomp$12$$);
    for (var $JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1901_route$jscomp$18$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$h$, $i$jscomp$inline_1903$$ = 0; $i$jscomp$inline_1903$$ < $JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1901_route$jscomp$18$$.$b$.length; $i$jscomp$inline_1903$$++) {
      $goog$array$remove$$($JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1901_route$jscomp$18$$.$b$[$i$jscomp$inline_1903$$].$f$, $clientId$jscomp$27_sessionRecord$jscomp$12$$);
    }
    $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$removeClient$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$o$, $clientId$jscomp$27_sessionRecord$jscomp$12$$);
  }
  if ($clientId$jscomp$27_sessionRecord$jscomp$12$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$h$, $routeId$jscomp$32$$)) {
    $goog$array$remove$$($clientId$jscomp$27_sessionRecord$jscomp$12$$.$b$, $routeId$jscomp$32$$), $JSCompiler_StaticMethods_markForDisplay_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$, $clientId$jscomp$27_sessionRecord$jscomp$12$$.$b$);
  }
  if ($JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1901_route$jscomp$18$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$f$.get($routeId$jscomp$32$$)) {
    if ($JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1901_route$jscomp$18$$.$createdLocally$ && $clientId$jscomp$27_sessionRecord$jscomp$12$$ && ($JSCompiler_StaticMethods_closeVirtualConnection$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$C$, $JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1901_route$jscomp$18$$.sinkId, $clientRecord$jscomp$8$$ ? $clientRecord$jscomp$8$$.clientId : $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$G$, 
    $clientId$jscomp$27_sessionRecord$jscomp$12$$.session.transportId, $explicitDisconnect$jscomp$3$$), $JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1901_route$jscomp$18$$.forDisplay && $clientRecord$jscomp$8$$ && ($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$s$ = {$clientRecord$:$clientRecord$jscomp$8$$, $sessionRecord$:$clientId$jscomp$27_sessionRecord$jscomp$12$$})), $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$f$.remove($routeId$jscomp$32$$), 
    $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$g$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteRemoved$($JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1901_route$jscomp$18$$), $JSCompiler_StaticMethods_updateKeepAliveRequest$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$), $isClosed$jscomp$1$$) {
      $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$g$.onPresentationConnectionClosed($routeId$jscomp$32$$, $closeReason$jscomp$1$$, "Remove route");
    } else {
      $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$g$.onPresentationConnectionStateChanged($routeId$jscomp$32$$, "terminated");
    }
  }
}, $JSCompiler_StaticMethods_updateRoute$$ = function($JSCompiler_StaticMethods_updateRoute$self$$, $sessionRecord$jscomp$13$$) {
  $sessionRecord$jscomp$13$$.$b$.forEach(function($route$jscomp$19_routeId$jscomp$33$$) {
    if ($route$jscomp$19_routeId$jscomp$33$$ = $JSCompiler_StaticMethods_updateRoute$self$$.$f$.get($route$jscomp$19_routeId$jscomp$33$$)) {
      var $session$jscomp$36$$ = $sessionRecord$jscomp$13$$.session;
      if ($route$jscomp$19_routeId$jscomp$33$$.forDisplay) {
        var $isMirroring$$ = $mr$cast$AppIds$isMirrorAppId$$($session$jscomp$36$$.appId);
        $isMirroring$$ && !$route$jscomp$19_routeId$jscomp$33$$.isLocal ? ($route$jscomp$19_routeId$jscomp$33$$.description = $session$jscomp$36$$.statusText || "", $session$jscomp$36$$.displayName = "", $session$jscomp$36$$.statusText = "") : $isMirroring$$ || ($route$jscomp$19_routeId$jscomp$33$$.description = $mr$cast$RouteUtils$getAppDescription$$($session$jscomp$36$$));
        $sessionRecord$jscomp$13$$.controller && $JSCompiler_StaticMethods_onSessionUpdated$$($sessionRecord$jscomp$13$$.controller);
      }
      $JSCompiler_StaticMethods_updateRoute$self$$.$g$.$onRouteUpdated$($route$jscomp$19_routeId$jscomp$33$$);
    }
  });
}, $JSCompiler_StaticMethods_updateLocalState_$$ = function($JSCompiler_StaticMethods_updateLocalState_$self$$, $routeIds$$) {
  $goog$array$some$$($routeIds$$, function($route$jscomp$20_routeId$jscomp$34$$) {
    $route$jscomp$20_routeId$jscomp$34$$ = $JSCompiler_StaticMethods_updateLocalState_$self$$.$f$.get($route$jscomp$20_routeId$jscomp$34$$, null);
    if (!$route$jscomp$20_routeId$jscomp$34$$ || !$route$jscomp$20_routeId$jscomp$34$$.mediaSource) {
      return !1;
    }
    var $invisibleSender$jscomp$2_presentationUrl$jscomp$5$$ = $mr$cast$PresentationUrl$createFromUrl$$($route$jscomp$20_routeId$jscomp$34$$.mediaSource);
    $invisibleSender$jscomp$2_presentationUrl$jscomp$5$$ = $invisibleSender$jscomp$2_presentationUrl$jscomp$5$$ ? $invisibleSender$jscomp$2_presentationUrl$jscomp$5$$.$s$ : !1;
    return $route$jscomp$20_routeId$jscomp$34$$.isLocal && !$invisibleSender$jscomp$2_presentationUrl$jscomp$5$$;
  }) && $goog$array$forEach$$($routeIds$$, function($route$jscomp$21_routeId$jscomp$35$$) {
    if ($route$jscomp$21_routeId$jscomp$35$$ = $JSCompiler_StaticMethods_updateLocalState_$self$$.$f$.get($route$jscomp$21_routeId$jscomp$35$$, null)) {
      $route$jscomp$21_routeId$jscomp$35$$.isLocal = !0;
    }
  });
}, $JSCompiler_StaticMethods_markForDisplay_$$ = function($JSCompiler_StaticMethods_markForDisplay_$self$$, $routeIds$jscomp$1$$) {
  var $firstRoutesForDisplay$$ = [], $nonLocalRoutes$$ = [], $firstLocalSinkId$$ = null;
  $routeIds$jscomp$1$$.forEach(function($route$jscomp$22_routeId$jscomp$36$$) {
    if ($route$jscomp$22_routeId$jscomp$36$$ = $JSCompiler_StaticMethods_markForDisplay_$self$$.$f$.get($route$jscomp$22_routeId$jscomp$36$$)) {
      $route$jscomp$22_routeId$jscomp$36$$.forDisplay = !1;
      var $autoJoinPolicy$jscomp$5_presentationUrl$jscomp$6$$ = $mr$cast$PresentationUrl$createFromUrl$$($route$jscomp$22_routeId$jscomp$36$$.mediaSource);
      $autoJoinPolicy$jscomp$5_presentationUrl$jscomp$6$$ && $goog$array$find$$($JSCompiler_StaticMethods_getAppIds$$($autoJoinPolicy$jscomp$5_presentationUrl$jscomp$6$$), $mr$cast$ApiDataUtils$isIdleAppId$$) || ($route$jscomp$22_routeId$jscomp$36$$.$createdLocally$ ? ($autoJoinPolicy$jscomp$5_presentationUrl$jscomp$6$$ = $autoJoinPolicy$jscomp$5_presentationUrl$jscomp$6$$ ? $JSCompiler_StaticMethods_getAutoJoinPolicy$$($autoJoinPolicy$jscomp$5_presentationUrl$jscomp$6$$) : null, $firstLocalSinkId$$ || 
      $autoJoinPolicy$jscomp$5_presentationUrl$jscomp$6$$ == chrome.cast.$AutoJoinPolicy$.CUSTOM_CONTROLLER_SCOPED || ($firstRoutesForDisplay$$.push($route$jscomp$22_routeId$jscomp$36$$), $firstLocalSinkId$$ = $route$jscomp$22_routeId$jscomp$36$$.sinkId)) : $firstLocalSinkId$$ && $firstLocalSinkId$$ != $route$jscomp$22_routeId$jscomp$36$$.sinkId ? $firstRoutesForDisplay$$.push($route$jscomp$22_routeId$jscomp$36$$) : $nonLocalRoutes$$.push($route$jscomp$22_routeId$jscomp$36$$));
    }
  });
  $goog$array$forEach$$(0 < $firstRoutesForDisplay$$.length ? $firstRoutesForDisplay$$ : $nonLocalRoutes$$, function($route$jscomp$23$$) {
    $route$jscomp$23$$.forDisplay = !0;
  });
}, $JSCompiler_StaticMethods_addClient_$$ = function($JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1908$$, $autoJoinPolicy$jscomp$inline_1912_presentationUrl$jscomp$7$$, $routeId$jscomp$37$$, $opt_origin$jscomp$4_origin$jscomp$inline_1913$$, $opt_tabId$jscomp$7_tabId$jscomp$inline_1914$$) {
  var $clientId$jscomp$28$$ = $autoJoinPolicy$jscomp$inline_1912_presentationUrl$jscomp$7$$.$b$;
  if ($clientId$jscomp$28$$ && !$JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1908$$.$o$, $clientId$jscomp$28$$)) {
    $JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1908$$.$logger_$.info("Add client " + $clientId$jscomp$28$$);
    $JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1908$$ = $JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1908$$.$o$;
    var $appIds$jscomp$inline_1911$$ = $JSCompiler_StaticMethods_getAppIds$$($autoJoinPolicy$jscomp$inline_1912_presentationUrl$jscomp$7$$);
    $autoJoinPolicy$jscomp$inline_1912_presentationUrl$jscomp$7$$ = $JSCompiler_StaticMethods_getAutoJoinPolicy$$($autoJoinPolicy$jscomp$inline_1912_presentationUrl$jscomp$7$$);
    $opt_origin$jscomp$4_origin$jscomp$inline_1913$$ = $opt_origin$jscomp$4_origin$jscomp$inline_1913$$ || null;
    $opt_tabId$jscomp$7_tabId$jscomp$inline_1914$$ = void 0 !== $opt_tabId$jscomp$7_tabId$jscomp$inline_1914$$ ? $opt_tabId$jscomp$7_tabId$jscomp$inline_1914$$ : null;
    $goog$asserts$assert$$(null == $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1908$$, $clientId$jscomp$28$$));
    $JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1908$$.$b$.push(new $mr$cast$ClientRecord$$($routeId$jscomp$37$$, $clientId$jscomp$28$$, $appIds$jscomp$inline_1911$$, $autoJoinPolicy$jscomp$inline_1912_presentationUrl$jscomp$7$$, $opt_origin$jscomp$4_origin$jscomp$inline_1913$$, $opt_tabId$jscomp$7_tabId$jscomp$inline_1914$$));
  }
}, $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$$ = function($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$, $clientId$jscomp$29_sourceUrn$jscomp$34$$, $sink$jscomp$40$$, $destinationId$jscomp$inline_1929_presentationId$jscomp$14_routeId$jscomp$38$$, $session$jscomp$37$$, $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$, 
$opt_tabId$jscomp$8_sessionId$jscomp$inline_1935_sourceId$jscomp$inline_1928$$, $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1937_JSCompiler_temp$jscomp$504_opt_route$jscomp$1$$) {
  var $clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$ = $JSCompiler_StaticMethods_getRecordBySinkId$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$.$h$, $sink$jscomp$40$$.getId());
  if (!$clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$) {
    var $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$.$h$;
    $clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$ = $sink$jscomp$40$$.getId();
    $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$.$logger_$.info("Adding new session: " + $clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$ + ", " + $session$jscomp$37$$.sessionId);
    var $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$, $session$jscomp$37$$.sessionId);
    $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$ ? ($mr$cast$ApiDataUtils$isMultizoneLeader$$($session$jscomp$37$$) ? ($isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$.$m$ = $session$jscomp$37$$, $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$.$h$ = $clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$) : $mr$cast$ApiDataUtils$isMultizoneLeader$$($isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$.session) && 
    ($isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$.$m$ = $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$.session, $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$.$h$ = $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$.sinkId, $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$.session = $session$jscomp$37$$, 
    $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$.sinkId = $clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$), $clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$ = $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$) : ($clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$ = 
    new $mr$cast$SessionRecord$$($clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$, $session$jscomp$37$$), $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$.$b$.push($clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$));
  }
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1937_JSCompiler_temp$jscomp$504_opt_route$jscomp$1$$ && $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1937_JSCompiler_temp$jscomp$504_opt_route$jscomp$1$$.isLocal && $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1937_JSCompiler_temp$jscomp$504_opt_route$jscomp$1$$.$mirrorInitData$ && ($clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$.$g$ = 
  !1);
  var $channel$jscomp$inline_1931_isLocal$jscomp$3$$ = null != $clientId$jscomp$29_sourceUrn$jscomp$34$$;
  if (!$channel$jscomp$inline_1931_isLocal$jscomp$3$$ && $mr$cast$ApiDataUtils$isIdleAppId$$($session$jscomp$37$$.appId)) {
    return null;
  }
  null == $clientId$jscomp$29_sourceUrn$jscomp$34$$ ? ($isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$ = new $mr$cast$PresentationUrl$$([{appId:$session$jscomp$37$$.appId, capabilities:$session$jscomp$37$$.capabilities}]), $clientId$jscomp$29_sourceUrn$jscomp$34$$ = $JSCompiler_StaticMethods_getSinglePresentationUrl$$($isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$)) : $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$ = 
  $mr$cast$PresentationUrl$createFromUrl$$($clientId$jscomp$29_sourceUrn$jscomp$34$$);
  if ($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1937_JSCompiler_temp$jscomp$504_opt_route$jscomp$1$$) {
    if (!$JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$.$f$.get($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$.id)) {
      return $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$.$logger_$.$warning$("Route " + $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$.id + " not added"), $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$;
    }
  } else {
    $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$ = $mr$cast$RouteUtils$createRoute$$($clientId$jscomp$29_sourceUrn$jscomp$34$$, $sink$jscomp$40$$, $destinationId$jscomp$inline_1929_presentationId$jscomp$14_routeId$jscomp$38$$ || $session$jscomp$37$$.sessionId, $channel$jscomp$inline_1931_isLocal$jscomp$3$$), $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$.$f$.set($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$.id, 
    $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$);
  }
  $destinationId$jscomp$inline_1929_presentationId$jscomp$14_routeId$jscomp$38$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$.id;
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$.$logger_$.info("Add route " + $destinationId$jscomp$inline_1929_presentationId$jscomp$14_routeId$jscomp$38$$);
  $clientId$jscomp$29_sourceUrn$jscomp$34$$ = null;
  $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$ && ($clientId$jscomp$29_sourceUrn$jscomp$34$$ = $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$.$b$, $JSCompiler_StaticMethods_addClient_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$, $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$, $destinationId$jscomp$inline_1929_presentationId$jscomp$14_routeId$jscomp$38$$, 
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$, $opt_tabId$jscomp$8_sessionId$jscomp$inline_1935_sourceId$jscomp$inline_1928$$));
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$ = $clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$;
  $goog$array$contains$$($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$.$b$, $destinationId$jscomp$inline_1929_presentationId$jscomp$14_routeId$jscomp$38$$) || $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$.$b$.push($destinationId$jscomp$inline_1929_presentationId$jscomp$14_routeId$jscomp$38$$);
  $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$.$createdLocally$ && ($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$.$C$, $opt_tabId$jscomp$8_sessionId$jscomp$inline_1935_sourceId$jscomp$inline_1928$$ = 
  $clientId$jscomp$29_sourceUrn$jscomp$34$$ || $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$.$G$, $destinationId$jscomp$inline_1929_presentationId$jscomp$14_routeId$jscomp$38$$ = $session$jscomp$37$$.transportId, $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$ = !($isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$ && $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$.$s$), 
  ($channel$jscomp$inline_1931_isLocal$jscomp$3$$ = $JSCompiler_StaticMethods_getCastChannel$$($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$, $sink$jscomp$40$$)) && $JSCompiler_StaticMethods_openVc$$($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$.$g$, 
  $channel$jscomp$inline_1931_isLocal$jscomp$3$$, $opt_tabId$jscomp$8_sessionId$jscomp$inline_1935_sourceId$jscomp$inline_1928$$, $destinationId$jscomp$inline_1929_presentationId$jscomp$14_routeId$jscomp$38$$, $isVisible$jscomp$inline_1930_presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1920$$));
  $clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$.offTheRecord = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$.offTheRecord;
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$ = $clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$.$b$;
  $JSCompiler_StaticMethods_updateLocalState_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$, $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$);
  $JSCompiler_StaticMethods_markForDisplay_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$, $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$);
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$;
  $opt_tabId$jscomp$8_sessionId$jscomp$inline_1935_sourceId$jscomp$inline_1928$$ = $session$jscomp$37$$.sessionId;
  $mr$cast$AppIds$isMirrorAppId$$($session$jscomp$37$$.appId) ? $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$.isLocal && $opt_tabId$jscomp$8_sessionId$jscomp$inline_1935_sourceId$jscomp$inline_1928$$ && $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$.$mirrorInitData$ ? 
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$.$mirrorInitData$.sessionId = $opt_tabId$jscomp$8_sessionId$jscomp$inline_1935_sourceId$jscomp$inline_1928$$ : ($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$.description = 
  $session$jscomp$37$$.statusText || "", $session$jscomp$37$$.displayName = "", $session$jscomp$37$$.statusText = "") : $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1923_JSCompiler_StaticMethods_openVirtualConnection$self$jscomp$inline_1926_opt_origin$jscomp$5_route$jscomp$inline_1933_routeIds$jscomp$2$$.description = $mr$cast$RouteUtils$getAppDescription$$($session$jscomp$37$$);
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1937_JSCompiler_temp$jscomp$504_opt_route$jscomp$1$$ ? $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$.$g$.$onRouteUpdated$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$) : $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$.$g$.$onRouteAdded$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$, 
  $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$);
  $JSCompiler_StaticMethods_updateKeepAliveRequest$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$);
  if ($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1937_JSCompiler_temp$jscomp$504_opt_route$jscomp$1$$ = $clientId$jscomp$29_sourceUrn$jscomp$34$$) {
    $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1937_JSCompiler_temp$jscomp$504_opt_route$jscomp$1$$ = $clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$, $clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$ = $clientId$jscomp$29_sourceUrn$jscomp$34$$, $goog$array$contains$$($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1937_JSCompiler_temp$jscomp$504_opt_route$jscomp$1$$.$f$, 
    $clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$) ? $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1937_JSCompiler_temp$jscomp$504_opt_route$jscomp$1$$ = !1 : ($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1937_JSCompiler_temp$jscomp$504_opt_route$jscomp$1$$.$f$.push($clientId$jscomp$inline_1938_record$jscomp$inline_1921_sessionRecord$jscomp$15_sinkId$jscomp$inline_1919$$), 
    $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1937_JSCompiler_temp$jscomp$504_opt_route$jscomp$1$$ = !0);
  }
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1937_JSCompiler_temp$jscomp$504_opt_route$jscomp$1$$ && ($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$.$l$, $JSCompiler_StaticMethods_sendToApi$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$.$f$, 
  $clientId$jscomp$29_sourceUrn$jscomp$34$$, new $mr$cast$InternalMessage$$("new_session", $session$jscomp$37$$)), $JSCompiler_StaticMethods_queryMediaStatus_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1940$$, $session$jscomp$37$$, $sink$jscomp$40$$));
  return $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1917_route$jscomp$25$$;
};
$mr$CastProvider$$.prototype.terminateRoute = function($clientRecord$jscomp$9_routeId$jscomp$39$$) {
  var $$jscomp$this$jscomp$61$$ = this, $route$jscomp$26$$ = this.$f$.get($clientRecord$jscomp$9_routeId$jscomp$39$$);
  if (!$route$jscomp$26$$) {
    return Promise.reject(new $mr$RouteRequestError$$(3, "Route in Cast provider not found for routeId  " + $clientRecord$jscomp$9_routeId$jscomp$39$$));
  }
  var $sessionRecord$jscomp$16$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$$(this.$h$, $clientRecord$jscomp$9_routeId$jscomp$39$$);
  if (!$sessionRecord$jscomp$16$$) {
    return $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$$(this, $clientRecord$jscomp$9_routeId$jscomp$39$$, !0), Promise.resolve();
  }
  var $sessionId$jscomp$40$$ = $sessionRecord$jscomp$16$$.session.sessionId, $sink$jscomp$41$$ = this.$b$.$getSinkById$($route$jscomp$26$$.sinkId);
  if (!$sink$jscomp$41$$) {
    return $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$$(this.$l$, $sessionId$jscomp$40$$), Promise.resolve();
  }
  ($clientRecord$jscomp$9_routeId$jscomp$39$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$$(this.$o$, $clientRecord$jscomp$9_routeId$jscomp$39$$)) && $JSCompiler_StaticMethods_sendReceiverAction$$(this.$l$, $clientRecord$jscomp$9_routeId$jscomp$39$$.clientId, $sink$jscomp$41$$, chrome.cast.$ReceiverAction$.STOP);
  $mr$CastAnalytics$recordSessionEndType$$(0);
  return new Promise(function($resolve$jscomp$27$$) {
    var $cleanup$jscomp$2$$ = function() {
      $JSCompiler_StaticMethods_removeSession$$($$jscomp$this$jscomp$61$$.$l$, $sink$jscomp$41$$.getId());
      $resolve$jscomp$27$$();
    };
    $$jscomp$this$jscomp$61$$.$H$.sendRequest(new $mr$cast$StopSessionRequest$$($sessionId$jscomp$40$$), $sink$jscomp$41$$, $mr$cast$Namespace$Cast$RECEIVER$$).then($cleanup$jscomp$2$$, $cleanup$jscomp$2$$);
  });
};
var $JSCompiler_StaticMethods_findLocalRouteByAppId_$$ = function($JSCompiler_StaticMethods_findLocalRouteByAppId_$self$$, $presentationUrl$jscomp$9$$) {
  var $route$jscomp$27$$ = null;
  $goog$iter$some$$($JSCompiler_StaticMethods_findLocalRouteByAppId_$self$$.$f$.$__iterator__$(!1), function($r$jscomp$8$$) {
    if (!$r$jscomp$8$$.$createdLocally$) {
      return !1;
    }
    var $sink$jscomp$42$$ = $JSCompiler_StaticMethods_findLocalRouteByAppId_$self$$.$b$.$getSinkById$($r$jscomp$8$$.sinkId);
    if (!$sink$jscomp$42$$ || !$JSCompiler_StaticMethods_isSameAppId$$($presentationUrl$jscomp$9$$, $JSCompiler_StaticMethods_preprocessUrn_$$($r$jscomp$8$$.mediaSource, $sink$jscomp$42$$))) {
      return !1;
    }
    $route$jscomp$27$$ = $r$jscomp$8$$;
    return !0;
  });
  if (!$route$jscomp$27$$ || !$route$jscomp$27$$.mediaSource) {
    return null;
  }
  var $clientId$jscomp$30_sessionRecord$jscomp$17$$ = $mr$cast$PresentationUrl$getClientIdFromUrl$$($route$jscomp$27$$.mediaSource);
  if (!$clientId$jscomp$30_sessionRecord$jscomp$17$$) {
    return null;
  }
  var $clientRecord$jscomp$10$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_findLocalRouteByAppId_$self$$.$o$, $clientId$jscomp$30_sessionRecord$jscomp$17$$);
  return $clientRecord$jscomp$10$$ ? ($clientId$jscomp$30_sessionRecord$jscomp$17$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_findLocalRouteByAppId_$self$$.$h$, $clientId$jscomp$30_sessionRecord$jscomp$17$$)) ? {$clientRecord$:$clientRecord$jscomp$10$$, $sessionRecord$:$clientId$jscomp$30_sessionRecord$jscomp$17$$} : null : null;
}, $JSCompiler_StaticMethods_convertMirrorToCast_$$ = function($JSCompiler_StaticMethods_convertMirrorToCast_$self$$, $sourceUrn$jscomp$35$$, $origin$jscomp$12$$, $tabId$jscomp$24$$, $offTheRecord$jscomp$4$$, $timeoutMillis$jscomp$9$$, $opt_sinkId$$) {
  var $route$jscomp$28$$ = null;
  $goog$iter$some$$($JSCompiler_StaticMethods_convertMirrorToCast_$self$$.$f$.$__iterator__$(!1), function($r$jscomp$9$$) {
    var $mirrorInitData$$ = $r$jscomp$9$$.$mirrorInitData$;
    return $mirrorInitData$$ && null != $mirrorInitData$$.tabId && $mirrorInitData$$.tabId == $tabId$jscomp$24$$ && $mr$MediaSourceUtils$isTabMirrorSource$$($r$jscomp$9$$.mediaSource) ? ($route$jscomp$28$$ = $r$jscomp$9$$, !0) : !1;
  });
  if (!$route$jscomp$28$$) {
    return null;
  }
  var $createRoute$$ = function() {
    return $JSCompiler_StaticMethods_convertMirrorToCast_$self$$.createRoute($sourceUrn$jscomp$35$$, $opt_sinkId$$ || $route$jscomp$28$$.sinkId, "", $offTheRecord$jscomp$4$$, $timeoutMillis$jscomp$9$$, $origin$jscomp$12$$, null == $tabId$jscomp$24$$ ? void 0 : $tabId$jscomp$24$$);
  };
  return $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_StaticMethods_convertMirrorToCast_$self$$.terminateRoute($route$jscomp$28$$.id).then($createRoute$$, $createRoute$$));
};
$JSCompiler_prototypeAlias$$ = $mr$CastProvider$$.prototype;
$JSCompiler_prototypeAlias$$.connectRouteByRouteId = function($route$jscomp$29_sourceUrn$jscomp$36$$, $routeId$jscomp$40_routeIdObj_sessionRecord$jscomp$18$$, $presentationId$jscomp$15$$, $origin$jscomp$13$$, $tabId$jscomp$25$$) {
  if (!$mr$cast$PresentationUrl$createFromUrl$$($route$jscomp$29_sourceUrn$jscomp$36$$)) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Unsupported presentation URL"));
  }
  if (!$routeId$jscomp$40_routeIdObj_sessionRecord$jscomp$18$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("No routeId"));
  }
  $routeId$jscomp$40_routeIdObj_sessionRecord$jscomp$18$$ = $mr$RouteId$create$$($routeId$jscomp$40_routeIdObj_sessionRecord$jscomp$18$$);
  $routeId$jscomp$40_routeIdObj_sessionRecord$jscomp$18$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$(this.$h$, $routeId$jscomp$40_routeIdObj_sessionRecord$jscomp$18$$.$b$);
  if (!$routeId$jscomp$40_routeIdObj_sessionRecord$jscomp$18$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("No matching route"));
  }
  var $sink$jscomp$43$$ = this.$b$.$getSinkById$($routeId$jscomp$40_routeIdObj_sessionRecord$jscomp$18$$.sinkId);
  return $sink$jscomp$43$$ ? ($route$jscomp$29_sourceUrn$jscomp$36$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$$(this, $route$jscomp$29_sourceUrn$jscomp$36$$, $sink$jscomp$43$$, $presentationId$jscomp$15$$, $routeId$jscomp$40_routeIdObj_sessionRecord$jscomp$18$$.session, $origin$jscomp$13$$, $tabId$jscomp$25$$)) ? $module$contents$mr$CancellablePromise_CancellablePromise$resolve$$($route$jscomp$29_sourceUrn$jscomp$36$$) : $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Failed to create route")) : 
  $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("No sink"));
};
$JSCompiler_prototypeAlias$$.joinRoute = function($route$jscomp$30_sourceUrn$jscomp$37$$, $presentationId$jscomp$16$$, $offTheRecord$jscomp$5$$, $promise$jscomp$10_sink$jscomp$44_timeoutMillis$jscomp$10$$, $origin$jscomp$14$$, $tabId$jscomp$26$$) {
  var $presentationUrl$jscomp$12$$ = $mr$cast$PresentationUrl$createFromUrl$$($route$jscomp$30_sourceUrn$jscomp$37$$);
  if (!$presentationUrl$jscomp$12$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Unsupported presentation URL"));
  }
  if ($presentationId$jscomp$16$$ == chrome.cast.$AUTO_JOIN_PRESENTATION_ID$) {
    a: {
      var $routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$ = $JSCompiler_StaticMethods_findLocalRouteByAppId_$$(this, $presentationUrl$jscomp$12$$);
      if (!$routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$) {
        if (!this.$s$ || this.$s$.$clientRecord$.origin != $origin$jscomp$14$$ || this.$s$.$clientRecord$.tabId != $tabId$jscomp$26$$) {
          $routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$ = null;
          break a;
        }
        $routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$ = this.$s$;
      }
      switch($JSCompiler_StaticMethods_getAutoJoinPolicy$$($presentationUrl$jscomp$12$$)) {
        case chrome.cast.$AutoJoinPolicy$.PAGE_SCOPED:
          $routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$ = null;
          break a;
        case chrome.cast.$AutoJoinPolicy$.ORIGIN_SCOPED:
          if ($origin$jscomp$14$$ != $routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$.$clientRecord$.origin) {
            $routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$ = null;
            break a;
          }
          break;
        case chrome.cast.$AutoJoinPolicy$.TAB_AND_ORIGIN_SCOPED:
          if ($origin$jscomp$14$$ != $routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$.$clientRecord$.origin || $tabId$jscomp$26$$ != $routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$.$clientRecord$.tabId) {
            $routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$ = null;
            break a;
          }
      }
      $routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$(this.$h$, $routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$.$sessionRecord$.session.sessionId);
    }
    if (!$routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$ && ($presentationUrl$jscomp$12$$.$g$ ? $presentationUrl$jscomp$12$$.$g$ : chrome.cast.$DefaultActionPolicy$.CREATE_SESSION) != chrome.cast.$DefaultActionPolicy$.CAST_THIS_TAB && ($promise$jscomp$10_sink$jscomp$44_timeoutMillis$jscomp$10$$ = $JSCompiler_StaticMethods_convertMirrorToCast_$$(this, $route$jscomp$30_sourceUrn$jscomp$37$$, $origin$jscomp$14$$, $tabId$jscomp$26$$, $offTheRecord$jscomp$5$$, $promise$jscomp$10_sink$jscomp$44_timeoutMillis$jscomp$10$$))) {
      return $promise$jscomp$10_sink$jscomp$44_timeoutMillis$jscomp$10$$;
    }
  } else {
    $routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$ = $JSCompiler_StaticMethods_getRecordForJoin_$$(this, $presentationId$jscomp$16$$);
  }
  if (!$routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("No matching route"));
  }
  if ($routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$.offTheRecord != $offTheRecord$jscomp$5$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Off the record mismatch"));
  }
  $promise$jscomp$10_sink$jscomp$44_timeoutMillis$jscomp$10$$ = this.$b$.$getSinkById$($routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$.sinkId);
  if (!$promise$jscomp$10_sink$jscomp$44_timeoutMillis$jscomp$10$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("No sink"));
  }
  $route$jscomp$30_sourceUrn$jscomp$37$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$$(this, $route$jscomp$30_sourceUrn$jscomp$37$$, $promise$jscomp$10_sink$jscomp$44_timeoutMillis$jscomp$10$$, $presentationId$jscomp$16$$, $routeInfo$jscomp$inline_1949_sessionRecord$jscomp$19$$.session, $origin$jscomp$14$$, $tabId$jscomp$26$$);
  $route$jscomp$30_sourceUrn$jscomp$37$$.offTheRecord = $offTheRecord$jscomp$5$$;
  return $module$contents$mr$CancellablePromise_CancellablePromise$resolve$$($route$jscomp$30_sourceUrn$jscomp$37$$);
};
$JSCompiler_prototypeAlias$$.detachRoute = function($routeId$jscomp$41$$) {
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$$(this, $routeId$jscomp$41$$, !1, !0);
};
$JSCompiler_prototypeAlias$$.$getMirrorSettings$ = function($sinkId$jscomp$29$$) {
  var $capabilities$jscomp$7_sink$jscomp$45$$ = this.$b$.$getSinkById$($sinkId$jscomp$29$$);
  if (!$capabilities$jscomp$7_sink$jscomp$45$$) {
    throw Error("Cannot mirror with no sink.");
  }
  var $settings$jscomp$4$$ = new $mr$mirror$Settings$$;
  $capabilities$jscomp$7_sink$jscomp$45$$ = $capabilities$jscomp$7_sink$jscomp$45$$.$b$;
  $capabilities$jscomp$7_sink$jscomp$45$$ & 1 || ($settings$jscomp$4$$.shouldCaptureVideo = !1);
  $capabilities$jscomp$7_sink$jscomp$45$$ & 4 || ($settings$jscomp$4$$.shouldCaptureAudio = !1);
  $settings$jscomp$4$$.shouldCaptureAudio && !$settings$jscomp$4$$.shouldCaptureVideo && ($settings$jscomp$4$$.minLatencyMillis = $settings$jscomp$4$$.maxLatencyMillis, $settings$jscomp$4$$.animatedLatencyMillis = $settings$jscomp$4$$.maxLatencyMillis);
  $settings$jscomp$4$$.senderSideLetterboxing = !0;
  $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$$($settings$jscomp$4$$);
  Object.freeze($settings$jscomp$4$$);
  this.$logger_$.info(function() {
    return "Settings for " + $sinkId$jscomp$29$$ + ": " + $JSCompiler_StaticMethods_toJsonString$$($settings$jscomp$4$$);
  });
  if (!$settings$jscomp$4$$.shouldCaptureAudio && !$settings$jscomp$4$$.shouldCaptureVideo) {
    throw Error("Cannot start mirroring without video or audio capture");
  }
  return $settings$jscomp$4$$;
};
$JSCompiler_prototypeAlias$$.$getMirrorServiceName$ = function() {
  return "cast_streaming";
};
$JSCompiler_prototypeAlias$$.$onMirrorActivityUpdated$ = function($routeId$jscomp$42_sessionRecord$jscomp$20$$) {
  var $route$jscomp$31$$ = this.$f$.get($routeId$jscomp$42_sessionRecord$jscomp$20$$);
  $route$jscomp$31$$ && $route$jscomp$31$$.$mirrorInitData$ && $route$jscomp$31$$.$mirrorInitData$.$activity$ && ($routeId$jscomp$42_sessionRecord$jscomp$20$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$$(this.$h$, $routeId$jscomp$42_sessionRecord$jscomp$20$$)) && ($mr$cast$RouteUtils$updateLocalMirrorSession$$($routeId$jscomp$42_sessionRecord$jscomp$20$$.session, $route$jscomp$31$$), $routeId$jscomp$42_sessionRecord$jscomp$20$$.controller && $JSCompiler_StaticMethods_onSessionUpdated$$($routeId$jscomp$42_sessionRecord$jscomp$20$$.controller));
};
$JSCompiler_prototypeAlias$$.sendRouteMessage = function($clientRecord$jscomp$11_routeId$jscomp$43$$, $message$jscomp$103$$, $opt_extraInfo$jscomp$2$$) {
  var $$jscomp$this$jscomp$64$$ = this;
  if (!$opt_extraInfo$jscomp$2$$) {
    return new Promise(function($resolve$jscomp$28$$, $JSCompiler_StaticMethods_onApiMessage$self$jscomp$inline_6724_listener$jscomp$inline_6728_reject$jscomp$27_request$jscomp$inline_8018$$) {
      "string" !== typeof $message$jscomp$103$$ && $JSCompiler_StaticMethods_onApiMessage$self$jscomp$inline_6724_listener$jscomp$inline_6728_reject$jscomp$27_request$jscomp$inline_8018$$(Error("Cannot send non-string messages via ApiHandler."));
      $JSCompiler_StaticMethods_onApiMessage$self$jscomp$inline_6724_listener$jscomp$inline_6728_reject$jscomp$27_request$jscomp$inline_8018$$ = $$jscomp$this$jscomp$64$$.$l$.$f$;
      $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiMessenger$logger_$$, "Received: " + $message$jscomp$103$$);
      var $clientRecord$jscomp$inline_8017_message$jscomp$inline_6726$$ = JSON.parse($message$jscomp$103$$), $clientId$jscomp$inline_6727$$ = $clientRecord$jscomp$inline_8017_message$jscomp$inline_6726$$.clientId;
      "client_connect" == $clientRecord$jscomp$inline_8017_message$jscomp$inline_6726$$.type ? ($JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiMessenger$logger_$$, "App " + $clientId$jscomp$inline_6727$$), ($clientRecord$jscomp$inline_8017_message$jscomp$inline_6726$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_onApiMessage$self$jscomp$inline_6724_listener$jscomp$inline_6728_reject$jscomp$27_request$jscomp$inline_8018$$.$b$, 
      $clientId$jscomp$inline_6727$$)) ? ($clientRecord$jscomp$inline_8017_message$jscomp$inline_6726$$.$b$ = !0, ($JSCompiler_StaticMethods_onApiMessage$self$jscomp$inline_6724_listener$jscomp$inline_6728_reject$jscomp$27_request$jscomp$inline_8018$$ = $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$$($JSCompiler_StaticMethods_onApiMessage$self$jscomp$inline_6724_listener$jscomp$inline_6728_reject$jscomp$27_request$jscomp$inline_8018$$.$f$, $clientRecord$jscomp$inline_8017_message$jscomp$inline_6726$$.routeId)) && 
      $JSCompiler_StaticMethods_onApiMessage$self$jscomp$inline_6724_listener$jscomp$inline_6728_reject$jscomp$27_request$jscomp$inline_8018$$.$resolver$.resolve(!0)) : $mr$cast$ApiMessenger$logger_$$.$warning$("Client not found " + $clientId$jscomp$inline_6727$$)) : $JSCompiler_StaticMethods_getRouteIdFromClientId_$$($JSCompiler_StaticMethods_onApiMessage$self$jscomp$inline_6724_listener$jscomp$inline_6728_reject$jscomp$27_request$jscomp$inline_8018$$, $clientId$jscomp$inline_6727$$) ? ($JSCompiler_StaticMethods_onApiMessage$self$jscomp$inline_6724_listener$jscomp$inline_6728_reject$jscomp$27_request$jscomp$inline_8018$$ = 
      $JSCompiler_StaticMethods_onApiMessage$self$jscomp$inline_6724_listener$jscomp$inline_6728_reject$jscomp$27_request$jscomp$inline_8018$$.$g$[$clientRecord$jscomp$inline_8017_message$jscomp$inline_6726$$.type]) && $JSCompiler_StaticMethods_onApiMessage$self$jscomp$inline_6724_listener$jscomp$inline_6728_reject$jscomp$27_request$jscomp$inline_8018$$($clientRecord$jscomp$inline_8017_message$jscomp$inline_6726$$) : $mr$cast$ApiMessenger$logger_$$.$warning$("No route for " + $clientId$jscomp$inline_6727$$);
      $resolve$jscomp$28$$();
    });
  }
  var $sessionRecord$jscomp$21$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$$(this.$h$, $clientRecord$jscomp$11_routeId$jscomp$43$$);
  if (!$sessionRecord$jscomp$21$$) {
    return Promise.reject(Error("Not managing the route " + $clientRecord$jscomp$11_routeId$jscomp$43$$));
  }
  var $sink$jscomp$46$$ = this.$b$.$getSinkById$($sessionRecord$jscomp$21$$.sinkId);
  if (!$sink$jscomp$46$$) {
    return Promise.reject(Error("Sink no longer accessible"));
  }
  var $sourceId$jscomp$11$$ = ($clientRecord$jscomp$11_routeId$jscomp$43$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$$(this.$o$, $clientRecord$jscomp$11_routeId$jscomp$43$$)) ? $clientRecord$jscomp$11_routeId$jscomp$43$$.clientId : this.$G$;
  return new Promise(function($resolve$jscomp$29$$) {
    $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$$($$jscomp$this$jscomp$64$$.$C$, $sink$jscomp$46$$, $opt_extraInfo$jscomp$2$$.namespace, $message$jscomp$103$$, $sourceId$jscomp$11$$, $sessionRecord$jscomp$21$$.session.transportId).then($resolve$jscomp$29$$, $resolve$jscomp$29$$);
  });
};
$JSCompiler_prototypeAlias$$.sendRouteBinaryMessage = function($routeId$jscomp$44$$) {
  return Promise.reject(Error("Route " + $routeId$jscomp$44$$ + " does not support sending binary data."));
};
$JSCompiler_prototypeAlias$$.$canRoute$ = function($appIds$jscomp$5_sourceUrn$jscomp$38$$, $sinkId$jscomp$31$$) {
  var $sink$jscomp$47$$ = this.$b$.$getSinkById$($sinkId$jscomp$31$$);
  if (!$sink$jscomp$47$$) {
    return !1;
  }
  if (!this.$m$) {
    return !0;
  }
  $appIds$jscomp$5_sourceUrn$jscomp$38$$ = $JSCompiler_StaticMethods_preprocessUrn_$$($appIds$jscomp$5_sourceUrn$jscomp$38$$, $sink$jscomp$47$$);
  return ($appIds$jscomp$5_sourceUrn$jscomp$38$$ = $mr$cast$PresentationUrl$getAppIdsFromUrl$$($appIds$jscomp$5_sourceUrn$jscomp$38$$)) && 0 != $appIds$jscomp$5_sourceUrn$jscomp$38$$.length ? $goog$array$some$$($appIds$jscomp$5_sourceUrn$jscomp$38$$, function($appId$jscomp$28$$) {
    return $mr$cast$SinkAppStatus$isAvailable$$($JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$$($sink$jscomp$47$$, $appId$jscomp$28$$));
  }) : !1;
};
$JSCompiler_prototypeAlias$$.$canJoin$ = function($routeAppIds_sourceUrn$jscomp$39$$, $presentationId$jscomp$17$$, $route$jscomp$32$$) {
  var $displayedAppIds$$ = $JSCompiler_StaticMethods_getAppIdsFromUrn_$$($routeAppIds_sourceUrn$jscomp$39$$);
  return $displayedAppIds$$ && 0 != $displayedAppIds$$.length ? $presentationId$jscomp$17$$ == chrome.cast.$AUTO_JOIN_PRESENTATION_ID$ ? !0 : $route$jscomp$32$$ && $route$jscomp$32$$.mediaSource ? ($routeAppIds_sourceUrn$jscomp$39$$ = $mr$cast$PresentationUrl$getAppIdsFromUrl$$($route$jscomp$32$$.mediaSource), $goog$array$some$$($routeAppIds_sourceUrn$jscomp$39$$, function($routeAppId$$) {
    return $goog$array$contains$$($displayedAppIds$$, $routeAppId$$);
  })) : void 0 == $presentationId$jscomp$17$$ || $JSCompiler_StaticMethods_getRecordForJoin_$$(this, $presentationId$jscomp$17$$) ? !0 : !1 : !1;
};
var $JSCompiler_StaticMethods_preprocessUrn_$$ = function($appInfo$jscomp$10_sourceUrn$jscomp$40$$, $sink$jscomp$48$$, $opt_timeoutMillis$jscomp$6$$) {
  return $mr$cast$PresentationUrl$createFromUrl$$($appInfo$jscomp$10_sourceUrn$jscomp$40$$) ? $appInfo$jscomp$10_sourceUrn$jscomp$40$$ : $mr$MediaSourceUtils$isMirrorSource$$($appInfo$jscomp$10_sourceUrn$jscomp$40$$) || $mr$MediaSourceUtils$isPresentationSource$$($appInfo$jscomp$10_sourceUrn$jscomp$40$$) ? ($appInfo$jscomp$10_sourceUrn$jscomp$40$$ = {appId:0 == ($sink$jscomp$48$$.$b$ & 1) ? "85CDB22F" : "0F5096E8", capabilities:$mr$cast$ApiDataUtils$capabilitiesToApi$$($sink$jscomp$48$$.$b$)}, $JSCompiler_StaticMethods_getSinglePresentationUrl$$(new $mr$cast$PresentationUrl$$([$appInfo$jscomp$10_sourceUrn$jscomp$40$$], 
  void 0, void 0, void 0, $opt_timeoutMillis$jscomp$6$$))) : $appInfo$jscomp$10_sourceUrn$jscomp$40$$;
}, $JSCompiler_StaticMethods_getAppIdsFromUrn_$$ = function($sourceUrn$jscomp$41$$) {
  var $appIds$jscomp$6$$ = [], $presentationUrl$jscomp$14$$ = $mr$cast$PresentationUrl$createFromUrl$$($sourceUrn$jscomp$41$$);
  if ($presentationUrl$jscomp$14$$) {
    $appIds$jscomp$6$$ = $JSCompiler_StaticMethods_getAppIds$$($presentationUrl$jscomp$14$$);
  } else {
    if ($mr$MediaSourceUtils$isMirrorSource$$($sourceUrn$jscomp$41$$) || $mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$41$$)) {
      $mr$MediaSourceUtils$isDesktopMirrorSource$$($sourceUrn$jscomp$41$$) || $appIds$jscomp$6$$.push("85CDB22F"), $appIds$jscomp$6$$.push("0F5096E8");
    }
  }
  return $appIds$jscomp$6$$;
}, $JSCompiler_StaticMethods_getBroadcastRequestFromUrn_$$ = function($appIds$jscomp$7_sourceUrn$jscomp$43$$) {
  var $broadcastMessage$jscomp$2_presentationUrl$jscomp$15$$ = $mr$cast$PresentationUrl$createFromUrl$$($appIds$jscomp$7_sourceUrn$jscomp$43$$);
  if (!$broadcastMessage$jscomp$2_presentationUrl$jscomp$15$$) {
    return null;
  }
  $appIds$jscomp$7_sourceUrn$jscomp$43$$ = $JSCompiler_StaticMethods_getAppIdsFromUrn_$$($appIds$jscomp$7_sourceUrn$jscomp$43$$);
  var $broadcastNamespace$jscomp$2$$ = $broadcastMessage$jscomp$2_presentationUrl$jscomp$15$$.$o$ || "";
  $broadcastMessage$jscomp$2_presentationUrl$jscomp$15$$ = $broadcastMessage$jscomp$2_presentationUrl$jscomp$15$$.$m$;
  return $broadcastNamespace$jscomp$2$$ && $broadcastMessage$jscomp$2_presentationUrl$jscomp$15$$ ? new $mr$cast$BroadcastRequest$$($appIds$jscomp$7_sourceUrn$jscomp$43$$, $broadcastNamespace$jscomp$2$$, JSON.stringify($broadcastMessage$jscomp$2_presentationUrl$jscomp$15$$)) : null;
}, $JSCompiler_StaticMethods_getRecordForJoin_$$ = function($JSCompiler_StaticMethods_getRecordForJoin_$self$$, $presentationId$jscomp$18$$) {
  return 0 == $presentationId$jscomp$18$$.indexOf(chrome.cast.$PRESENTATION_ID_PREFIX$) ? $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_getRecordForJoin_$self$$.$h$, $presentationId$jscomp$18$$.substr(chrome.cast.$PRESENTATION_ID_PREFIX$.length)) : $JSCompiler_StaticMethods_getRecordByPresentationId$$($JSCompiler_StaticMethods_getRecordForJoin_$self$$.$h$, $presentationId$jscomp$18$$);
}, $JSCompiler_StaticMethods_onChannelMessage$$ = function($JSCompiler_StaticMethods_onChannelMessage$self_JSCompiler_StaticMethods_onReceiverMessage$self$jscomp$inline_1966$$, $sink$jscomp$51_sinkId$jscomp$inline_1967$$, $message$jscomp$105$$) {
  var $JSCompiler_StaticMethods_handleChannelMessage$self$jscomp$inline_1956$$ = $JSCompiler_StaticMethods_onChannelMessage$self_JSCompiler_StaticMethods_onReceiverMessage$self$jscomp$inline_1966$$.$J$;
  if ($JSCompiler_StaticMethods_checkMonitorClients_$$($JSCompiler_StaticMethods_handleChannelMessage$self$jscomp$inline_1956$$) && $mr$cast$Namespace$TRANSPOSED_CAST_NAMESPACES_$$.hasOwnProperty($message$jscomp$105$$.namespace_)) {
    var $ipAddress$jscomp$inline_1959$$ = $sink$jscomp$51_sinkId$jscomp$inline_1967$$.$getIpAddress$();
    if ($ipAddress$jscomp$inline_1959$$) {
      var $newAppId$jscomp$inline_1962_payload$jscomp$inline_1960$$ = JSON.parse($message$jscomp$105$$.data);
      if ("RECEIVER_STATUS" === $newAppId$jscomp$inline_1962_payload$jscomp$inline_1960$$.type) {
        var $firstApp$jscomp$inline_1961_oldDeviceData$jscomp$inline_1964$$ = $newAppId$jscomp$inline_1962_payload$jscomp$inline_1960$$.status && $newAppId$jscomp$inline_1962_payload$jscomp$inline_1960$$.status.applications && $newAppId$jscomp$inline_1962_payload$jscomp$inline_1960$$.status.applications[0], $newSessionId$jscomp$inline_1963$$ = $newAppId$jscomp$inline_1962_payload$jscomp$inline_1960$$ = null;
        $firstApp$jscomp$inline_1961_oldDeviceData$jscomp$inline_1964$$ && ($firstApp$jscomp$inline_1961_oldDeviceData$jscomp$inline_1964$$.appId && ($newAppId$jscomp$inline_1962_payload$jscomp$inline_1960$$ = $firstApp$jscomp$inline_1961_oldDeviceData$jscomp$inline_1964$$.appId), $firstApp$jscomp$inline_1961_oldDeviceData$jscomp$inline_1964$$.sessionId && ($newSessionId$jscomp$inline_1963$$ = $firstApp$jscomp$inline_1961_oldDeviceData$jscomp$inline_1964$$.sessionId));
        $firstApp$jscomp$inline_1961_oldDeviceData$jscomp$inline_1964$$ = $JSCompiler_StaticMethods_handleChannelMessage$self$jscomp$inline_1956$$.$f$.get($ipAddress$jscomp$inline_1959$$);
        $JSCompiler_StaticMethods_handleChannelMessage$self$jscomp$inline_1956$$.$f$.set($ipAddress$jscomp$inline_1959$$, new $castApp$eventPage$Message$DeviceData$$($ipAddress$jscomp$inline_1959$$, $newAppId$jscomp$inline_1962_payload$jscomp$inline_1960$$, $newSessionId$jscomp$inline_1963$$));
        $firstApp$jscomp$inline_1961_oldDeviceData$jscomp$inline_1964$$ && $firstApp$jscomp$inline_1961_oldDeviceData$jscomp$inline_1964$$.appId === $newAppId$jscomp$inline_1962_payload$jscomp$inline_1960$$ || $JSCompiler_StaticMethods_broadcastDeviceList_$$($JSCompiler_StaticMethods_handleChannelMessage$self$jscomp$inline_1956$$);
      }
    }
  }
  $JSCompiler_StaticMethods_onChannelMessage$self_JSCompiler_StaticMethods_onReceiverMessage$self$jscomp$inline_1966$$ = $JSCompiler_StaticMethods_onChannelMessage$self_JSCompiler_StaticMethods_onReceiverMessage$self$jscomp$inline_1966$$.$l$;
  $sink$jscomp$51_sinkId$jscomp$inline_1967$$ = $sink$jscomp$51_sinkId$jscomp$inline_1967$$.getId();
  $mr$cast$Namespace$TRANSPOSED_CAST_NAMESPACES_$$.hasOwnProperty($message$jscomp$105$$.namespace_) ? $JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$$($JSCompiler_StaticMethods_onChannelMessage$self_JSCompiler_StaticMethods_onReceiverMessage$self$jscomp$inline_1966$$, $sink$jscomp$51_sinkId$jscomp$inline_1967$$, $message$jscomp$105$$) : $JSCompiler_StaticMethods_onReceiverAppMessage_$$($JSCompiler_StaticMethods_onChannelMessage$self_JSCompiler_StaticMethods_onReceiverMessage$self$jscomp$inline_1966$$, 
  $sink$jscomp$51_sinkId$jscomp$inline_1967$$, $message$jscomp$105$$);
}, $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$$ = function($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$self$$, $sink$jscomp$54$$) {
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$self$$.$m$ && $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$self$$.$m$.$mr_cast_AppDiscoveryService_prototype$scanSink$($sink$jscomp$54$$);
  $JSCompiler_StaticMethods_handleSinkUpdate$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$self$$.$J$);
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$self$$.$g$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
};
$JSCompiler_prototypeAlias$$ = $mr$CastProvider$$.prototype;
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "cast.Provider";
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [new $mr$CastProvider$PersistentData_$$(this.$G$, $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$(this.$f$), this.$s$)];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  var $savedData$jscomp$7$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$7$$ && (this.$G$ = $savedData$jscomp$7$$.$g$, $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$(this.$f$, $savedData$jscomp$7$$.$f$), this.$s$ = $savedData$jscomp$7$$.$b$);
};
$JSCompiler_prototypeAlias$$.searchSinks = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
$JSCompiler_prototypeAlias$$.createMediaRouteController = function($error$jscomp$45_routeId$jscomp$46$$, $controllerRequest$jscomp$5$$, $observer$jscomp$6$$) {
  return ($error$jscomp$45_routeId$jscomp$46$$ = this.$l$.createMediaRouteController($error$jscomp$45_routeId$jscomp$46$$, $controllerRequest$jscomp$5$$, $observer$jscomp$6$$)) ? Promise.reject($error$jscomp$45_routeId$jscomp$46$$) : Promise.resolve();
};
$JSCompiler_prototypeAlias$$.provideSinks = function($sinks$jscomp$5$$) {
  $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSinks$$(this.$b$, $sinks$jscomp$5$$);
};
var $JSCompiler_StaticMethods_updateKeepAliveRequest$$ = function($JSCompiler_StaticMethods_updateKeepAliveRequest$self$$) {
  var $keepAlive$$ = $JSCompiler_StaticMethods_updateKeepAliveRequest$self$$.$getRoutes$().some(function($route$jscomp$34$$) {
    return $route$jscomp$34$$.isLocal;
  });
  $JSCompiler_StaticMethods_updateKeepAliveRequest$self$$.$g$.$requestKeepAlive$($JSCompiler_StaticMethods_updateKeepAliveRequest$self$$.$getStorageKey$(), $keepAlive$$);
};
$mr$CastProvider$$.prototype.$logger_$ = $mr$Logger$getInstance$$("mr.CastProvider");
var $mr$CastProvider$PersistentData_$$ = function($senderId$jscomp$2$$, $routes$jscomp$1$$, $lastRemovedRouteInfo$$) {
  this.$g$ = $senderId$jscomp$2$$;
  this.$f$ = $routes$jscomp$1$$;
  this.$b$ = $lastRemovedRouteInfo$$;
};
var $module$contents$mr$EventTarget_EventTarget$$ = function() {
  this.$b$ = [];
};
$module$contents$mr$EventTarget_EventTarget$$.prototype.listen = function($type$jscomp$185$$, $handler$jscomp$19$$, $target$jscomp$97$$) {
  this.$b$.push({type:$type$jscomp$185$$, $handler$:$handler$jscomp$19$$, target:$target$jscomp$97$$});
};
var $JSCompiler_StaticMethods_module$contents$mr$EventTarget_EventTarget_prototype$unlisten$$ = function($JSCompiler_StaticMethods_module$contents$mr$EventTarget_EventTarget_prototype$unlisten$self$$, $handler$jscomp$20$$, $target$jscomp$98$$) {
  var $index$jscomp$95$$ = $JSCompiler_StaticMethods_module$contents$mr$EventTarget_EventTarget_prototype$unlisten$self$$.$b$.findIndex(function($sub$jscomp$1$$) {
    return "internal_message" == $sub$jscomp$1$$.type && $sub$jscomp$1$$.$handler$ == $handler$jscomp$20$$ && $sub$jscomp$1$$.target == $target$jscomp$98$$;
  });
  -1 != $index$jscomp$95$$ && $JSCompiler_StaticMethods_module$contents$mr$EventTarget_EventTarget_prototype$unlisten$self$$.$b$.splice($index$jscomp$95$$, 1);
}, $JSCompiler_StaticMethods_module$contents$mr$EventTarget_EventTarget_prototype$dispatchEvent$$ = function($JSCompiler_StaticMethods_module$contents$mr$EventTarget_EventTarget_prototype$dispatchEvent$self$$, $event$jscomp$18$$) {
  $JSCompiler_StaticMethods_module$contents$mr$EventTarget_EventTarget_prototype$dispatchEvent$self$$.$b$.forEach(function($sub$jscomp$2$$) {
    $sub$jscomp$2$$.type == $event$jscomp$18$$.type && Promise.resolve().then(function() {
      return $sub$jscomp$2$$.$handler$.call($sub$jscomp$2$$.target, $event$jscomp$18$$);
    });
  });
};
var $mr$DialAnalytics$DialCreateRouteResult$$ = {SUCCESS:0, $SINK_NOT_FOUND$:1, $APP_INFO_NOT_FOUND$:2, $APP_LAUNCH_FAILED$:3, $UNSUPPORTED_SOURCE$:4, $ROUTE_ALREADY_EXISTS$:5}, $mr$DialAnalytics$DialTerminateRouteResult$$ = {SUCCESS:0, $ROUTE_NOT_FOUND$:1, $SINK_NOT_FOUND$:2, $STOP_APP_FAILED$:3}, $mr$DialAnalytics$DialParseMessageResult$$ = {SUCCESS:0, $PARSE_ERROR$:1, $INVALID_MESSAGE$:2}, $mr$DialAnalytics$recordCreateRoute$$ = function($value$jscomp$365$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Dial.CreateRoute", $value$jscomp$365$$, $mr$DialAnalytics$DialCreateRouteResult$$);
}, $mr$DialAnalytics$recordTerminateRoute$$ = function($value$jscomp$366$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Dial.TerminateRoute", $value$jscomp$366$$, $mr$DialAnalytics$DialTerminateRouteResult$$);
}, $mr$DialAnalytics$recordParseMessageResult$$ = function($value$jscomp$368$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Dial.ParseMessage", $value$jscomp$368$$, $mr$DialAnalytics$DialParseMessageResult$$);
};
var $mr$XhrUtils$logRawXhr$$ = function($logger$jscomp$12$$, $action$jscomp$4_logString$$, $method$jscomp$9$$, $xhr$jscomp$2$$) {
  $action$jscomp$4_logString$$ = "[" + $action$jscomp$4_logString$$ + "]: " + $method$jscomp$9$$ + " " + $xhr$jscomp$2$$.responseURL + " => " + $xhr$jscomp$2$$.status + " (" + $xhr$jscomp$2$$.statusText + ")";
  200 <= $xhr$jscomp$2$$.status && 299 >= $xhr$jscomp$2$$.status ? $logger$jscomp$12$$.info($action$jscomp$4_logString$$) : $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($logger$jscomp$12$$, $action$jscomp$4_logString$$);
};
var $module$contents$mr$dial$Client_AppInfo$$ = function() {
  this.name = "unknown";
  this.state = "error";
  this.$b$ = null;
  this.allowStop = !0;
  this.resource = null;
  this.extraData = {};
}, $module$contents$mr$dial$Client_AppInfoNotFoundError$$ = function() {
  var $$jscomp$tmp$error$jscomp$3$$ = Error.call(this);
  this.message = $$jscomp$tmp$error$jscomp$3$$.message;
  "stack" in $$jscomp$tmp$error$jscomp$3$$ && (this.stack = $$jscomp$tmp$error$jscomp$3$$.stack);
};
$$jscomp$inherits$$($module$contents$mr$dial$Client_AppInfoNotFoundError$$, Error);
var $module$contents$mr$dial$Client_Client$$ = function($sink$jscomp$55$$) {
  if (void 0 === $JSCompiler_temp$jscomp$507_xhrManager$$) {
    $module$contents$mr$dial$Client_Client$xhrManager_$$ || ($module$contents$mr$dial$Client_Client$xhrManager_$$ = new $module$contents$mr$XhrManager_XhrManager$$(10, 2000));
    var $JSCompiler_temp$jscomp$507_xhrManager$$ = $module$contents$mr$dial$Client_Client$xhrManager_$$;
  }
  $mr$Assertions$assert$$($sink$jscomp$55$$.$N$, "Receiver must have a DIAL app URL set.");
  this.$f$ = $sink$jscomp$55$$;
  this.$b$ = $JSCompiler_temp$jscomp$507_xhrManager$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.dial.Client");
};
$module$contents$mr$dial$Client_Client$$.prototype.launchApp = function($appName$jscomp$4$$, $postData$$) {
  var $$jscomp$this$jscomp$65$$ = this;
  return this.$b$.send($JSCompiler_StaticMethods_getAppUrl_$$(this, $appName$jscomp$4$$), "POST", $postData$$, {timeoutMillis:15000}).then(function($xhr$jscomp$4$$) {
    return $JSCompiler_StaticMethods_module$contents$mr$dial$Client_Client_prototype$handleResponse_$$($$jscomp$this$jscomp$65$$, "launchApp", "POST", $xhr$jscomp$4$$);
  });
};
var $JSCompiler_StaticMethods_stopApp$$ = function($JSCompiler_StaticMethods_stopApp$self$$, $appName$jscomp$5$$) {
  return $JSCompiler_StaticMethods_getAppInfo$$($JSCompiler_StaticMethods_stopApp$self$$, $appName$jscomp$5$$).then(function($appInfo$jscomp$11$$) {
    return $appInfo$jscomp$11$$.resource ? $appInfo$jscomp$11$$.resource : ($JSCompiler_StaticMethods_stopApp$self$$.$logger_$.$warning$("stopApp: Resource path for not available for app " + $appName$jscomp$5$$ + ": using fallback path."), "run");
  }, function() {
    $JSCompiler_StaticMethods_stopApp$self$$.$logger_$.$warning$("stopApp: getAppInfo failed: using fallback path.");
    return "run";
  }).then(function($path$jscomp$28$$) {
    return $JSCompiler_StaticMethods_stopApp$self$$.$b$.send($JSCompiler_StaticMethods_getAppUrl_$$($JSCompiler_StaticMethods_stopApp$self$$, $appName$jscomp$5$$) + "/" + $path$jscomp$28$$, "DELETE");
  }).then(function($xhr$jscomp$5$$) {
    return $JSCompiler_StaticMethods_module$contents$mr$dial$Client_Client_prototype$handleResponse_$$($JSCompiler_StaticMethods_stopApp$self$$, "stopApp", "DELETE", $xhr$jscomp$5$$);
  });
}, $JSCompiler_StaticMethods_getAppInfo$$ = function($JSCompiler_StaticMethods_getAppInfo$self$$, $appName$jscomp$6$$) {
  return $JSCompiler_StaticMethods_getAppInfo$self$$.$b$.send($JSCompiler_StaticMethods_getAppUrl_$$($JSCompiler_StaticMethods_getAppInfo$self$$, $appName$jscomp$6$$), "GET", void 0, {$numAttempts$:3}).then(function($JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$) {
    $mr$XhrUtils$logRawXhr$$($JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$, "GetAppInfo", "GET", $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$);
    if (!(200 <= $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.status && 299 >= $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.status)) {
      if (404 == $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.status) {
        throw new $module$contents$mr$dial$Client_AppInfoNotFoundError$$;
      }
      throw Error("Response error: " + $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.status);
    }
    $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$ = $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.responseText;
    $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$ = (new DOMParser).parseFromString($JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$, "text/xml");
    $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$ = $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.getElementsByTagNameNS("http://www.w3.org/1999/xhtml", "parsererror").length ? null : $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$;
    if (!$JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$) {
      throw $JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$.info("Invalid or empty response"), Error("Invalid or empty response");
    }
    var $installable$jscomp$inline_1980_service$jscomp$inline_1975$$ = $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.getElementsByTagName("service");
    if (!$installable$jscomp$inline_1980_service$jscomp$inline_1975$$ || 1 != $installable$jscomp$inline_1980_service$jscomp$inline_1975$$.length) {
      throw $JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$.info("Invalid GET response (invalid service)"), Error("Invalid GET response (invalid service)");
    }
    $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$ = new $module$contents$mr$dial$Client_AppInfo$$;
    for (var $i$jscomp$inline_1977$$ = 0, $l$jscomp$inline_1978$$ = $installable$jscomp$inline_1980_service$jscomp$inline_1975$$[0].childNodes.length; $i$jscomp$inline_1977$$ < $l$jscomp$inline_1978$$; $i$jscomp$inline_1977$$++) {
      var $JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$ = $installable$jscomp$inline_1980_service$jscomp$inline_1975$$[0].childNodes[$i$jscomp$inline_1977$$];
      if ("state" == $JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$.nodeName) {
        a: {
          switch($JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$.textContent) {
            case "running":
              $JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$ = "running";
              break a;
            case "stopped":
              $JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$ = "stopped";
              break a;
            default:
              $JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$ = "error";
          }
        }
        $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.state = $JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$;
      } else {
        "name" == $JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$.nodeName ? $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.name = $JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$.textContent : "link" == $JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$.localName ? $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.resource = 
        $JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$.getAttribute("href") : "options" == $JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$.nodeName ? $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.allowStop = "false" != $JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$.getAttribute("allowStop") : $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.extraData[$JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$.nodeName] = 
        $JSCompiler_inline_result$jscomp$6434_node$jscomp$inline_1979$$.innerHTML;
      }
    }
    if ("unknown" == $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.name) {
      throw $JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$.info("GET response missing name value"), Error("GET response missing name value");
    }
    if ($JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.name != $appName$jscomp$6$$) {
      throw $JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$.info("GET app name mismatch"), Error("GET app name mismatch");
    }
    if ("error" == $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.state) {
      throw $JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$.info("GET response missing state value"), Error("GET response missing state value");
    }
    if (($installable$jscomp$inline_1980_service$jscomp$inline_1975$$ = /installable=(.+)/.exec($JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.state)) && $installable$jscomp$inline_1980_service$jscomp$inline_1975$$[1]) {
      $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.state = "installable", $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.$b$ = $installable$jscomp$inline_1980_service$jscomp$inline_1975$$[1];
    } else {
      if ("running" != $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.state && "stopped" != $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$.state) {
        throw $JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$.info("GET response has invalid state value"), Error("GET response has invalid state value");
      }
    }
    return $JSCompiler_inline_result$jscomp$6432_appInfo$jscomp$inline_1976_xhr$jscomp$6_xml$jscomp$inline_6733_xmlText$jscomp$inline_6732$$;
  });
}, $JSCompiler_StaticMethods_getAppUrl_$$ = function($JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$, $appName$jscomp$8$$) {
  $JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$ = $JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$.$f$.$N$;
  "/" != $JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$.charAt($JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$.length - 1) && ($JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$ += "/");
  return $JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$ + $appName$jscomp$8$$;
}, $JSCompiler_StaticMethods_module$contents$mr$dial$Client_Client_prototype$handleResponse_$$ = function($JSCompiler_StaticMethods_module$contents$mr$dial$Client_Client_prototype$handleResponse_$self$$, $action$jscomp$6$$, $method$jscomp$11$$, $xhr$jscomp$8$$) {
  return new Promise(function($resolve$jscomp$30$$, $reject$jscomp$29$$) {
    $mr$XhrUtils$logRawXhr$$($JSCompiler_StaticMethods_module$contents$mr$dial$Client_Client_prototype$handleResponse_$self$$.$logger_$, $action$jscomp$6$$, $method$jscomp$11$$, $xhr$jscomp$8$$);
    200 <= $xhr$jscomp$8$$.status && 299 >= $xhr$jscomp$8$$.status ? $resolve$jscomp$30$$() : $reject$jscomp$29$$(Error($xhr$jscomp$8$$.statusText));
  });
}, $module$contents$mr$dial$Client_Client$xhrManager_$$ = null;
var $mr$dial$Activity$$ = function($route$jscomp$41$$, $appName$jscomp$9$$) {
  this.$mr_dial_Activity$route$ = $route$jscomp$41$$;
  this.appName = $appName$jscomp$9$$;
};
var $module$exports$mr$dial$ActivityRecords$$ = function($activityCallbacks$$) {
  this.$b$ = new Map;
  this.$f$ = $activityCallbacks$$;
};
$module$exports$mr$dial$ActivityRecords$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
};
$module$exports$mr$dial$ActivityRecords$$.prototype.clear = function() {
  this.$b$.clear();
};
$module$exports$mr$dial$ActivityRecords$$.prototype.add = function($activity$jscomp$4$$) {
  if (!this.$b$.get($activity$jscomp$4$$.$mr_dial_Activity$route$.id)) {
    this.$b$.set($activity$jscomp$4$$.$mr_dial_Activity$route$.id, $activity$jscomp$4$$);
    var $JSCompiler_StaticMethods_onActivityAdded$self$jscomp$inline_1982$$ = this.$f$;
    $JSCompiler_StaticMethods_maybeStartAppDiscovery_$$($JSCompiler_StaticMethods_onActivityAdded$self$jscomp$inline_1982$$);
    $JSCompiler_StaticMethods_onActivityAdded$self$jscomp$inline_1982$$.$h$.$onRouteAdded$($JSCompiler_StaticMethods_onActivityAdded$self$jscomp$inline_1982$$, $activity$jscomp$4$$.$mr_dial_Activity$route$);
  }
};
var $JSCompiler_StaticMethods_getBySinkId$$ = function($$jscomp$iter$235_JSCompiler_StaticMethods_getBySinkId$self$$, $sinkId$jscomp$32$$) {
  $$jscomp$iter$235_JSCompiler_StaticMethods_getBySinkId$self$$ = $$jscomp$makeIterator$$($$jscomp$iter$235_JSCompiler_StaticMethods_getBySinkId$self$$.$b$);
  for (var $$jscomp$destructuring$var8_$jscomp$key$$jscomp$destructuring$var7_activity$jscomp$5$$ = $$jscomp$iter$235_JSCompiler_StaticMethods_getBySinkId$self$$.next(); !$$jscomp$destructuring$var8_$jscomp$key$$jscomp$destructuring$var7_activity$jscomp$5$$.done; $$jscomp$destructuring$var8_$jscomp$key$$jscomp$destructuring$var7_activity$jscomp$5$$ = $$jscomp$iter$235_JSCompiler_StaticMethods_getBySinkId$self$$.next()) {
    if ($$jscomp$destructuring$var8_$jscomp$key$$jscomp$destructuring$var7_activity$jscomp$5$$ = $$jscomp$makeIterator$$($$jscomp$destructuring$var8_$jscomp$key$$jscomp$destructuring$var7_activity$jscomp$5$$.value), $$jscomp$destructuring$var8_$jscomp$key$$jscomp$destructuring$var7_activity$jscomp$5$$.next(), $$jscomp$destructuring$var8_$jscomp$key$$jscomp$destructuring$var7_activity$jscomp$5$$ = $$jscomp$destructuring$var8_$jscomp$key$$jscomp$destructuring$var7_activity$jscomp$5$$.next().value, 
    $$jscomp$destructuring$var8_$jscomp$key$$jscomp$destructuring$var7_activity$jscomp$5$$.$mr_dial_Activity$route$.sinkId == $sinkId$jscomp$32$$) {
      return $$jscomp$destructuring$var8_$jscomp$key$$jscomp$destructuring$var7_activity$jscomp$5$$;
    }
  }
  return null;
}, $JSCompiler_StaticMethods_removeByRouteId$$ = function($JSCompiler_StaticMethods_removeByRouteId$self$$, $routeId$jscomp$55$$) {
  var $activity$jscomp$7$$ = $JSCompiler_StaticMethods_removeByRouteId$self$$.$b$.get($routeId$jscomp$55$$);
  $activity$jscomp$7$$ && ($JSCompiler_StaticMethods_removeByRouteId$self$$.$b$.delete($routeId$jscomp$55$$), $JSCompiler_StaticMethods_onActivityRemoved$$($JSCompiler_StaticMethods_removeByRouteId$self$$.$f$, $activity$jscomp$7$$));
};
$module$exports$mr$dial$ActivityRecords$$.prototype.$getRoutes$ = function() {
  return Array.from(this.$b$.values(), function($activity$jscomp$8$$) {
    return $activity$jscomp$8$$.$mr_dial_Activity$route$;
  });
};
$module$exports$mr$dial$ActivityRecords$$.prototype.$getStorageKey$ = function() {
  return "dial.ActivityRecords";
};
$module$exports$mr$dial$ActivityRecords$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [Array.from(this.$b$)];
};
$module$exports$mr$dial$ActivityRecords$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$8$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$8$$ && (this.$b$ = new Map($savedData$jscomp$8$$));
};
var $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$ = function($sinkCallBacks$$) {
  this.$g$ = $sinkCallBacks$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.dial.SinkDiscoveryService");
  this.$b$ = new Map;
  this.$f$ = {$availableDeviceCount$:0, $knownDeviceCount$:0};
  this.$h$ = 0;
};
$module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
};
var $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$addSinks$$ = function($JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$addSinks$self$$, $sinks$jscomp$7$$) {
  $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$addSinks$self$$.$logger_$.info("addSinks returned " + $sinks$jscomp$7$$.length + " sinks");
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$addSinks$self$$.$logger_$, function() {
    return "....the list is: " + JSON.stringify($sinks$jscomp$7$$);
  });
  var $oldSinkIds$jscomp$1$$ = new Set($JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$addSinks$self$$.$b$.keys());
  $sinks$jscomp$7$$.forEach(function($JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$setIpAddress$self$jscomp$inline_6737_mojoSink$jscomp$2$$) {
    var $uniqueId$jscomp$inline_1986$$ = $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$setIpAddress$self$jscomp$inline_6737_mojoSink$jscomp$2$$.sink_id, $extraData$jscomp$inline_1987$$ = $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$setIpAddress$self$jscomp$inline_6737_mojoSink$jscomp$2$$.extra_data.dial_media_sink, $isDiscoveryOnly$jscomp$inline_1988$$ = $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$DISCOVERY_ONLY_RE_$$.test($extraData$jscomp$inline_1987$$.model_name);
    $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$setIpAddress$self$jscomp$inline_6737_mojoSink$jscomp$2$$ = new $module$contents$mr$dial$Sink_DialSink$$($JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$setIpAddress$self$jscomp$inline_6737_mojoSink$jscomp$2$$.name, $uniqueId$jscomp$inline_1986$$);
    $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$setIpAddress$self$jscomp$inline_6737_mojoSink$jscomp$2$$.$w$ = $extraData$jscomp$inline_1987$$.ip_address.address_bytes ? $extraData$jscomp$inline_1987$$.ip_address.address_bytes.join(".") : $extraData$jscomp$inline_1987$$.ip_address.address.join(".");
    $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$setIpAddress$self$jscomp$inline_6737_mojoSink$jscomp$2$$.$N$ = $extraData$jscomp$inline_1987$$.app_url.url;
    $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$setIpAddress$self$jscomp$inline_6737_mojoSink$jscomp$2$$.$D$ = $extraData$jscomp$inline_1987$$.model_name;
    $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$setIpAddress$self$jscomp$inline_6737_mojoSink$jscomp$2$$.$X$ = !$isDiscoveryOnly$jscomp$inline_1988$$;
    $JSCompiler_StaticMethods_mayAddSink_$$($JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$addSinks$self$$, $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$setIpAddress$self$jscomp$inline_6737_mojoSink$jscomp$2$$);
    $oldSinkIds$jscomp$1$$.delete($JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$setIpAddress$self$jscomp$inline_6737_mojoSink$jscomp$2$$.getId());
  });
  var $removedSinks$$ = [];
  $oldSinkIds$jscomp$1$$.forEach(function($sinkId$jscomp$34$$) {
    var $sink$jscomp$59$$ = $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$addSinks$self$$.$b$.get($sinkId$jscomp$34$$);
    $removedSinks$$.push($sink$jscomp$59$$);
    $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$addSinks$self$$.$b$.delete($sinkId$jscomp$34$$);
  });
  0 < $removedSinks$$.length && $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$addSinks$self$$.$g$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinksRemoved$($removedSinks$$);
  var $sinkCount$$ = $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$addSinks$self$$.$b$.size;
  $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$addSinks$self$$.$f$ = {$availableDeviceCount$:$sinkCount$$, $knownDeviceCount$:$sinkCount$$};
}, $JSCompiler_StaticMethods_mayAddSink_$$ = function($JSCompiler_StaticMethods_mayAddSink_$self$$, $sink$jscomp$60$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_mayAddSink_$self$$.$logger_$, "mayAddSink, id = " + $sink$jscomp$60$$.getId());
  var $sinkToUpdate$$ = $JSCompiler_StaticMethods_mayAddSink_$self$$.$b$.get($sink$jscomp$60$$.getId());
  $sinkToUpdate$$ ? $sinkToUpdate$$.update($sink$jscomp$60$$) && ($JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_mayAddSink_$self$$.$logger_$, "Updated sink " + $sinkToUpdate$$.getId()), $JSCompiler_StaticMethods_mayAddSink_$self$$.$g$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkUpdated$($sinkToUpdate$$)) : ($JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_mayAddSink_$self$$.$logger_$, function() {
    return "Adding new sink " + $sink$jscomp$60$$.getId() + ": name = " + ($sink$jscomp$60$$.$F$.friendlyName + ($sink$jscomp$60$$.$w$ ? ", ip = " + $sink$jscomp$60$$.$w$ : "") + ($sink$jscomp$60$$.$D$ ? ", model = " + $sink$jscomp$60$$.$D$ : "") + ", apps = " + JSON.stringify($sink$jscomp$60$$.$u$));
  }), $JSCompiler_StaticMethods_mayAddSink_$self$$.$b$.set($sink$jscomp$60$$.getId(), $sink$jscomp$60$$), $JSCompiler_StaticMethods_mayAddSink_$self$$.$g$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkAdded$($sink$jscomp$60$$));
};
$module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$.prototype.$getSinkById$ = function($sinkId$jscomp$35$$) {
  return this.$b$.get($sinkId$jscomp$35$$) || null;
};
var $JSCompiler_StaticMethods_getSinksByAppName$$ = function($JSCompiler_StaticMethods_getSinksByAppName$self$$, $appName$jscomp$10$$) {
  var $sinks$jscomp$8$$ = [];
  $JSCompiler_StaticMethods_getSinksByAppName$self$$.$b$.forEach(function($dialSink$jscomp$2$$) {
    "available" == $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$$($dialSink$jscomp$2$$, $appName$jscomp$10$$) && $sinks$jscomp$8$$.push($dialSink$jscomp$2$$.$F$);
  });
  return new $mr$SinkList$$($sinks$jscomp$8$$, $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$APP_ORIGIN_WHITELIST_$$[$appName$jscomp$10$$]);
};
$module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$.prototype.$getDeviceCounts$ = function() {
  return this.$f$;
};
$module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$.prototype.$getStorageKey$ = function() {
  return "dial.DialSinkDiscoveryService";
};
$module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [new $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$PersistentData_$$(Array.from(this.$b$), this.$f$), {deviceCountMetricsRecordTime:this.$h$}];
};
$module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$.prototype.$loadSavedData$ = function() {
  var $permanentData_tempData$jscomp$1$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($permanentData_tempData$jscomp$1$$) {
    for (var $$jscomp$iter$236$$ = $$jscomp$makeIterator$$($permanentData_tempData$jscomp$1$$.sinks), $$jscomp$key$entry_entry$jscomp$16$$ = $$jscomp$iter$236$$.next(); !$$jscomp$key$entry_entry$jscomp$16$$.done; $$jscomp$key$entry_entry$jscomp$16$$ = $$jscomp$iter$236$$.next()) {
      $$jscomp$key$entry_entry$jscomp$16$$ = $$jscomp$key$entry_entry$jscomp$16$$.value, this.$b$.set($$jscomp$key$entry_entry$jscomp$16$$[0], $module$contents$mr$dial$Sink_DialSink$createFrom$$($$jscomp$key$entry_entry$jscomp$16$$[1]));
    }
    this.$f$ = $permanentData_tempData$jscomp$1$$.deviceCounts;
  }
  if ($permanentData_tempData$jscomp$1$$ = $mr$PersistentDataManager$getPersistentData$$(this)) {
    this.$h$ = $permanentData_tempData$jscomp$1$$.deviceCountMetricsRecordTime;
  }
};
var $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$APP_ORIGIN_WHITELIST_$$ = {YouTube:"https://tv.youtube.com https://tv-green-qa.youtube.com https://tv-release-qa.youtube.com https://web-green-qa.youtube.com https://web-release-qa.youtube.com https://www.youtube.com".split(" "), Netflix:["https://www.netflix.com"], Pandora:["https://www.pandora.com"], Radio:["https://www.pandora.com"], Hulu:["https://www.hulu.com"], Vimeo:["https://www.vimeo.com"], Dailymotion:["https://www.dailymotion.com"], 
"com.dailymotion":["https://www.dailymotion.com"]}, $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$DISCOVERY_ONLY_RE_$$ = /Eureka Dongle|Chromecast Audio|Chromecast Ultra/i, $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$PersistentData_$$ = function($sinks$jscomp$9$$, $deviceCounts$jscomp$2$$) {
  this.sinks = $sinks$jscomp$9$$;
  this.deviceCounts = $deviceCounts$jscomp$2$$;
};
var $mr$PromiseUtils$allSettled$$ = function($promises$jscomp$2$$) {
  return Promise.all($promises$jscomp$2$$.map(function($promise$jscomp$11$$) {
    return $promise$jscomp$11$$.then(function($value$jscomp$369$$) {
      return {$fulfilled$:!0, value:$value$jscomp$369$$};
    }, function($reason$jscomp$22$$) {
      return {$fulfilled$:!1, reason:$reason$jscomp$22$$};
    });
  }));
};
var $module$exports$mr$dial$AppDiscoveryService$$ = function($discoveryService$jscomp$2$$, $activityRecords$$) {
  this.$logger_$ = $mr$Logger$getInstance$$("mr.dial.AppDiscoveryService");
  this.$b$ = new Set;
  this.$f$ = $discoveryService$jscomp$2$$;
  this.$m$ = $activityRecords$$;
  this.$l$ = new Map;
  this.$o$ = new Map;
  this.$g$ = null;
  this.$h$ = !1;
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.start = function() {
  this.$logger_$.info("Starting periodic scanning.");
  this.$h$ || (this.$h$ = !0, $JSCompiler_StaticMethods_doScan_$$(this));
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.stop = function() {
  this.$logger_$.info("Stopping periodic scanning.");
  this.$h$ && (this.$h$ = !1, this.$g$ && (clearTimeout(this.$g$), this.$g$ = null), this.$l$.clear());
};
var $JSCompiler_StaticMethods_doScan_$$ = function($JSCompiler_StaticMethods_doScan_$self$$) {
  $JSCompiler_StaticMethods_doScan_$self$$.$logger_$.info("Start app status scan.");
  var $promises$jscomp$3$$ = [];
  Array.from($JSCompiler_StaticMethods_doScan_$self$$.$f$.$b$.values()).forEach(function($sink$jscomp$62$$) {
    $promises$jscomp$3$$.push.apply($promises$jscomp$3$$, $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$scanSink$$($JSCompiler_StaticMethods_doScan_$self$$, $sink$jscomp$62$$));
  });
  Array.from($JSCompiler_StaticMethods_doScan_$self$$.$m$.$b$.values()).forEach(function($activity$jscomp$9$$) {
    $promises$jscomp$3$$.push($JSCompiler_StaticMethods_scanActivity_$$($JSCompiler_StaticMethods_doScan_$self$$, $activity$jscomp$9$$));
  });
  $mr$PromiseUtils$allSettled$$($promises$jscomp$3$$).then(function() {
    $JSCompiler_StaticMethods_doScan_$self$$.$h$ && !$JSCompiler_StaticMethods_doScan_$self$$.$g$ && ($JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_doScan_$self$$.$logger_$, "Scan complete; scheduling for next scan."), $JSCompiler_StaticMethods_doScan_$self$$.$g$ = setTimeout(function() {
      $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_doScan_$self$$.$logger_$, "Start app status scan (timer-based)");
      $JSCompiler_StaticMethods_doScan_$self$$.$g$ = null;
      $JSCompiler_StaticMethods_doScan_$$($JSCompiler_StaticMethods_doScan_$self$$);
    }, 6E4));
  });
}, $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$scanSink$$ = function($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$scanSink$self$$, $sink$jscomp$63$$) {
  if (!$sink$jscomp$63$$.$X$) {
    return [];
  }
  for (var $promises$jscomp$4$$ = [], $$jscomp$iter$237$$ = $$jscomp$makeIterator$$($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$scanSink$self$$.$b$), $$jscomp$key$appName$$ = $$jscomp$iter$237$$.next(); !$$jscomp$key$appName$$.done; $$jscomp$key$appName$$ = $$jscomp$iter$237$$.next()) {
    $promises$jscomp$4$$.push($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$scanSink$self$$.$s$($$jscomp$key$appName$$.value, $sink$jscomp$63$$));
  }
  return $promises$jscomp$4$$;
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.$s$ = function($appName$jscomp$15$$, $sink$jscomp$64$$) {
  var $$jscomp$this$jscomp$71$$ = this;
  if ("unknown" != $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$$($sink$jscomp$64$$, $appName$jscomp$15$$) && 36E5 > Date.now() - ($sink$jscomp$64$$.$ia$[$appName$jscomp$15$$] || 0) || !$sink$jscomp$64$$.$X$) {
    return Promise.resolve();
  }
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "Querying " + $sink$jscomp$64$$.getId() + " for " + $appName$jscomp$15$$ + " to update app status");
  return $JSCompiler_StaticMethods_getAppInfo_$$(this, $sink$jscomp$64$$, $appName$jscomp$15$$).then(function($JSCompiler_inline_result$jscomp$510_appInfo$jscomp$13$$) {
    a: {
      if ("Netflix" == $JSCompiler_inline_result$jscomp$510_appInfo$jscomp$13$$.name) {
        $JSCompiler_inline_result$jscomp$510_appInfo$jscomp$13$$ = !$JSCompiler_inline_result$jscomp$510_appInfo$jscomp$13$$.extraData || "websocket" != $JSCompiler_inline_result$jscomp$510_appInfo$jscomp$13$$.extraData.capabilities || "running" != $JSCompiler_inline_result$jscomp$510_appInfo$jscomp$13$$.state && "stopped" != $JSCompiler_inline_result$jscomp$510_appInfo$jscomp$13$$.state ? "unavailable" : "available";
      } else {
        switch($JSCompiler_inline_result$jscomp$510_appInfo$jscomp$13$$.state) {
          case "running":
          case "stopped":
            $JSCompiler_inline_result$jscomp$510_appInfo$jscomp$13$$ = "available";
            break a;
          default:
            $JSCompiler_inline_result$jscomp$510_appInfo$jscomp$13$$ = "unavailable";
        }
      }
    }
    $JSCompiler_StaticMethods_maybeUpdateAppStatus_$$($$jscomp$this$jscomp$71$$, $sink$jscomp$64$$, $appName$jscomp$15$$, $JSCompiler_inline_result$jscomp$510_appInfo$jscomp$13$$);
  }, function($e$jscomp$60$$) {
    $e$jscomp$60$$ instanceof $module$contents$mr$dial$Client_AppInfoNotFoundError$$ ? $JSCompiler_StaticMethods_maybeUpdateAppStatus_$$($$jscomp$this$jscomp$71$$, $sink$jscomp$64$$, $appName$jscomp$15$$, "unavailable") : ($$jscomp$this$jscomp$71$$.$logger_$.$warning$("Failed to process app availability; " + $sink$jscomp$64$$.getId() + " does not support app availability"), $sink$jscomp$64$$.$X$ = !1);
  });
};
var $JSCompiler_StaticMethods_scanActivity_$$ = function($JSCompiler_StaticMethods_scanActivity_$self$$, $activity$jscomp$10$$) {
  var $sink$jscomp$65$$ = $JSCompiler_StaticMethods_scanActivity_$self$$.$f$.$getSinkById$($activity$jscomp$10$$.$mr_dial_Activity$route$.sinkId);
  if (!$sink$jscomp$65$$) {
    return $JSCompiler_StaticMethods_scanActivity_$self$$.$logger_$.$warning$("Activity refers to nonexistent sink: " + $activity$jscomp$10$$.$mr_dial_Activity$route$.id), Promise.resolve();
  }
  if (!$sink$jscomp$65$$.$X$) {
    return Promise.resolve();
  }
  var $appName$jscomp$16$$ = $activity$jscomp$10$$.appName;
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_scanActivity_$self$$.$logger_$, "Querying " + $sink$jscomp$65$$.getId() + " for " + $appName$jscomp$16$$ + " to update activity");
  return $JSCompiler_StaticMethods_getAppInfo_$$($JSCompiler_StaticMethods_scanActivity_$self$$, $sink$jscomp$65$$, $appName$jscomp$16$$).then(function($appInfo$jscomp$14$$) {
    "running" != $appInfo$jscomp$14$$.state && $JSCompiler_StaticMethods_doRemoveActivityRecord_$$($JSCompiler_StaticMethods_scanActivity_$self$$, $sink$jscomp$65$$, $appName$jscomp$16$$);
  }, function() {
    return $JSCompiler_StaticMethods_doRemoveActivityRecord_$$($JSCompiler_StaticMethods_scanActivity_$self$$, $sink$jscomp$65$$, $appName$jscomp$16$$);
  });
}, $JSCompiler_StaticMethods_getDialClient_$$ = function($JSCompiler_StaticMethods_getDialClient_$self$$, $sink$jscomp$66$$) {
  var $client$$ = $JSCompiler_StaticMethods_getDialClient_$self$$.$o$.get($sink$jscomp$66$$.getId());
  $client$$ || ($client$$ = new $module$contents$mr$dial$Client_Client$$($sink$jscomp$66$$), $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_getDialClient_$self$$.$logger_$, "Created DIAL client for " + $sink$jscomp$66$$.getId()), $JSCompiler_StaticMethods_getDialClient_$self$$.$o$.set($sink$jscomp$66$$.getId(), $client$$));
  return $client$$;
}, $JSCompiler_StaticMethods_getAppInfo_$$ = function($JSCompiler_StaticMethods_getAppInfo_$self$$, $cleanup$jscomp$3_sink$jscomp$67$$, $appName$jscomp$17$$) {
  var $requestId$jscomp$12$$ = $module$exports$mr$dial$AppDiscoveryService$getRequestId_$$($cleanup$jscomp$3_sink$jscomp$67$$, $appName$jscomp$17$$), $promise$jscomp$12$$ = $JSCompiler_StaticMethods_getAppInfo_$self$$.$l$.get($requestId$jscomp$12$$);
  if ($promise$jscomp$12$$) {
    return $promise$jscomp$12$$;
  }
  $promise$jscomp$12$$ = $JSCompiler_StaticMethods_getAppInfo$$($JSCompiler_StaticMethods_getDialClient_$$($JSCompiler_StaticMethods_getAppInfo_$self$$, $cleanup$jscomp$3_sink$jscomp$67$$), $appName$jscomp$17$$);
  $JSCompiler_StaticMethods_getAppInfo_$self$$.$l$.set($requestId$jscomp$12$$, $promise$jscomp$12$$);
  $cleanup$jscomp$3_sink$jscomp$67$$ = function() {
    $JSCompiler_StaticMethods_getAppInfo_$self$$.$l$.delete($requestId$jscomp$12$$);
  };
  $promise$jscomp$12$$.then($cleanup$jscomp$3_sink$jscomp$67$$, $cleanup$jscomp$3_sink$jscomp$67$$);
  return $promise$jscomp$12$$;
}, $module$exports$mr$dial$AppDiscoveryService$getRequestId_$$ = function($sink$jscomp$68$$, $appName$jscomp$18$$) {
  return $sink$jscomp$68$$.getId() + ":" + $appName$jscomp$18$$;
}, $JSCompiler_StaticMethods_maybeUpdateAppStatus_$$ = function($JSCompiler_StaticMethods_maybeUpdateAppStatus_$self$$, $sink$jscomp$69$$, $appName$jscomp$19$$, $newAppStatus$jscomp$1$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_maybeUpdateAppStatus_$self$$.$logger_$, "Got app status " + $newAppStatus$jscomp$1$$ + " from " + $sink$jscomp$69$$.getId() + " for " + $appName$jscomp$19$$);
  var $oldAppStatus$$ = $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$$($sink$jscomp$69$$, $appName$jscomp$19$$);
  $sink$jscomp$69$$.$u$[$appName$jscomp$19$$] = $newAppStatus$jscomp$1$$;
  $sink$jscomp$69$$.$ia$[$appName$jscomp$19$$] = Date.now();
  $newAppStatus$jscomp$1$$ != $oldAppStatus$$ && $JSCompiler_StaticMethods_maybeUpdateAppStatus_$self$$.$f$.$g$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkUpdated$($sink$jscomp$69$$);
}, $JSCompiler_StaticMethods_doRemoveActivityRecord_$$ = function($JSCompiler_StaticMethods_doRemoveActivityRecord_$self$$, $activity$jscomp$11_sink$jscomp$71$$, $appName$jscomp$21$$) {
  ($activity$jscomp$11_sink$jscomp$71$$ = $JSCompiler_StaticMethods_getBySinkId$$($JSCompiler_StaticMethods_doRemoveActivityRecord_$self$$.$m$, $activity$jscomp$11_sink$jscomp$71$$.getId())) && $activity$jscomp$11_sink$jscomp$71$$.appName == $appName$jscomp$21$$ && $JSCompiler_StaticMethods_removeByRouteId$$($JSCompiler_StaticMethods_doRemoveActivityRecord_$self$$.$m$, $activity$jscomp$11_sink$jscomp$71$$.$mr_dial_Activity$route$.id);
}, $JSCompiler_StaticMethods_anyUnknownAppStatus_$$ = function($JSCompiler_StaticMethods_anyUnknownAppStatus_$self$$, $appName$jscomp$22$$) {
  return Array.from($JSCompiler_StaticMethods_anyUnknownAppStatus_$self$$.$f$.$b$.values()).some(function($s$jscomp$30$$) {
    return "unknown" == $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$$($s$jscomp$30$$, $appName$jscomp$22$$);
  });
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.$getStorageKey$ = function() {
  return "dial.AppDiscoveryService";
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [Array.from(this.$b$)];
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$9$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  this.$b$ = new Set($savedData$jscomp$9$$ || []);
};
var $module$exports$mr$dial$PresentationUrl$$ = function($appName$jscomp$23$$, $launchParameter$$) {
  this.appName = $appName$jscomp$23$$;
  this.launchParameter = void 0 === $launchParameter$$ ? "" : $launchParameter$$;
}, $module$exports$mr$dial$PresentationUrl$create$$ = function($JSCompiler_inline_result$jscomp$513_appName$jscomp$inline_2008_urlString$jscomp$2$$) {
  try {
    var $postData$jscomp$inline_2009_url$jscomp$114_url$jscomp$inline_2007$$ = new URL($JSCompiler_inline_result$jscomp$513_appName$jscomp$inline_2008_urlString$jscomp$2$$);
  } catch ($err$jscomp$20$$) {
    return $module$exports$mr$dial$PresentationUrl$logger_$$.info("Invalid URL: " + $JSCompiler_inline_result$jscomp$513_appName$jscomp$inline_2008_urlString$jscomp$2$$), null;
  }
  switch($postData$jscomp$inline_2009_url$jscomp$114_url$jscomp$inline_2007$$.protocol) {
    case "dial:":
      a: {
        if ($JSCompiler_inline_result$jscomp$513_appName$jscomp$inline_2008_urlString$jscomp$2$$ = $postData$jscomp$inline_2009_url$jscomp$114_url$jscomp$inline_2007$$.pathname, $JSCompiler_inline_result$jscomp$513_appName$jscomp$inline_2008_urlString$jscomp$2$$.match(/^\w+$/)) {
          if ($postData$jscomp$inline_2009_url$jscomp$114_url$jscomp$inline_2007$$ = $postData$jscomp$inline_2009_url$jscomp$114_url$jscomp$inline_2007$$.searchParams.get("postData") || void 0) {
            try {
              $postData$jscomp$inline_2009_url$jscomp$114_url$jscomp$inline_2007$$ = $module$exports$mr$base64$decodeString$$($postData$jscomp$inline_2009_url$jscomp$114_url$jscomp$inline_2007$$);
            } catch ($err$jscomp$inline_2010$$) {
              $module$exports$mr$dial$PresentationUrl$logger_$$.$warning$("Invalid base64 encoded postData:" + $postData$jscomp$inline_2009_url$jscomp$114_url$jscomp$inline_2007$$);
              $JSCompiler_inline_result$jscomp$513_appName$jscomp$inline_2008_urlString$jscomp$2$$ = null;
              break a;
            }
          }
          $JSCompiler_inline_result$jscomp$513_appName$jscomp$inline_2008_urlString$jscomp$2$$ = new $module$exports$mr$dial$PresentationUrl$$($JSCompiler_inline_result$jscomp$513_appName$jscomp$inline_2008_urlString$jscomp$2$$, $postData$jscomp$inline_2009_url$jscomp$114_url$jscomp$inline_2007$$);
        } else {
          $module$exports$mr$dial$PresentationUrl$logger_$$.$warning$("Invalid app name: " + $JSCompiler_inline_result$jscomp$513_appName$jscomp$inline_2008_urlString$jscomp$2$$), $JSCompiler_inline_result$jscomp$513_appName$jscomp$inline_2008_urlString$jscomp$2$$ = null;
        }
      }
      return $JSCompiler_inline_result$jscomp$513_appName$jscomp$inline_2008_urlString$jscomp$2$$;
    case "https:":
      return $module$exports$mr$dial$PresentationUrl$parseLegacyUrl_$$($postData$jscomp$inline_2009_url$jscomp$114_url$jscomp$inline_2007$$);
    default:
      return $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($module$exports$mr$dial$PresentationUrl$logger_$$, "Unhandled protocol: " + $postData$jscomp$inline_2009_url$jscomp$114_url$jscomp$inline_2007$$.protocol), null;
  }
}, $module$exports$mr$dial$PresentationUrl$parseLegacyUrl_$$ = function($appName$jscomp$25_url$jscomp$116$$) {
  var $fragment$jscomp$2_postData$jscomp$2$$ = $appName$jscomp$25_url$jscomp$116$$.hash;
  if (!$fragment$jscomp$2_postData$jscomp$2$$) {
    return null;
  }
  $appName$jscomp$25_url$jscomp$116$$ = ($appName$jscomp$25_url$jscomp$116$$ = $module$exports$mr$dial$PresentationUrl$APP_NAME_REGEX_$$.exec($fragment$jscomp$2_postData$jscomp$2$$)) ? $appName$jscomp$25_url$jscomp$116$$[1] : null;
  if (!$appName$jscomp$25_url$jscomp$116$$) {
    return null;
  }
  $appName$jscomp$25_url$jscomp$116$$ = decodeURIComponent($appName$jscomp$25_url$jscomp$116$$);
  if ($fragment$jscomp$2_postData$jscomp$2$$ = ($fragment$jscomp$2_postData$jscomp$2$$ = $module$exports$mr$dial$PresentationUrl$LAUNCH_PARAM_REGEX_$$.exec($fragment$jscomp$2_postData$jscomp$2$$)) ? $fragment$jscomp$2_postData$jscomp$2$$[1] : void 0) {
    try {
      $fragment$jscomp$2_postData$jscomp$2$$ = $module$exports$mr$base64$decodeString$$($fragment$jscomp$2_postData$jscomp$2$$);
    } catch ($err$jscomp$22$$) {
      return $module$exports$mr$dial$PresentationUrl$logger_$$.$warning$("Invalid base64 encoded postData:" + $fragment$jscomp$2_postData$jscomp$2$$), null;
    }
  }
  return new $module$exports$mr$dial$PresentationUrl$$($appName$jscomp$25_url$jscomp$116$$, $fragment$jscomp$2_postData$jscomp$2$$);
}, $module$exports$mr$dial$PresentationUrl$logger_$$ = $mr$Logger$getInstance$$("mr.dial.PresentationUrl"), $module$exports$mr$dial$PresentationUrl$APP_NAME_REGEX_$$ = /__dialAppName__=([A-Za-z0-9-._~!$&'()*+,;=%]+)/, $module$exports$mr$dial$PresentationUrl$LAUNCH_PARAM_REGEX_$$ = /__dialPostData__=([A-Za-z0-9]+={0,2})/;
var $module$contents$mr$DialProvider_DialProvider$$ = function($providerManagerCallbacks$jscomp$1$$, $sinkDiscoveryService$jscomp$1$$) {
  this.$h$ = $providerManagerCallbacks$jscomp$1$$;
  this.$f$ = $sinkDiscoveryService$jscomp$1$$ || new $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$(this);
  this.$g$ = new $module$exports$mr$dial$ActivityRecords$$(this);
  this.$b$ = null;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.DialProvider");
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$DialProvider_DialProvider$$.prototype;
$JSCompiler_prototypeAlias$$.getName = function() {
  return "dial";
};
$JSCompiler_prototypeAlias$$.$getDeviceCounts$ = function() {
  return this.$f$.$getDeviceCounts$();
};
$JSCompiler_prototypeAlias$$.initialize = function($config$jscomp$14_sinkQueryEnabled$jscomp$1$$) {
  $config$jscomp$14_sinkQueryEnabled$jscomp$1$$ = $config$jscomp$14_sinkQueryEnabled$jscomp$1$$ && 0 == $config$jscomp$14_sinkQueryEnabled$jscomp$1$$.enable_dial_sink_query ? !1 : !0;
  this.$logger_$.info("Dial sink query enabled: " + $config$jscomp$14_sinkQueryEnabled$jscomp$1$$ + "...");
  this.$g$.init();
  this.$f$.init();
  $config$jscomp$14_sinkQueryEnabled$jscomp$1$$ ? (this.$b$ = this.$b$ || new $module$exports$mr$dial$AppDiscoveryService$$(this.$f$, this.$g$), this.$b$.init()) : this.$b$ = null;
  $JSCompiler_StaticMethods_maybeStartAppDiscovery_$$(this);
};
$JSCompiler_prototypeAlias$$.$getAvailableSinks$ = function($dialMediaSource_sourceUrn$jscomp$46$$) {
  if (!this.$b$) {
    return $mr$SinkList$EMPTY$$;
  }
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "GetAvailableSinks for " + $dialMediaSource_sourceUrn$jscomp$46$$);
  return ($dialMediaSource_sourceUrn$jscomp$46$$ = $module$exports$mr$dial$PresentationUrl$create$$($dialMediaSource_sourceUrn$jscomp$46$$)) ? $JSCompiler_StaticMethods_getSinksByAppName$$(this.$f$, $dialMediaSource_sourceUrn$jscomp$46$$.appName) : $mr$SinkList$EMPTY$$;
};
$JSCompiler_prototypeAlias$$.startObservingMediaSinks = function($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_2012_sourceUrn$jscomp$47$$) {
  if (this.$b$) {
    var $appName$jscomp$inline_2013_dialMediaSource$jscomp$1$$ = $module$exports$mr$dial$PresentationUrl$create$$($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_2012_sourceUrn$jscomp$47$$);
    if ($appName$jscomp$inline_2013_dialMediaSource$jscomp$1$$) {
      $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_2012_sourceUrn$jscomp$47$$ = this.$b$;
      $appName$jscomp$inline_2013_dialMediaSource$jscomp$1$$ = $appName$jscomp$inline_2013_dialMediaSource$jscomp$1$$.appName;
      if (!$JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_2012_sourceUrn$jscomp$47$$.$b$.has($appName$jscomp$inline_2013_dialMediaSource$jscomp$1$$) || $JSCompiler_StaticMethods_anyUnknownAppStatus_$$($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_2012_sourceUrn$jscomp$47$$, $appName$jscomp$inline_2013_dialMediaSource$jscomp$1$$)) {
        $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_2012_sourceUrn$jscomp$47$$.$b$.add($appName$jscomp$inline_2013_dialMediaSource$jscomp$1$$), 0 != $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_2012_sourceUrn$jscomp$47$$.$f$.$b$.size && ($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_2012_sourceUrn$jscomp$47$$.$h$ ? 
        Array.from($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_2012_sourceUrn$jscomp$47$$.$f$.$b$.values()).forEach($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_2012_sourceUrn$jscomp$47$$.$s$.bind($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_2012_sourceUrn$jscomp$47$$, $appName$jscomp$inline_2013_dialMediaSource$jscomp$1$$)) : 
        $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_2012_sourceUrn$jscomp$47$$.start());
      }
      $JSCompiler_StaticMethods_maybeStartAppDiscovery_$$(this);
    }
  }
};
$JSCompiler_prototypeAlias$$.stopObservingMediaSinks = function($dialMediaSource$jscomp$2_sourceUrn$jscomp$48$$) {
  this.$b$ && ($dialMediaSource$jscomp$2_sourceUrn$jscomp$48$$ = $module$exports$mr$dial$PresentationUrl$create$$($dialMediaSource$jscomp$2_sourceUrn$jscomp$48$$)) && (this.$b$.$b$.delete($dialMediaSource$jscomp$2_sourceUrn$jscomp$48$$.appName), $JSCompiler_StaticMethods_maybeStopAppDiscovery_$$(this));
};
$JSCompiler_prototypeAlias$$.startObservingMediaRoutes = function() {
  $JSCompiler_StaticMethods_maybeStartAppDiscovery_$$(this);
};
$JSCompiler_prototypeAlias$$.stopObservingMediaRoutes = function() {
  $JSCompiler_StaticMethods_maybeStopAppDiscovery_$$(this);
};
var $JSCompiler_StaticMethods_maybeStopAppDiscovery_$$ = function($JSCompiler_StaticMethods_maybeStopAppDiscovery_$self$$) {
  $JSCompiler_StaticMethods_maybeStopAppDiscovery_$self$$.$b$ && (0 == $JSCompiler_StaticMethods_maybeStopAppDiscovery_$self$$.$f$.$b$.size || 0 == $JSCompiler_StaticMethods_maybeStopAppDiscovery_$self$$.$b$.$b$.size && 0 == $JSCompiler_StaticMethods_maybeStopAppDiscovery_$self$$.$g$.$b$.size) && $JSCompiler_StaticMethods_maybeStopAppDiscovery_$self$$.$b$.stop();
}, $JSCompiler_StaticMethods_maybeStartAppDiscovery_$$ = function($JSCompiler_StaticMethods_maybeStartAppDiscovery_$self$$) {
  $JSCompiler_StaticMethods_maybeStartAppDiscovery_$self$$.$b$ && 0 < $JSCompiler_StaticMethods_maybeStartAppDiscovery_$self$$.$f$.$b$.size && (0 < $JSCompiler_StaticMethods_maybeStartAppDiscovery_$self$$.$b$.$b$.size || 0 < $JSCompiler_StaticMethods_maybeStartAppDiscovery_$self$$.$g$.$b$.size) && $JSCompiler_StaticMethods_maybeStartAppDiscovery_$self$$.$b$.start();
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$DialProvider_DialProvider$$.prototype;
$JSCompiler_prototypeAlias$$.$getSinkById$ = function($dialSink$jscomp$3_id$jscomp$65$$) {
  return ($dialSink$jscomp$3_id$jscomp$65$$ = this.$f$.$getSinkById$($dialSink$jscomp$3_id$jscomp$65$$)) ? $dialSink$jscomp$3_id$jscomp$65$$.$F$ : null;
};
$JSCompiler_prototypeAlias$$.$getRoutes$ = function() {
  return this.$g$.$getRoutes$();
};
$JSCompiler_prototypeAlias$$.createRoute = function($sourceUrn$jscomp$51$$, $sinkId$jscomp$36$$, $presentationId$jscomp$20$$, $offTheRecord$jscomp$6$$) {
  var $$jscomp$this$jscomp$74$$ = this, $sink$jscomp$72$$ = this.$f$.$getSinkById$($sinkId$jscomp$36$$);
  if (!$sink$jscomp$72$$) {
    return $mr$DialAnalytics$recordCreateRoute$$(1), $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Unkown sink: " + $sinkId$jscomp$36$$));
  }
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$f$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$($sink$jscomp$72$$.$D$, $sink$jscomp$72$$.$getIpAddress$());
  var $dialMediaSource$jscomp$3$$ = $module$exports$mr$dial$PresentationUrl$create$$($sourceUrn$jscomp$51$$);
  if (!$dialMediaSource$jscomp$3$$) {
    return $mr$DialAnalytics$recordCreateRoute$$(4), $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("No app name set."));
  }
  var $appName$jscomp$26$$ = $dialMediaSource$jscomp$3$$.appName, $dialClient$$ = new $module$contents$mr$dial$Client_Client$$($sink$jscomp$72$$);
  return $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_StaticMethods_getAppInfo$$($dialClient$$, $appName$jscomp$26$$).then(function($appInfo$jscomp$18$$) {
    if ("running" == $appInfo$jscomp$18$$.state) {
      return $JSCompiler_StaticMethods_stopApp$$($dialClient$$, $appName$jscomp$26$$);
    }
  }).then(function() {
    return $dialClient$$.launchApp($appName$jscomp$26$$, $dialMediaSource$jscomp$3$$.launchParameter);
  }).then(function() {
    $mr$DialAnalytics$recordCreateRoute$$(0);
    return $JSCompiler_StaticMethods_module$contents$mr$DialProvider_DialProvider_prototype$addRoute$$($$jscomp$this$jscomp$74$$, $sinkId$jscomp$36$$, $sourceUrn$jscomp$51$$, $appName$jscomp$26$$, $presentationId$jscomp$20$$, $offTheRecord$jscomp$6$$);
  }).catch(function($err$jscomp$23$$) {
    $mr$DialAnalytics$recordCreateRoute$$(3);
    throw $err$jscomp$23$$;
  }));
};
$JSCompiler_prototypeAlias$$.joinRoute = function() {
  return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Not supported"));
};
$JSCompiler_prototypeAlias$$.connectRouteByRouteId = function() {
  return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Not supported"));
};
$JSCompiler_prototypeAlias$$.detachRoute = function() {
};
var $JSCompiler_StaticMethods_module$contents$mr$DialProvider_DialProvider_prototype$addRoute$$ = function($JSCompiler_StaticMethods_module$contents$mr$DialProvider_DialProvider_prototype$addRoute$self$$, $route$jscomp$42_sinkId$jscomp$37$$, $sourceUrn$jscomp$54$$, $appName$jscomp$27$$, $presentationId$jscomp$23$$, $offTheRecord$jscomp$8$$) {
  $route$jscomp$42_sinkId$jscomp$37$$ = $mr$Route$createRoute$$($presentationId$jscomp$23$$, $JSCompiler_StaticMethods_module$contents$mr$DialProvider_DialProvider_prototype$addRoute$self$$.getName(), $route$jscomp$42_sinkId$jscomp$37$$, $sourceUrn$jscomp$54$$, !0, $appName$jscomp$27$$);
  $route$jscomp$42_sinkId$jscomp$37$$.offTheRecord = $offTheRecord$jscomp$8$$;
  $JSCompiler_StaticMethods_module$contents$mr$DialProvider_DialProvider_prototype$addRoute$self$$.$g$.add(new $mr$dial$Activity$$($route$jscomp$42_sinkId$jscomp$37$$, $appName$jscomp$27$$));
  return $route$jscomp$42_sinkId$jscomp$37$$;
};
$module$contents$mr$DialProvider_DialProvider$$.prototype.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkAdded$ = function($sink$jscomp$73$$) {
  this.$h$.onSinkAvailabilityUpdated(this, 1);
  this.$b$ && ($JSCompiler_StaticMethods_maybeStartAppDiscovery_$$(this), $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$scanSink$$(this.$b$, $sink$jscomp$73$$));
  this.$h$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$b$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$($sink$jscomp$73$$.$D$, $sink$jscomp$73$$.$getIpAddress$());
};
$module$contents$mr$DialProvider_DialProvider$$.prototype.$module$contents$mr$DialProvider_DialProvider_prototype$onSinksRemoved$ = function($sinks$jscomp$10$$) {
  var $$jscomp$this$jscomp$75$$ = this;
  if (0 == this.$f$.$b$.size) {
    this.$h$.onSinkAvailabilityUpdated(this, 0);
  }
  $JSCompiler_StaticMethods_maybeStopAppDiscovery_$$(this);
  $sinks$jscomp$10$$.forEach(function($activity$jscomp$inline_2020_sink$jscomp$74_sinkId$jscomp$inline_2019$$) {
    var $JSCompiler_StaticMethods_removeBySinkId$self$jscomp$inline_2018$$ = $$jscomp$this$jscomp$75$$.$g$;
    $activity$jscomp$inline_2020_sink$jscomp$74_sinkId$jscomp$inline_2019$$ = $activity$jscomp$inline_2020_sink$jscomp$74_sinkId$jscomp$inline_2019$$.getId();
    if ($activity$jscomp$inline_2020_sink$jscomp$74_sinkId$jscomp$inline_2019$$ = $JSCompiler_StaticMethods_getBySinkId$$($JSCompiler_StaticMethods_removeBySinkId$self$jscomp$inline_2018$$, $activity$jscomp$inline_2020_sink$jscomp$74_sinkId$jscomp$inline_2019$$)) {
      $JSCompiler_StaticMethods_removeBySinkId$self$jscomp$inline_2018$$.$b$.delete($activity$jscomp$inline_2020_sink$jscomp$74_sinkId$jscomp$inline_2019$$.$mr_dial_Activity$route$.id), $JSCompiler_StaticMethods_onActivityRemoved$$($JSCompiler_StaticMethods_removeBySinkId$self$jscomp$inline_2018$$.$f$, $activity$jscomp$inline_2020_sink$jscomp$74_sinkId$jscomp$inline_2019$$);
    }
  });
  this.$h$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
};
$module$contents$mr$DialProvider_DialProvider$$.prototype.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkUpdated$ = function() {
  this.$h$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
};
var $JSCompiler_StaticMethods_onActivityRemoved$$ = function($JSCompiler_StaticMethods_onActivityRemoved$self$$, $activity$jscomp$13_route$jscomp$43$$) {
  $activity$jscomp$13_route$jscomp$43$$ = $activity$jscomp$13_route$jscomp$43$$.$mr_dial_Activity$route$;
  if ($activity$jscomp$13_route$jscomp$43$$.isLocal) {
    $JSCompiler_StaticMethods_onActivityRemoved$self$$.$h$.onPresentationConnectionStateChanged($activity$jscomp$13_route$jscomp$43$$.id, "terminated");
  }
  $JSCompiler_StaticMethods_maybeStopAppDiscovery_$$($JSCompiler_StaticMethods_onActivityRemoved$self$$);
  $JSCompiler_StaticMethods_onActivityRemoved$self$$.$h$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteRemoved$($activity$jscomp$13_route$jscomp$43$$);
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$DialProvider_DialProvider$$.prototype;
$JSCompiler_prototypeAlias$$.terminateRoute = function($routeId$jscomp$58_sink$jscomp$76$$) {
  var $activity$jscomp$15$$ = this.$g$.$b$.get($routeId$jscomp$58_sink$jscomp$76$$) || null;
  if (!$activity$jscomp$15$$) {
    return $mr$DialAnalytics$recordTerminateRoute$$(1), Promise.reject(new $mr$RouteRequestError$$(3, "Route in DIAL provider not found for routeId " + $routeId$jscomp$58_sink$jscomp$76$$));
  }
  $JSCompiler_StaticMethods_removeByRouteId$$(this.$g$, $routeId$jscomp$58_sink$jscomp$76$$);
  $routeId$jscomp$58_sink$jscomp$76$$ = this.$f$.$getSinkById$($activity$jscomp$15$$.$mr_dial_Activity$route$.sinkId);
  return $routeId$jscomp$58_sink$jscomp$76$$ ? $JSCompiler_StaticMethods_stopApp$$(new $module$contents$mr$dial$Client_Client$$($routeId$jscomp$58_sink$jscomp$76$$), $activity$jscomp$15$$.appName).then(function() {
    $mr$DialAnalytics$recordTerminateRoute$$(0);
    return Promise.resolve();
  }).catch(function($error$jscomp$46$$) {
    $mr$DialAnalytics$recordTerminateRoute$$(3);
    return Promise.reject($error$jscomp$46$$);
  }) : ($mr$DialAnalytics$recordTerminateRoute$$(1), Promise.reject(new $mr$RouteRequestError$$(3, "Sink in DIAL provider not found for sinkId " + $activity$jscomp$15$$.$mr_dial_Activity$route$.sinkId)));
};
$JSCompiler_prototypeAlias$$.$getMirrorSettings$ = function() {
  throw Error("Not implemented.");
};
$JSCompiler_prototypeAlias$$.$getMirrorServiceName$ = function() {
  return null;
};
$JSCompiler_prototypeAlias$$.$onMirrorActivityUpdated$ = function() {
};
$JSCompiler_prototypeAlias$$.sendRouteMessage = function() {
  return Promise.reject(Error("DIAL sending messages is not supported"));
};
$JSCompiler_prototypeAlias$$.sendRouteBinaryMessage = function() {
  return Promise.reject(Error("DIAL sending messages is not supported"));
};
$JSCompiler_prototypeAlias$$.$canRoute$ = function($dialMediaSource$jscomp$4_sourceUrn$jscomp$55$$, $sink$jscomp$77_sinkId$jscomp$40$$) {
  $sink$jscomp$77_sinkId$jscomp$40$$ = this.$f$.$getSinkById$($sink$jscomp$77_sinkId$jscomp$40$$);
  return !$sink$jscomp$77_sinkId$jscomp$40$$ || $mr$MediaSourceUtils$isMirrorSource$$($dialMediaSource$jscomp$4_sourceUrn$jscomp$55$$) ? !1 : ($dialMediaSource$jscomp$4_sourceUrn$jscomp$55$$ = $module$exports$mr$dial$PresentationUrl$create$$($dialMediaSource$jscomp$4_sourceUrn$jscomp$55$$)) ? "available" == $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$$($sink$jscomp$77_sinkId$jscomp$40$$, $dialMediaSource$jscomp$4_sourceUrn$jscomp$55$$.appName) : !1;
};
$JSCompiler_prototypeAlias$$.$canJoin$ = function() {
  return !1;
};
$JSCompiler_prototypeAlias$$.searchSinks = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
$JSCompiler_prototypeAlias$$.createMediaRouteController = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
$JSCompiler_prototypeAlias$$.provideSinks = function($sinks$jscomp$11$$) {
  $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$addSinks$$(this.$f$, $sinks$jscomp$11$$);
};
var $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$ = function($providerManagerCallbacks$jscomp$2$$) {
  this.$o$ = new $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$(this);
  this.$g$ = new $goog$structs$Map$$;
  this.$f$ = $providerManagerCallbacks$jscomp$2$$;
  this.$m$ = this.$l$ = 0;
  this.$h$ = new $goog$structs$Set$$;
  this.$b$ = new $module$contents$mr$DialProvider_DialProvider$$(this, this.$o$);
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$.prototype;
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "cast.DialProviderWrapper";
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [new $module$contents$mr$cast$DialProviderWrapper_PersistentData_$$($JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$(this.$g$), this.$l$, this.$m$, this.$h$.$getValues$())];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  var $savedData$jscomp$10$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$10$$ && ($JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$(this.$g$, $savedData$jscomp$10$$.$f$), this.$l$ = $savedData$jscomp$10$$.sequenceNumber, this.$m$ = $savedData$jscomp$10$$.$g$, $JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll$$(this.$h$, $savedData$jscomp$10$$.$b$));
};
$JSCompiler_prototypeAlias$$.getName = function() {
  return this.$b$.getName();
};
$JSCompiler_prototypeAlias$$.initialize = function($config$jscomp$15$$) {
  this.$b$.initialize($config$jscomp$15$$);
  $mr$PersistentDataManager$register$$(this);
};
$JSCompiler_prototypeAlias$$.$getRoutes$ = function() {
  return this.$b$.$getRoutes$();
};
$JSCompiler_prototypeAlias$$.$getAvailableSinks$ = function($dialUrl_sourceUrn$jscomp$58$$) {
  return ($dialUrl_sourceUrn$jscomp$58$$ = $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$toDialUrl$$($dialUrl_sourceUrn$jscomp$58$$)) ? this.$b$.$getAvailableSinks$($dialUrl_sourceUrn$jscomp$58$$) : $mr$SinkList$EMPTY$$;
};
$JSCompiler_prototypeAlias$$.startObservingMediaSinks = function($dialUrl$jscomp$1_sourceUrn$jscomp$59$$) {
  ($dialUrl$jscomp$1_sourceUrn$jscomp$59$$ = $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$toDialUrl$$($dialUrl$jscomp$1_sourceUrn$jscomp$59$$)) && this.$b$.startObservingMediaSinks($dialUrl$jscomp$1_sourceUrn$jscomp$59$$);
};
$JSCompiler_prototypeAlias$$.stopObservingMediaSinks = function($dialUrl$jscomp$2_sourceUrn$jscomp$60$$) {
  ($dialUrl$jscomp$2_sourceUrn$jscomp$60$$ = $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$toDialUrl$$($dialUrl$jscomp$2_sourceUrn$jscomp$60$$)) && this.$b$.stopObservingMediaSinks($dialUrl$jscomp$2_sourceUrn$jscomp$60$$);
};
$JSCompiler_prototypeAlias$$.startObservingMediaRoutes = function($dialUrl$jscomp$3_sourceUrn$jscomp$61$$) {
  ($dialUrl$jscomp$3_sourceUrn$jscomp$61$$ = $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$toDialUrl$$($dialUrl$jscomp$3_sourceUrn$jscomp$61$$)) && this.$b$.startObservingMediaRoutes($dialUrl$jscomp$3_sourceUrn$jscomp$61$$);
};
$JSCompiler_prototypeAlias$$.stopObservingMediaRoutes = function($dialUrl$jscomp$4_sourceUrn$jscomp$62$$) {
  ($dialUrl$jscomp$4_sourceUrn$jscomp$62$$ = $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$toDialUrl$$($dialUrl$jscomp$4_sourceUrn$jscomp$62$$)) && this.$b$.stopObservingMediaRoutes($dialUrl$jscomp$4_sourceUrn$jscomp$62$$);
};
$JSCompiler_prototypeAlias$$.$getSinkById$ = function($id$jscomp$66$$) {
  return this.$b$.$getSinkById$($id$jscomp$66$$);
};
var $JSCompiler_StaticMethods_doCustomLaunch_$$ = function($JSCompiler_StaticMethods_doCustomLaunch_$self$$, $sourceUrn$jscomp$63$$, $sinkId$jscomp$42$$, $offTheRecord$jscomp$9$$, $presentationId$jscomp$25$$) {
  var $dialUrl$jscomp$5$$ = $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$toDialUrl$$($sourceUrn$jscomp$63$$);
  if (!$dialUrl$jscomp$5$$) {
    return $mr$DialAnalytics$recordCreateRoute$$(4), Promise.reject(Error("Invalid source"));
  }
  var $dialMediaSource$jscomp$5$$ = $module$exports$mr$dial$PresentationUrl$create$$($dialUrl$jscomp$5$$), $sink$jscomp$80$$ = $JSCompiler_StaticMethods_doCustomLaunch_$self$$.$o$.$getSinkById$($sinkId$jscomp$42$$);
  if (!$sink$jscomp$80$$) {
    return $mr$DialAnalytics$recordCreateRoute$$(1), Promise.reject(Error("Attempting custom launch with closed route"));
  }
  var $appName$jscomp$28$$ = $dialMediaSource$jscomp$5$$.appName;
  if (!$appName$jscomp$28$$) {
    return $mr$DialAnalytics$recordCreateRoute$$(2), Promise.reject(Error("No app name given"));
  }
  var $clientId$jscomp$31$$ = $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$getClientId_$$($sourceUrn$jscomp$63$$);
  return $clientId$jscomp$31$$ ? $JSCompiler_StaticMethods_getAppInfo$$(new $module$contents$mr$dial$Client_Client$$($sink$jscomp$80$$), $appName$jscomp$28$$).then(function($appInfo$jscomp$19_launchInfo$$) {
    var $route$jscomp$45$$ = $JSCompiler_StaticMethods_module$contents$mr$DialProvider_DialProvider_prototype$addRoute$$($JSCompiler_StaticMethods_doCustomLaunch_$self$$.$b$, $sinkId$jscomp$42$$, $sourceUrn$jscomp$63$$, $appName$jscomp$28$$, $presentationId$jscomp$25$$, $offTheRecord$jscomp$9$$);
    $appInfo$jscomp$19_launchInfo$$ = {routeId:$route$jscomp$45$$.id, sinkId:$sink$jscomp$80$$.getId(), appName:$appName$jscomp$28$$, $appInfo$:$appInfo$jscomp$19_launchInfo$$, launchParameter:$dialMediaSource$jscomp$5$$.launchParameter, session:null, clientId:null};
    $JSCompiler_StaticMethods_doCustomLaunch_$self$$.$g$.set($route$jscomp$45$$.id, $appInfo$jscomp$19_launchInfo$$);
    var $castReceiver$jscomp$inline_2025_message$jscomp$inline_2028_session$jscomp$inline_2027$$ = $JSCompiler_StaticMethods_createCastReceiver_$$($JSCompiler_StaticMethods_doCustomLaunch_$self$$, $appInfo$jscomp$19_launchInfo$$.sinkId), $JSCompiler_temp_const$jscomp$6435_receiverActionMessage$jscomp$inline_2026$$ = new $mr$cast$InternalMessage$$("receiver_action", {receiver:$castReceiver$jscomp$inline_2025_message$jscomp$inline_2028_session$jscomp$inline_2027$$, action:chrome.cast.$ReceiverAction$.CAST});
    $JSCompiler_temp_const$jscomp$6435_receiverActionMessage$jscomp$inline_2026$$.clientId = $clientId$jscomp$31$$;
    $JSCompiler_StaticMethods_doCustomLaunch_$self$$.$f$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$($appInfo$jscomp$19_launchInfo$$.routeId, $JSCompiler_temp_const$jscomp$6435_receiverActionMessage$jscomp$inline_2026$$);
    $JSCompiler_temp_const$jscomp$6435_receiverActionMessage$jscomp$inline_2026$$ = chrome.cast.$Session$;
    var $sessionId$jscomp$inline_6753$$ = String($JSCompiler_StaticMethods_doCustomLaunch_$self$$.$m$);
    $JSCompiler_StaticMethods_doCustomLaunch_$self$$.$m$ = ($JSCompiler_StaticMethods_doCustomLaunch_$self$$.$m$ + 1) % 9007199254740992;
    $castReceiver$jscomp$inline_2025_message$jscomp$inline_2028_session$jscomp$inline_2027$$ = new $JSCompiler_temp_const$jscomp$6435_receiverActionMessage$jscomp$inline_2026$$($sessionId$jscomp$inline_6753$$, "", $appInfo$jscomp$19_launchInfo$$.appName, [], $castReceiver$jscomp$inline_2025_message$jscomp$inline_2028_session$jscomp$inline_2027$$);
    $appInfo$jscomp$19_launchInfo$$.session = $castReceiver$jscomp$inline_2025_message$jscomp$inline_2028_session$jscomp$inline_2027$$;
    $appInfo$jscomp$19_launchInfo$$.clientId = $clientId$jscomp$31$$;
    $castReceiver$jscomp$inline_2025_message$jscomp$inline_2028_session$jscomp$inline_2027$$ = new $mr$cast$InternalMessage$$("new_session", $castReceiver$jscomp$inline_2025_message$jscomp$inline_2028_session$jscomp$inline_2027$$);
    $castReceiver$jscomp$inline_2025_message$jscomp$inline_2028_session$jscomp$inline_2027$$.clientId = $clientId$jscomp$31$$;
    $JSCompiler_StaticMethods_doCustomLaunch_$self$$.$f$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$($appInfo$jscomp$19_launchInfo$$.routeId, $castReceiver$jscomp$inline_2025_message$jscomp$inline_2028_session$jscomp$inline_2027$$);
    return $route$jscomp$45$$;
  }).catch(function($err$jscomp$24$$) {
    $mr$DialAnalytics$recordCreateRoute$$(3);
    throw $err$jscomp$24$$;
  }) : ($mr$DialAnalytics$recordCreateRoute$$(2), Promise.reject(Error("No client ID")));
};
$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$.prototype.createRoute = function($sourceUrn$jscomp$65$$, $sinkId$jscomp$43$$, $presentationId$jscomp$26$$, $offTheRecord$jscomp$10$$, $timeoutMillis$jscomp$13$$, $opt_origin$jscomp$7$$, $opt_tabId$jscomp$11$$) {
  return $sourceUrn$jscomp$65$$.startsWith("cast-dial:") || $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$APP_NAME_REGEX_$$.test($sourceUrn$jscomp$65$$) ? $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_StaticMethods_doCustomLaunch_$$(this, $sourceUrn$jscomp$65$$, $sinkId$jscomp$43$$, $offTheRecord$jscomp$10$$, $presentationId$jscomp$26$$)) : this.$b$.createRoute($sourceUrn$jscomp$65$$, $sinkId$jscomp$43$$, $presentationId$jscomp$26$$, $offTheRecord$jscomp$10$$, 
  $timeoutMillis$jscomp$13$$, $opt_origin$jscomp$7$$, $opt_tabId$jscomp$11$$);
};
$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$.prototype.terminateRoute = function($routeId$jscomp$63$$) {
  var $launchInfo$jscomp$1$$ = this.$g$.get($routeId$jscomp$63$$);
  if ($launchInfo$jscomp$1$$ && $launchInfo$jscomp$1$$.session && $launchInfo$jscomp$1$$.clientId) {
    var $castReceiverAction_castReceiverActionMessage$$ = {receiver:$JSCompiler_StaticMethods_createCastReceiver_$$(this, $launchInfo$jscomp$1$$.sinkId), action:chrome.cast.$ReceiverAction$.STOP};
    $castReceiverAction_castReceiverActionMessage$$ = new $mr$cast$InternalMessage$$("receiver_action", $castReceiverAction_castReceiverActionMessage$$);
    $castReceiverAction_castReceiverActionMessage$$.clientId = $launchInfo$jscomp$1$$.clientId;
    this.$f$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$($launchInfo$jscomp$1$$.routeId, $castReceiverAction_castReceiverActionMessage$$);
    this.$f$.onPresentationConnectionStateChanged($launchInfo$jscomp$1$$.routeId, "terminated");
  }
  return this.$b$.terminateRoute($routeId$jscomp$63$$);
};
$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$.prototype.sendRouteMessage = function($routeId$jscomp$64$$, $msg$jscomp$82$$, $opt_extraInfo$jscomp$4$$) {
  try {
    var $message$jscomp$111$$ = JSON.parse($msg$jscomp$82$$);
  } catch ($error$jscomp$47$$) {
    return $mr$DialAnalytics$recordParseMessageResult$$(1), Promise.reject($error$jscomp$47$$);
  }
  switch($message$jscomp$111$$.type) {
    case "client_connect":
      return $mr$DialAnalytics$recordParseMessageResult$$(0), $JSCompiler_StaticMethods_requestCustomDialLaunch_$$(this, $routeId$jscomp$64$$, $message$jscomp$111$$.clientId);
    case "custom_dial_launch":
      if (this.$h$.contains($message$jscomp$111$$.sequenceNumber)) {
        return $mr$DialAnalytics$recordParseMessageResult$$(0), $JSCompiler_StaticMethods_onCustomDialLaunchResponse_$$(this, $routeId$jscomp$64$$, $message$jscomp$111$$).then(function($result$jscomp$49$$) {
          $mr$DialAnalytics$recordCreateRoute$$(0);
          return $result$jscomp$49$$;
        }).catch(function($error$jscomp$48$$) {
          $mr$DialAnalytics$recordCreateRoute$$(3);
          throw $error$jscomp$48$$;
        });
      }
      break;
    case "v2_message":
      if ("STOP" == $message$jscomp$111$$.message.type) {
        return $mr$DialAnalytics$recordParseMessageResult$$(0), this.terminateRoute($routeId$jscomp$64$$), Promise.resolve();
      }
  }
  $mr$DialAnalytics$recordParseMessageResult$$(2);
  return this.$b$.sendRouteMessage($routeId$jscomp$64$$, $msg$jscomp$82$$, $opt_extraInfo$jscomp$4$$);
};
$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$.prototype.sendRouteBinaryMessage = function($routeId$jscomp$65$$) {
  return Promise.reject(Error("Route " + $routeId$jscomp$65$$ + " does not support sending binary data."));
};
var $JSCompiler_StaticMethods_onCustomDialLaunchResponse_$$ = function($JSCompiler_StaticMethods_onCustomDialLaunchResponse_$self_dialClient$jscomp$2_sink$jscomp$81$$, $launchInfo$jscomp$3_routeId$jscomp$66$$, $dialLaunchResponse_message$jscomp$114$$) {
  $JSCompiler_StaticMethods_onCustomDialLaunchResponse_$self_dialClient$jscomp$2_sink$jscomp$81$$.$h$.remove($dialLaunchResponse_message$jscomp$114$$.sequenceNumber);
  $dialLaunchResponse_message$jscomp$114$$ = $dialLaunchResponse_message$jscomp$114$$.message;
  $launchInfo$jscomp$3_routeId$jscomp$66$$ = $JSCompiler_StaticMethods_onCustomDialLaunchResponse_$self_dialClient$jscomp$2_sink$jscomp$81$$.$g$.get($launchInfo$jscomp$3_routeId$jscomp$66$$);
  if (!$launchInfo$jscomp$3_routeId$jscomp$66$$) {
    return Promise.reject(Error("Unknown route"));
  }
  if ($dialLaunchResponse_message$jscomp$114$$ && !$dialLaunchResponse_message$jscomp$114$$.doLaunch) {
    return Promise.resolve();
  }
  $JSCompiler_StaticMethods_onCustomDialLaunchResponse_$self_dialClient$jscomp$2_sink$jscomp$81$$ = $JSCompiler_StaticMethods_onCustomDialLaunchResponse_$self_dialClient$jscomp$2_sink$jscomp$81$$.$o$.$getSinkById$($launchInfo$jscomp$3_routeId$jscomp$66$$.sinkId);
  if (!$JSCompiler_StaticMethods_onCustomDialLaunchResponse_$self_dialClient$jscomp$2_sink$jscomp$81$$) {
    return Promise.reject(Error("Custom launch response for sink that no longer exists"));
  }
  $JSCompiler_StaticMethods_onCustomDialLaunchResponse_$self_dialClient$jscomp$2_sink$jscomp$81$$ = new $module$contents$mr$dial$Client_Client$$($JSCompiler_StaticMethods_onCustomDialLaunchResponse_$self_dialClient$jscomp$2_sink$jscomp$81$$);
  var $launchParameter$jscomp$1$$ = $launchInfo$jscomp$3_routeId$jscomp$66$$.launchParameter;
  $launchParameter$jscomp$1$$ = ($dialLaunchResponse_message$jscomp$114$$ ? $dialLaunchResponse_message$jscomp$114$$.launchParameter : null) || $launchParameter$jscomp$1$$;
  return $JSCompiler_StaticMethods_onCustomDialLaunchResponse_$self_dialClient$jscomp$2_sink$jscomp$81$$.launchApp($launchInfo$jscomp$3_routeId$jscomp$66$$.appName, $launchParameter$jscomp$1$$);
}, $JSCompiler_StaticMethods_createCastReceiver_$$ = function($JSCompiler_StaticMethods_createCastReceiver_$self_sink$jscomp$82$$, $castReceiver$jscomp$3_receiverId$jscomp$13_sinkId$jscomp$44$$) {
  $JSCompiler_StaticMethods_createCastReceiver_$self_sink$jscomp$82$$ = $JSCompiler_StaticMethods_createCastReceiver_$self_sink$jscomp$82$$.$o$.$getSinkById$($castReceiver$jscomp$3_receiverId$jscomp$13_sinkId$jscomp$44$$);
  $castReceiver$jscomp$3_receiverId$jscomp$13_sinkId$jscomp$44$$ = $JSCompiler_StaticMethods_generateId$$($module$contents$mr$SinkUtils_SinkUtils$getInstance$$(), $castReceiver$jscomp$3_receiverId$jscomp$13_sinkId$jscomp$44$$);
  $castReceiver$jscomp$3_receiverId$jscomp$13_sinkId$jscomp$44$$ = new chrome.cast.$Receiver$($castReceiver$jscomp$3_receiverId$jscomp$13_sinkId$jscomp$44$$, $JSCompiler_StaticMethods_createCastReceiver_$self_sink$jscomp$82$$.$F$.friendlyName);
  $castReceiver$jscomp$3_receiverId$jscomp$13_sinkId$jscomp$44$$.ipAddress = $JSCompiler_StaticMethods_createCastReceiver_$self_sink$jscomp$82$$.$getIpAddress$();
  $castReceiver$jscomp$3_receiverId$jscomp$13_sinkId$jscomp$44$$.receiverType = chrome.cast.$ReceiverType$.DIAL;
  return $castReceiver$jscomp$3_receiverId$jscomp$13_sinkId$jscomp$44$$;
}, $JSCompiler_StaticMethods_requestCustomDialLaunch_$$ = function($JSCompiler_StaticMethods_requestCustomDialLaunch_$self$$, $routeId$jscomp$67_routeLaunchInfo$$, $clientId$jscomp$33_nextSequenceNumber$jscomp$inline_2031$$) {
  $routeId$jscomp$67_routeLaunchInfo$$ = $JSCompiler_StaticMethods_requestCustomDialLaunch_$self$$.$g$.get($routeId$jscomp$67_routeLaunchInfo$$);
  if (!$routeId$jscomp$67_routeLaunchInfo$$) {
    return Promise.reject(Error("Unknown route"));
  }
  var $castReceiver$jscomp$4_customLaunchRequest$$ = $JSCompiler_StaticMethods_createCastReceiver_$$($JSCompiler_StaticMethods_requestCustomDialLaunch_$self$$, $routeId$jscomp$67_routeLaunchInfo$$.sinkId);
  $castReceiver$jscomp$4_customLaunchRequest$$.receiverType = chrome.cast.$ReceiverType$.DIAL;
  $castReceiver$jscomp$4_customLaunchRequest$$ = new $mr$cast$InternalMessage$$("custom_dial_launch", new chrome.cast.$DialLaunchData$($castReceiver$jscomp$4_customLaunchRequest$$, $routeId$jscomp$67_routeLaunchInfo$$.$appInfo$.state, $routeId$jscomp$67_routeLaunchInfo$$.$appInfo$.extraData));
  $castReceiver$jscomp$4_customLaunchRequest$$.clientId = $clientId$jscomp$33_nextSequenceNumber$jscomp$inline_2031$$;
  $clientId$jscomp$33_nextSequenceNumber$jscomp$inline_2031$$ = $JSCompiler_StaticMethods_requestCustomDialLaunch_$self$$.$l$;
  $JSCompiler_StaticMethods_requestCustomDialLaunch_$self$$.$l$ = ($JSCompiler_StaticMethods_requestCustomDialLaunch_$self$$.$l$ + 1) % 9007199254740992;
  $castReceiver$jscomp$4_customLaunchRequest$$.sequenceNumber = $clientId$jscomp$33_nextSequenceNumber$jscomp$inline_2031$$;
  $JSCompiler_StaticMethods_requestCustomDialLaunch_$self$$.$h$.add($castReceiver$jscomp$4_customLaunchRequest$$.sequenceNumber);
  $JSCompiler_StaticMethods_requestCustomDialLaunch_$self$$.$f$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$($routeId$jscomp$67_routeLaunchInfo$$.routeId, $castReceiver$jscomp$4_customLaunchRequest$$);
  return Promise.resolve();
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$.prototype;
$JSCompiler_prototypeAlias$$.$getMirrorSettings$ = function($sinkId$jscomp$45$$) {
  return this.$b$.$getMirrorSettings$($sinkId$jscomp$45$$);
};
$JSCompiler_prototypeAlias$$.$getMirrorServiceName$ = function($sinkId$jscomp$46$$) {
  return this.$b$.$getMirrorServiceName$($sinkId$jscomp$46$$);
};
$JSCompiler_prototypeAlias$$.$onMirrorActivityUpdated$ = function() {
};
$JSCompiler_prototypeAlias$$.$canRoute$ = function($sourceUrn$jscomp$66$$, $sinkId$jscomp$47$$) {
  return $sourceUrn$jscomp$66$$.startsWith("cast-dial:") || $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$APP_NAME_REGEX_$$.test($sourceUrn$jscomp$66$$) || this.$b$.$canRoute$($sourceUrn$jscomp$66$$, $sinkId$jscomp$47$$);
};
$JSCompiler_prototypeAlias$$.$canJoin$ = function($sourceUrn$jscomp$67$$, $presentationId$jscomp$27$$, $route$jscomp$46$$) {
  return this.$b$.$canJoin$($sourceUrn$jscomp$67$$, $presentationId$jscomp$27$$, $route$jscomp$46$$);
};
$JSCompiler_prototypeAlias$$.connectRouteByRouteId = function($sourceUrn$jscomp$68$$, $routeId$jscomp$69$$, $presentationId$jscomp$28$$, $origin$jscomp$17$$, $tabId$jscomp$29$$) {
  return this.$b$.connectRouteByRouteId($sourceUrn$jscomp$68$$, $routeId$jscomp$69$$, $presentationId$jscomp$28$$, $origin$jscomp$17$$, $tabId$jscomp$29$$);
};
$JSCompiler_prototypeAlias$$.joinRoute = function($sourceUrn$jscomp$69$$, $presentationId$jscomp$29$$, $offTheRecord$jscomp$11$$, $timeoutMillis$jscomp$14$$, $origin$jscomp$18$$, $tabId$jscomp$30$$) {
  return this.$b$.joinRoute($sourceUrn$jscomp$69$$, $presentationId$jscomp$29$$, $offTheRecord$jscomp$11$$, $timeoutMillis$jscomp$14$$, $origin$jscomp$18$$, $tabId$jscomp$30$$);
};
$JSCompiler_prototypeAlias$$.detachRoute = function($routeId$jscomp$70$$) {
  this.$g$.remove($routeId$jscomp$70$$);
  this.$b$.detachRoute($routeId$jscomp$70$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$ = function() {
  this.$f$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
};
$JSCompiler_prototypeAlias$$.onSinkAvailabilityUpdated = function($provider$jscomp$8$$, $availability$jscomp$2$$) {
  this.$f$.onSinkAvailabilityUpdated($provider$jscomp$8$$, $availability$jscomp$2$$);
};
$JSCompiler_prototypeAlias$$.$onRouteAdded$ = function($provider$jscomp$9$$, $route$jscomp$47$$) {
  this.$f$.$onRouteAdded$(this, $route$jscomp$47$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteRemoved$ = function($route$jscomp$48$$) {
  this.$f$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteRemoved$($route$jscomp$48$$);
};
$JSCompiler_prototypeAlias$$.$onRouteUpdated$ = function($route$jscomp$49$$) {
  this.$f$.$onRouteUpdated$($route$jscomp$49$$);
};
$JSCompiler_prototypeAlias$$.$handleMirrorActivityUpdate$ = function() {
};
$JSCompiler_prototypeAlias$$.getMirroringServiceHostForTab = function() {
};
$JSCompiler_prototypeAlias$$.getMirroringServiceHostForDesktop = function() {
};
$JSCompiler_prototypeAlias$$.getMirroringServiceHostForOffscreenTab = function() {
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$ = function($route$jscomp$51$$, $message$jscomp$115$$) {
  this.$f$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$($route$jscomp$51$$, $message$jscomp$115$$);
};
$JSCompiler_prototypeAlias$$.onPresentationConnectionStateChanged = function($routeId$jscomp$71$$, $state$jscomp$5$$) {
  this.$f$.onPresentationConnectionStateChanged($routeId$jscomp$71$$, $state$jscomp$5$$);
};
$JSCompiler_prototypeAlias$$.onPresentationConnectionClosed = function($routeId$jscomp$72$$, $reason$jscomp$23$$, $message$jscomp$116$$) {
  this.$f$.onPresentationConnectionClosed($routeId$jscomp$72$$, $reason$jscomp$23$$, $message$jscomp$116$$);
};
$JSCompiler_prototypeAlias$$.$getProviderFromRouteId$ = function($routeId$jscomp$73$$) {
  return this.$f$.$getProviderFromRouteId$($routeId$jscomp$73$$);
};
$JSCompiler_prototypeAlias$$.$getRouteMessageEventTarget$ = function() {
  return this.$f$.$getRouteMessageEventTarget$();
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$sendIssue$ = function($issue$jscomp$2$$) {
  this.$f$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$sendIssue$($issue$jscomp$2$$);
};
$JSCompiler_prototypeAlias$$.$onInternalMessage$ = function($routeId$jscomp$74$$, $message$jscomp$117$$) {
  this.$f$.$onInternalMessage$($routeId$jscomp$74$$, $message$jscomp$117$$);
};
$JSCompiler_prototypeAlias$$.$onMirrorSessionEnded$ = function($routeId$jscomp$75$$) {
  this.$f$.$onMirrorSessionEnded$($routeId$jscomp$75$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkAdded$ = function($sink$jscomp$83$$) {
  this.$b$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkAdded$($sink$jscomp$83$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinksRemoved$ = function($sinks$jscomp$12$$) {
  this.$b$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinksRemoved$($sinks$jscomp$12$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkUpdated$ = function($sink$jscomp$84$$) {
  this.$b$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkUpdated$($sink$jscomp$84$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$startMirroring$ = function() {
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$updateMirroring$ = function() {
};
$JSCompiler_prototypeAlias$$.searchSinks = function($sourceUrn$jscomp$71$$, $searchCriteria$jscomp$3$$) {
  return this.$b$.searchSinks($sourceUrn$jscomp$71$$, $searchCriteria$jscomp$3$$);
};
$JSCompiler_prototypeAlias$$.provideSinks = function($sinks$jscomp$13$$) {
  this.$b$.provideSinks($sinks$jscomp$13$$);
};
$JSCompiler_prototypeAlias$$.createMediaRouteController = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
$JSCompiler_prototypeAlias$$.$requestKeepAlive$ = function($componentId$jscomp$1$$, $keepAlive$jscomp$2$$) {
  return this.$f$.$requestKeepAlive$($componentId$jscomp$1$$, $keepAlive$jscomp$2$$);
};
$JSCompiler_prototypeAlias$$.$getDeviceCounts$ = function() {
  return this.$b$.$getDeviceCounts$();
};
var $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$toDialUrl$$ = function($JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$) {
  try {
    var $url$jscomp$117$$ = new URL($JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$);
  } catch ($err$jscomp$25$$) {
    return null;
  }
  if ("dial:" == $url$jscomp$117$$.protocol) {
    return $JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$;
  }
  if ("cast-dial:" == $url$jscomp$117$$.protocol) {
    var $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$ = $url$jscomp$117$$;
    $JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$ = "cast-dial:" != $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$.protocol ? null : new $module$contents$mr$cast$DialPresentationUrl_DialPresentationUrl$$($JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$.pathname, $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$.searchParams.get("dialPostData"), 
    $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$.searchParams.get("clientId"));
    $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$ = $JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$.$g$;
    var $dialPostData$jscomp$3$$ = $JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$.$b$;
  } else {
    if ("https:" == $url$jscomp$117$$.protocol) {
      $JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$ = $mr$cast$PresentationUrl$createFromUrl$$($JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$);
      if (!$JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$) {
        return null;
      }
      $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$ = $JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$.$C$;
      $dialPostData$jscomp$3$$ = $JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$.$G$;
    }
  }
  $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$ ? ($JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$ = $dialPostData$jscomp$3$$ || "", $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$ = new URL("dial:" + $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$), $JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$ && 
  $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$.searchParams.set("postData", $JSCompiler_inline_result$jscomp$492_dialPostData$jscomp$inline_2036_presentationUrl$jscomp$18_sourceUrn$jscomp$72$$), $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$ = $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$.toString()) : $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$ = 
  null;
  return $JSCompiler_temp$jscomp$512_dialAppName$jscomp$3_url$jscomp$inline_2033_url$jscomp$inline_2037$$;
}, $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$getClientId_$$ = function($sourceUrn$jscomp$73$$) {
  try {
    var $url$jscomp$118$$ = new URL($sourceUrn$jscomp$73$$);
  } catch ($err$jscomp$26$$) {
    return null;
  }
  return "cast-dial:" == $url$jscomp$118$$.protocol ? $url$jscomp$118$$.searchParams.get("clientId") : "https:" == $url$jscomp$118$$.protocol ? $mr$cast$PresentationUrl$getClientIdFromUrl$$($sourceUrn$jscomp$73$$) : null;
}, $module$contents$mr$cast$DialProviderWrapper_PersistentData_$$ = function($routeLaunchInfoMap$$, $sequenceNumber$$, $sessionSequenceNumber$$, $launchRequestSet$$) {
  this.$f$ = $routeLaunchInfoMap$$;
  this.sequenceNumber = $sequenceNumber$$;
  this.$g$ = $sessionSequenceNumber$$;
  this.$b$ = $launchRequestSet$$;
}, $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$APP_NAME_REGEX_$$ = /__dialAppName__/;
var $goog$uri$utils$splitRe_$$ = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/, $goog$uri$utils$parseQueryData$$ = function($encodedQuery_pairs$jscomp$2$$, $callback$jscomp$375$$) {
  if ($encodedQuery_pairs$jscomp$2$$) {
    $encodedQuery_pairs$jscomp$2$$ = $encodedQuery_pairs$jscomp$2$$.split("&");
    for (var $i$jscomp$237$$ = 0; $i$jscomp$237$$ < $encodedQuery_pairs$jscomp$2$$.length; $i$jscomp$237$$++) {
      var $indexOfEquals$$ = $encodedQuery_pairs$jscomp$2$$[$i$jscomp$237$$].indexOf("="), $value$jscomp$370$$ = null;
      if (0 <= $indexOfEquals$$) {
        var $name$jscomp$166$$ = $encodedQuery_pairs$jscomp$2$$[$i$jscomp$237$$].substring(0, $indexOfEquals$$);
        $value$jscomp$370$$ = $encodedQuery_pairs$jscomp$2$$[$i$jscomp$237$$].substring($indexOfEquals$$ + 1);
      } else {
        $name$jscomp$166$$ = $encodedQuery_pairs$jscomp$2$$[$i$jscomp$237$$];
      }
      $callback$jscomp$375$$($name$jscomp$166$$, $value$jscomp$370$$ ? decodeURIComponent($value$jscomp$370$$.replace(/\+/g, " ")) : "");
    }
  }
}, $goog$uri$utils$appendParam$$ = function($JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$, $key$jscomp$144_queryData$jscomp$inline_8021$$, $hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$) {
  $hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$ = null != $hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$ ? "=" + encodeURIComponent(String($hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$)) : "";
  if ($key$jscomp$144_queryData$jscomp$inline_8021$$ += $hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$) {
    $hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$ = $JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$.indexOf("#");
    0 > $hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$ && ($hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$ = $JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$.length);
    var $questionIndex$jscomp$inline_8024$$ = $JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$.indexOf("?");
    if (0 > $questionIndex$jscomp$inline_8024$$ || $questionIndex$jscomp$inline_8024$$ > $hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$) {
      $questionIndex$jscomp$inline_8024$$ = $hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$;
      var $queryData$jscomp$inline_8025$$ = "";
    } else {
      $queryData$jscomp$inline_8025$$ = $JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$.substring($questionIndex$jscomp$inline_8024$$ + 1, $hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$);
    }
    $JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$ = [$JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$.substr(0, $questionIndex$jscomp$inline_8024$$), $queryData$jscomp$inline_8025$$, $JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$.substr($hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$)];
    $hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$ = $JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$[1];
    $JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$[1] = $key$jscomp$144_queryData$jscomp$inline_8021$$ ? $hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$ ? $hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$ + "&" + $key$jscomp$144_queryData$jscomp$inline_8021$$ : $key$jscomp$144_queryData$jscomp$inline_8021$$ : $hashIndex$jscomp$inline_8023_opt_value$jscomp$31_queryData$jscomp$inline_8026_value$jscomp$372$$;
    $JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$ = $JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$[0] + ($JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$[1] ? "?" + $JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$[1] : "") + $JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$[2];
  }
  return $JSCompiler_inline_result$jscomp$7930_parts$jscomp$inline_8022_uri$jscomp$40$$;
}, $goog$uri$utils$hashOrEndRe_$$ = /#|$/, $goog$uri$utils$getParamValue$$ = function($uri$jscomp$43$$, $keyEncoded$jscomp$2$$) {
  var $hashOrEndIndex$jscomp$1$$ = $uri$jscomp$43$$.search($goog$uri$utils$hashOrEndRe_$$);
  a: {
    var $foundIndex_index$jscomp$inline_8032$$ = 0;
    for (var $endPosition_keyLength$jscomp$inline_8033$$ = $keyEncoded$jscomp$2$$.length; 0 <= ($foundIndex_index$jscomp$inline_8032$$ = $uri$jscomp$43$$.indexOf($keyEncoded$jscomp$2$$, $foundIndex_index$jscomp$inline_8032$$)) && $foundIndex_index$jscomp$inline_8032$$ < $hashOrEndIndex$jscomp$1$$;) {
      var $followingChar$jscomp$inline_8035_precedingChar$jscomp$inline_8034$$ = $uri$jscomp$43$$.charCodeAt($foundIndex_index$jscomp$inline_8032$$ - 1);
      if (38 == $followingChar$jscomp$inline_8035_precedingChar$jscomp$inline_8034$$ || 63 == $followingChar$jscomp$inline_8035_precedingChar$jscomp$inline_8034$$) {
        if ($followingChar$jscomp$inline_8035_precedingChar$jscomp$inline_8034$$ = $uri$jscomp$43$$.charCodeAt($foundIndex_index$jscomp$inline_8032$$ + $endPosition_keyLength$jscomp$inline_8033$$), !$followingChar$jscomp$inline_8035_precedingChar$jscomp$inline_8034$$ || 61 == $followingChar$jscomp$inline_8035_precedingChar$jscomp$inline_8034$$ || 38 == $followingChar$jscomp$inline_8035_precedingChar$jscomp$inline_8034$$ || 35 == $followingChar$jscomp$inline_8035_precedingChar$jscomp$inline_8034$$) {
          break a;
        }
      }
      $foundIndex_index$jscomp$inline_8032$$ += $endPosition_keyLength$jscomp$inline_8033$$ + 1;
    }
    $foundIndex_index$jscomp$inline_8032$$ = -1;
  }
  if (0 > $foundIndex_index$jscomp$inline_8032$$) {
    return null;
  }
  $endPosition_keyLength$jscomp$inline_8033$$ = $uri$jscomp$43$$.indexOf("&", $foundIndex_index$jscomp$inline_8032$$);
  if (0 > $endPosition_keyLength$jscomp$inline_8033$$ || $endPosition_keyLength$jscomp$inline_8033$$ > $hashOrEndIndex$jscomp$1$$) {
    $endPosition_keyLength$jscomp$inline_8033$$ = $hashOrEndIndex$jscomp$1$$;
  }
  $foundIndex_index$jscomp$inline_8032$$ += $keyEncoded$jscomp$2$$.length + 1;
  return decodeURIComponent($uri$jscomp$43$$.substr($foundIndex_index$jscomp$inline_8032$$, $endPosition_keyLength$jscomp$inline_8033$$ - $foundIndex_index$jscomp$inline_8032$$).replace(/\+/g, " "));
}, $goog$uri$utils$appendPath$$ = function($baseUri$$, $path$jscomp$29$$) {
  $goog$asserts$assert$$(0 > $baseUri$$.indexOf("#") && 0 > $baseUri$$.indexOf("?"), "goog.uri.utils: Fragment or query identifiers are not supported: [%s]", $baseUri$$);
  var $l$jscomp$inline_2051$$ = $baseUri$$.length - 1;
  0 <= $l$jscomp$inline_2051$$ && $baseUri$$.indexOf("/", $l$jscomp$inline_2051$$) == $l$jscomp$inline_2051$$ && ($baseUri$$ = $baseUri$$.substr(0, $baseUri$$.length - 1));
  $goog$string$internal$startsWith$$($path$jscomp$29$$, "/") && ($path$jscomp$29$$ = $path$jscomp$29$$.substr(1));
  return $goog$string$buildString$$($baseUri$$, "/", $path$jscomp$29$$);
};
var $goog$Uri$$ = function($opt_uri$$) {
  this.$domain_$ = this.$m$ = this.$g$ = "";
  this.$j$ = null;
  this.$h$ = this.$b$ = "";
  this.$l$ = !1;
  var $m$jscomp$3$$;
  $opt_uri$$ instanceof $goog$Uri$$ ? (this.$l$ = $goog$isDef$$(void 0) ? void 0 : $opt_uri$$.$l$, $JSCompiler_StaticMethods_setScheme$$(this, $opt_uri$$.$g$), this.$m$ = $opt_uri$$.$m$, this.$domain_$ = $opt_uri$$.$domain_$, $JSCompiler_StaticMethods_goog_Uri_prototype$setPort$$(this, $opt_uri$$.$getPort$()), this.$b$ = $opt_uri$$.$b$, $JSCompiler_StaticMethods_setQueryData$$(this, $opt_uri$$.$f$.clone()), this.$h$ = $opt_uri$$.$h$) : $opt_uri$$ && ($m$jscomp$3$$ = String($opt_uri$$).match($goog$uri$utils$splitRe_$$)) ? 
  (this.$l$ = !1, $JSCompiler_StaticMethods_setScheme$$(this, $m$jscomp$3$$[1] || "", !0), this.$m$ = $goog$Uri$decodeOrEmpty_$$($m$jscomp$3$$[2] || ""), this.$domain_$ = $goog$Uri$decodeOrEmpty_$$($m$jscomp$3$$[3] || "", !0), $JSCompiler_StaticMethods_goog_Uri_prototype$setPort$$(this, $m$jscomp$3$$[4]), this.$b$ = $goog$Uri$decodeOrEmpty_$$($m$jscomp$3$$[5] || "", !0), $JSCompiler_StaticMethods_setQueryData$$(this, $m$jscomp$3$$[6] || "", !0), this.$h$ = $goog$Uri$decodeOrEmpty_$$($m$jscomp$3$$[7] || 
  "")) : (this.$l$ = !1, this.$f$ = new $goog$Uri$QueryData$$(null, this.$l$));
};
$goog$Uri$$.prototype.toString = function() {
  var $out$jscomp$3$$ = [], $scheme$jscomp$4_userInfo$$ = this.$g$;
  $scheme$jscomp$4_userInfo$$ && $out$jscomp$3$$.push($goog$Uri$encodeSpecialChars_$$($scheme$jscomp$4_userInfo$$, $goog$Uri$reDisallowedInSchemeOrUserInfo_$$, !0), ":");
  var $domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$ = this.$domain_$;
  if ($domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$ || "file" == $scheme$jscomp$4_userInfo$$) {
    $out$jscomp$3$$.push("//"), ($scheme$jscomp$4_userInfo$$ = this.$m$) && $out$jscomp$3$$.push($goog$Uri$encodeSpecialChars_$$($scheme$jscomp$4_userInfo$$, $goog$Uri$reDisallowedInSchemeOrUserInfo_$$, !0), "@"), $out$jscomp$3$$.push(encodeURIComponent(String($domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), $domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$ = this.$getPort$(), null != $domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$ && 
    $out$jscomp$3$$.push(":", String($domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$));
  }
  if ($domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$ = this.$b$) {
    this.$domain_$ && "/" != $domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$.charAt(0) && $out$jscomp$3$$.push("/"), $out$jscomp$3$$.push($goog$Uri$encodeSpecialChars_$$($domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$, "/" == $domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$.charAt(0) ? $goog$Uri$reDisallowedInAbsolutePath_$$ : $goog$Uri$reDisallowedInRelativePath_$$, !0));
  }
  ($domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$ = this.$f$.toString()) && $out$jscomp$3$$.push("?", $domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$);
  ($domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$ = this.$h$) && $out$jscomp$3$$.push("#", $goog$Uri$encodeSpecialChars_$$($domain$jscomp$3_fragment$jscomp$4_path$jscomp$31_port$jscomp$15_query$jscomp$18$$, $goog$Uri$reDisallowedInFragment_$$));
  return $out$jscomp$3$$.join("");
};
$goog$Uri$$.prototype.resolve = function($relativeUri$$) {
  var $absoluteUri$$ = this.clone(), $overridden$$ = !!$relativeUri$$.$g$;
  $overridden$$ ? $JSCompiler_StaticMethods_setScheme$$($absoluteUri$$, $relativeUri$$.$g$) : $overridden$$ = !!$relativeUri$$.$m$;
  $overridden$$ ? $absoluteUri$$.$m$ = $relativeUri$$.$m$ : $overridden$$ = !!$relativeUri$$.$domain_$;
  $overridden$$ ? $absoluteUri$$.$domain_$ = $relativeUri$$.$domain_$ : $overridden$$ = null != $relativeUri$$.$j$;
  var $leadingSlash$jscomp$inline_2054_path$jscomp$32$$ = $relativeUri$$.$b$;
  if ($overridden$$) {
    $JSCompiler_StaticMethods_goog_Uri_prototype$setPort$$($absoluteUri$$, $relativeUri$$.$getPort$());
  } else {
    if ($overridden$$ = !!$relativeUri$$.$b$) {
      if ("/" != $leadingSlash$jscomp$inline_2054_path$jscomp$32$$.charAt(0)) {
        if (this.$domain_$ && !this.$b$) {
          $leadingSlash$jscomp$inline_2054_path$jscomp$32$$ = "/" + $leadingSlash$jscomp$inline_2054_path$jscomp$32$$;
        } else {
          var $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$ = $absoluteUri$$.$b$.lastIndexOf("/");
          -1 != $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$ && ($leadingSlash$jscomp$inline_2054_path$jscomp$32$$ = $absoluteUri$$.$b$.substr(0, $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$ + 1) + $leadingSlash$jscomp$inline_2054_path$jscomp$32$$);
        }
      }
      $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$ = $leadingSlash$jscomp$inline_2054_path$jscomp$32$$;
      if (".." == $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$ || "." == $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$) {
        $leadingSlash$jscomp$inline_2054_path$jscomp$32$$ = "";
      } else {
        if (-1 != $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$.indexOf("./") || -1 != $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$.indexOf("/.")) {
          $leadingSlash$jscomp$inline_2054_path$jscomp$32$$ = $goog$string$internal$startsWith$$($lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$, "/");
          $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$ = $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$.split("/");
          for (var $out$jscomp$inline_2056$$ = [], $pos$jscomp$inline_2057$$ = 0; $pos$jscomp$inline_2057$$ < $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$.length;) {
            var $segment$jscomp$inline_2058$$ = $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$[$pos$jscomp$inline_2057$$++];
            "." == $segment$jscomp$inline_2058$$ ? $leadingSlash$jscomp$inline_2054_path$jscomp$32$$ && $pos$jscomp$inline_2057$$ == $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$.length && $out$jscomp$inline_2056$$.push("") : ".." == $segment$jscomp$inline_2058$$ ? ((1 < $out$jscomp$inline_2056$$.length || 1 == $out$jscomp$inline_2056$$.length && "" != $out$jscomp$inline_2056$$[0]) && $out$jscomp$inline_2056$$.pop(), $leadingSlash$jscomp$inline_2054_path$jscomp$32$$ && $pos$jscomp$inline_2057$$ == 
            $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$.length && $out$jscomp$inline_2056$$.push("")) : ($out$jscomp$inline_2056$$.push($segment$jscomp$inline_2058$$), $leadingSlash$jscomp$inline_2054_path$jscomp$32$$ = !0);
          }
          $leadingSlash$jscomp$inline_2054_path$jscomp$32$$ = $out$jscomp$inline_2056$$.join("/");
        } else {
          $leadingSlash$jscomp$inline_2054_path$jscomp$32$$ = $lastSlashIndex_path$jscomp$inline_2053_segments$jscomp$inline_2055$$;
        }
      }
    }
  }
  $overridden$$ ? $absoluteUri$$.$b$ = $leadingSlash$jscomp$inline_2054_path$jscomp$32$$ : $overridden$$ = "" !== $relativeUri$$.$f$.toString();
  $overridden$$ ? $JSCompiler_StaticMethods_setQueryData$$($absoluteUri$$, $relativeUri$$.$f$.clone()) : $overridden$$ = !!$relativeUri$$.$h$;
  $overridden$$ && ($absoluteUri$$.$h$ = $relativeUri$$.$h$);
  return $absoluteUri$$;
};
$goog$Uri$$.prototype.clone = function() {
  return new $goog$Uri$$(this);
};
var $JSCompiler_StaticMethods_setScheme$$ = function($JSCompiler_StaticMethods_setScheme$self$$, $newScheme$$, $opt_decode$$) {
  $JSCompiler_StaticMethods_setScheme$self$$.$g$ = $opt_decode$$ ? $goog$Uri$decodeOrEmpty_$$($newScheme$$, !0) : $newScheme$$;
  $JSCompiler_StaticMethods_setScheme$self$$.$g$ && ($JSCompiler_StaticMethods_setScheme$self$$.$g$ = $JSCompiler_StaticMethods_setScheme$self$$.$g$.replace(/:$/, ""));
};
$goog$Uri$$.prototype.$getPort$ = function() {
  return this.$j$;
};
var $JSCompiler_StaticMethods_goog_Uri_prototype$setPort$$ = function($JSCompiler_StaticMethods_goog_Uri_prototype$setPort$self$$, $newPort$$) {
  if ($newPort$$) {
    $newPort$$ = Number($newPort$$);
    if (isNaN($newPort$$) || 0 > $newPort$$) {
      throw Error("Bad port number " + $newPort$$);
    }
    $JSCompiler_StaticMethods_goog_Uri_prototype$setPort$self$$.$j$ = $newPort$$;
  } else {
    $JSCompiler_StaticMethods_goog_Uri_prototype$setPort$self$$.$j$ = null;
  }
}, $JSCompiler_StaticMethods_setQueryData$$ = function($JSCompiler_StaticMethods_setQueryData$self$$, $queryData$jscomp$6$$, $opt_decode$jscomp$4$$) {
  $queryData$jscomp$6$$ instanceof $goog$Uri$QueryData$$ ? ($JSCompiler_StaticMethods_setQueryData$self$$.$f$ = $queryData$jscomp$6$$, $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$$($JSCompiler_StaticMethods_setQueryData$self$$.$f$, $JSCompiler_StaticMethods_setQueryData$self$$.$l$)) : ($opt_decode$jscomp$4$$ || ($queryData$jscomp$6$$ = $goog$Uri$encodeSpecialChars_$$($queryData$jscomp$6$$, $goog$Uri$reDisallowedInQuery_$$)), $JSCompiler_StaticMethods_setQueryData$self$$.$f$ = 
  new $goog$Uri$QueryData$$($queryData$jscomp$6$$, $JSCompiler_StaticMethods_setQueryData$self$$.$l$));
}, $goog$Uri$decodeOrEmpty_$$ = function($val$jscomp$44$$, $opt_preserveReserved$jscomp$1$$) {
  return $val$jscomp$44$$ ? $opt_preserveReserved$jscomp$1$$ ? decodeURI($val$jscomp$44$$.replace(/%25/g, "%2525")) : decodeURIComponent($val$jscomp$44$$) : "";
}, $goog$Uri$encodeSpecialChars_$$ = function($encoded$jscomp$2_unescapedPart$$, $extra$$, $opt_removeDoubleEncoding$$) {
  return $goog$isString$$($encoded$jscomp$2_unescapedPart$$) ? ($encoded$jscomp$2_unescapedPart$$ = encodeURI($encoded$jscomp$2_unescapedPart$$).replace($extra$$, $goog$Uri$encodeChar_$$), $opt_removeDoubleEncoding$$ && ($encoded$jscomp$2_unescapedPart$$ = $encoded$jscomp$2_unescapedPart$$.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), $encoded$jscomp$2_unescapedPart$$) : null;
}, $goog$Uri$encodeChar_$$ = function($ch$jscomp$6_n$jscomp$10$$) {
  $ch$jscomp$6_n$jscomp$10$$ = $ch$jscomp$6_n$jscomp$10$$.charCodeAt(0);
  return "%" + ($ch$jscomp$6_n$jscomp$10$$ >> 4 & 15).toString(16) + ($ch$jscomp$6_n$jscomp$10$$ & 15).toString(16);
}, $goog$Uri$reDisallowedInSchemeOrUserInfo_$$ = /[#\/\?@]/g, $goog$Uri$reDisallowedInRelativePath_$$ = /[#\?:]/g, $goog$Uri$reDisallowedInAbsolutePath_$$ = /[#\?]/g, $goog$Uri$reDisallowedInQuery_$$ = /[#\?@]/g, $goog$Uri$reDisallowedInFragment_$$ = /#/g, $goog$Uri$QueryData$$ = function($opt_query$jscomp$1$$, $opt_ignoreCase$jscomp$3$$) {
  this.$f$ = this.$b$ = null;
  this.$g$ = $opt_query$jscomp$1$$ || null;
  this.$h$ = !!$opt_ignoreCase$jscomp$3$$;
}, $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$ = function($JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$.$b$ || ($JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$.$b$ = new $goog$structs$Map$$, $JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$.$f$ = 0, $JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$.$g$ && $goog$uri$utils$parseQueryData$$($JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$.$g$, function($name$jscomp$169$$, $value$jscomp$375$$) {
    $JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$.add(decodeURIComponent($name$jscomp$169$$.replace(/\+/g, " ")), $value$jscomp$375$$);
  }));
}, $goog$Uri$QueryData$createFromMap$$ = function($map$jscomp$5_values$jscomp$27$$) {
  var $keys$jscomp$12$$ = $goog$structs$getKeys$$($map$jscomp$5_values$jscomp$27$$);
  if ("undefined" == typeof $keys$jscomp$12$$) {
    throw Error("Keys are undefined");
  }
  var $queryData$jscomp$7$$ = new $goog$Uri$QueryData$$(null, void 0);
  $map$jscomp$5_values$jscomp$27$$ = $goog$structs$getValues$$($map$jscomp$5_values$jscomp$27$$);
  for (var $i$jscomp$239$$ = 0; $i$jscomp$239$$ < $keys$jscomp$12$$.length; $i$jscomp$239$$++) {
    var $key$jscomp$148$$ = $keys$jscomp$12$$[$i$jscomp$239$$], $value$jscomp$376$$ = $map$jscomp$5_values$jscomp$27$$[$i$jscomp$239$$];
    $goog$isArray$$($value$jscomp$376$$) ? $JSCompiler_StaticMethods_setValues$$($queryData$jscomp$7$$, $key$jscomp$148$$, $value$jscomp$376$$) : $queryData$jscomp$7$$.add($key$jscomp$148$$, $value$jscomp$376$$);
  }
  return $queryData$jscomp$7$$;
};
$JSCompiler_prototypeAlias$$ = $goog$Uri$QueryData$$.prototype;
$JSCompiler_prototypeAlias$$.$getCount$ = function() {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  return this.$f$;
};
$JSCompiler_prototypeAlias$$.add = function($key$jscomp$149$$, $value$jscomp$377$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  this.$g$ = null;
  $key$jscomp$149$$ = $JSCompiler_StaticMethods_getKeyName_$$(this, $key$jscomp$149$$);
  var $values$jscomp$29$$ = this.$b$.get($key$jscomp$149$$);
  $values$jscomp$29$$ || this.$b$.set($key$jscomp$149$$, $values$jscomp$29$$ = []);
  $values$jscomp$29$$.push($value$jscomp$377$$);
  this.$f$ = $goog$asserts$assertNumber$$(this.$f$) + 1;
  return this;
};
$JSCompiler_prototypeAlias$$.remove = function($key$jscomp$150$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  $key$jscomp$150$$ = $JSCompiler_StaticMethods_getKeyName_$$(this, $key$jscomp$150$$);
  return $JSCompiler_StaticMethods_goog_structs_Map_prototype$containsKey$$(this.$b$, $key$jscomp$150$$) ? (this.$g$ = null, this.$f$ = $goog$asserts$assertNumber$$(this.$f$) - this.$b$.get($key$jscomp$150$$).length, this.$b$.remove($key$jscomp$150$$)) : !1;
};
$JSCompiler_prototypeAlias$$.clear = function() {
  this.$b$ = this.$g$ = null;
  this.$f$ = 0;
};
$JSCompiler_prototypeAlias$$.$isEmpty$ = function() {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  return 0 == this.$f$;
};
var $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$containsKey$$ = function($JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$containsKey$self$$, $key$jscomp$151$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$($JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$containsKey$self$$);
  $key$jscomp$151$$ = $JSCompiler_StaticMethods_getKeyName_$$($JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$containsKey$self$$, $key$jscomp$151$$);
  return $JSCompiler_StaticMethods_goog_structs_Map_prototype$containsKey$$($JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$containsKey$self$$.$b$, $key$jscomp$151$$);
};
$JSCompiler_prototypeAlias$$ = $goog$Uri$QueryData$$.prototype;
$JSCompiler_prototypeAlias$$.$containsValue$ = function($value$jscomp$378$$) {
  var $vals$$ = this.$getValues$();
  return $goog$array$contains$$($vals$$, $value$jscomp$378$$);
};
$JSCompiler_prototypeAlias$$.forEach = function($f$jscomp$66$$, $opt_scope$jscomp$3$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  this.$b$.forEach(function($values$jscomp$30$$, $key$jscomp$152$$) {
    $goog$array$forEach$$($values$jscomp$30$$, function($value$jscomp$379$$) {
      $f$jscomp$66$$.call($opt_scope$jscomp$3$$, $value$jscomp$379$$, $key$jscomp$152$$, this);
    }, this);
  }, this);
};
$JSCompiler_prototypeAlias$$.$getKeys$ = function() {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  for (var $vals$jscomp$1$$ = this.$b$.$getValues$(), $keys$jscomp$14$$ = this.$b$.$getKeys$(), $rv$jscomp$17$$ = [], $i$jscomp$241$$ = 0; $i$jscomp$241$$ < $keys$jscomp$14$$.length; $i$jscomp$241$$++) {
    for (var $val$jscomp$45$$ = $vals$jscomp$1$$[$i$jscomp$241$$], $j$jscomp$12$$ = 0; $j$jscomp$12$$ < $val$jscomp$45$$.length; $j$jscomp$12$$++) {
      $rv$jscomp$17$$.push($keys$jscomp$14$$[$i$jscomp$241$$]);
    }
  }
  return $rv$jscomp$17$$;
};
$JSCompiler_prototypeAlias$$.$getValues$ = function($opt_key$jscomp$8_values$jscomp$31$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  var $rv$jscomp$18$$ = [];
  if ($goog$isString$$($opt_key$jscomp$8_values$jscomp$31$$)) {
    $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$containsKey$$(this, $opt_key$jscomp$8_values$jscomp$31$$) && ($rv$jscomp$18$$ = $goog$array$concat$$($rv$jscomp$18$$, this.$b$.get($JSCompiler_StaticMethods_getKeyName_$$(this, $opt_key$jscomp$8_values$jscomp$31$$))));
  } else {
    $opt_key$jscomp$8_values$jscomp$31$$ = this.$b$.$getValues$();
    for (var $i$jscomp$242$$ = 0; $i$jscomp$242$$ < $opt_key$jscomp$8_values$jscomp$31$$.length; $i$jscomp$242$$++) {
      $rv$jscomp$18$$ = $goog$array$concat$$($rv$jscomp$18$$, $opt_key$jscomp$8_values$jscomp$31$$[$i$jscomp$242$$]);
    }
  }
  return $rv$jscomp$18$$;
};
$JSCompiler_prototypeAlias$$.set = function($key$jscomp$153$$, $value$jscomp$380$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  this.$g$ = null;
  $key$jscomp$153$$ = $JSCompiler_StaticMethods_getKeyName_$$(this, $key$jscomp$153$$);
  $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$containsKey$$(this, $key$jscomp$153$$) && (this.$f$ = $goog$asserts$assertNumber$$(this.$f$) - this.$b$.get($key$jscomp$153$$).length);
  this.$b$.set($key$jscomp$153$$, [$value$jscomp$380$$]);
  this.$f$ = $goog$asserts$assertNumber$$(this.$f$) + 1;
  return this;
};
$JSCompiler_prototypeAlias$$.get = function($key$jscomp$154_values$jscomp$32$$, $opt_default$jscomp$1$$) {
  if (!$key$jscomp$154_values$jscomp$32$$) {
    return $opt_default$jscomp$1$$;
  }
  $key$jscomp$154_values$jscomp$32$$ = this.$getValues$($key$jscomp$154_values$jscomp$32$$);
  return 0 < $key$jscomp$154_values$jscomp$32$$.length ? String($key$jscomp$154_values$jscomp$32$$[0]) : $opt_default$jscomp$1$$;
};
var $JSCompiler_StaticMethods_setValues$$ = function($JSCompiler_StaticMethods_setValues$self$$, $key$jscomp$155$$, $values$jscomp$33$$) {
  $JSCompiler_StaticMethods_setValues$self$$.remove($key$jscomp$155$$);
  0 < $values$jscomp$33$$.length && ($JSCompiler_StaticMethods_setValues$self$$.$g$ = null, $JSCompiler_StaticMethods_setValues$self$$.$b$.set($JSCompiler_StaticMethods_getKeyName_$$($JSCompiler_StaticMethods_setValues$self$$, $key$jscomp$155$$), $goog$array$toArray$$($values$jscomp$33$$)), $JSCompiler_StaticMethods_setValues$self$$.$f$ = $goog$asserts$assertNumber$$($JSCompiler_StaticMethods_setValues$self$$.$f$) + $values$jscomp$33$$.length);
};
$goog$Uri$QueryData$$.prototype.toString = function() {
  if (this.$g$) {
    return this.$g$;
  }
  if (!this.$b$) {
    return "";
  }
  for (var $sb$jscomp$4$$ = [], $keys$jscomp$15$$ = this.$b$.$getKeys$(), $i$jscomp$243$$ = 0; $i$jscomp$243$$ < $keys$jscomp$15$$.length; $i$jscomp$243$$++) {
    var $key$jscomp$156_val$jscomp$46$$ = $keys$jscomp$15$$[$i$jscomp$243$$], $encodedKey$$ = encodeURIComponent(String($key$jscomp$156_val$jscomp$46$$));
    $key$jscomp$156_val$jscomp$46$$ = this.$getValues$($key$jscomp$156_val$jscomp$46$$);
    for (var $j$jscomp$13$$ = 0; $j$jscomp$13$$ < $key$jscomp$156_val$jscomp$46$$.length; $j$jscomp$13$$++) {
      var $param$jscomp$7$$ = $encodedKey$$;
      "" !== $key$jscomp$156_val$jscomp$46$$[$j$jscomp$13$$] && ($param$jscomp$7$$ += "=" + encodeURIComponent(String($key$jscomp$156_val$jscomp$46$$[$j$jscomp$13$$])));
      $sb$jscomp$4$$.push($param$jscomp$7$$);
    }
  }
  return this.$g$ = $sb$jscomp$4$$.join("&");
};
$goog$Uri$QueryData$$.prototype.clone = function() {
  var $rv$jscomp$19$$ = new $goog$Uri$QueryData$$;
  $rv$jscomp$19$$.$g$ = this.$g$;
  this.$b$ && ($rv$jscomp$19$$.$b$ = this.$b$.clone(), $rv$jscomp$19$$.$f$ = this.$f$);
  return $rv$jscomp$19$$;
};
var $JSCompiler_StaticMethods_getKeyName_$$ = function($JSCompiler_StaticMethods_getKeyName_$self$$, $arg$jscomp$12_keyName$$) {
  $arg$jscomp$12_keyName$$ = String($arg$jscomp$12_keyName$$);
  $JSCompiler_StaticMethods_getKeyName_$self$$.$h$ && ($arg$jscomp$12_keyName$$ = $arg$jscomp$12_keyName$$.toLowerCase());
  return $arg$jscomp$12_keyName$$;
}, $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$$ = function($JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$, $ignoreCase$jscomp$1$$) {
  $ignoreCase$jscomp$1$$ && !$JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$.$h$ && ($JSCompiler_StaticMethods_ensureKeyMapInitialized_$$($JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$), $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$.$g$ = null, $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$.$b$.forEach(function($value$jscomp$382$$, $key$jscomp$158$$) {
    var $lowerCase$$ = $key$jscomp$158$$.toLowerCase();
    $key$jscomp$158$$ != $lowerCase$$ && (this.remove($key$jscomp$158$$), $JSCompiler_StaticMethods_setValues$$(this, $lowerCase$$, $value$jscomp$382$$));
  }, $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$));
  $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$.$h$ = $ignoreCase$jscomp$1$$;
};
$goog$Uri$QueryData$$.prototype.extend = function($var_args$jscomp$102$$) {
  for (var $i$jscomp$244$$ = 0; $i$jscomp$244$$ < arguments.length; $i$jscomp$244$$++) {
    $goog$structs$forEach$$(arguments[$i$jscomp$244$$], function($value$jscomp$383$$, $key$jscomp$159$$) {
      this.add($key$jscomp$159$$, $value$jscomp$383$$);
    }, this);
  }
};
var $mr$UdpProxyUtils$sendXhr_$$ = function($url$jscomp$121$$) {
  var $request$jscomp$48$$ = new XMLHttpRequest;
  $request$jscomp$48$$.open("GET", $url$jscomp$121$$, !1);
  $request$jscomp$48$$.send(null);
  return 200 === $request$jscomp$48$$.status ? $request$jscomp$48$$.responseText : null;
};
var $mr$E2ETestService$$ = function() {
  this.$b$ = $mr$Init$providerManager_$$;
  this.$f$ = null;
  this.start = this.start;
  this.stop = this.stop;
  this.stopMirroring = this.$stopMirroring$;
  this.mirrorDesktopViaCastStreaming = this.$mirrorDesktopViaCastStreaming$;
  this.mirrorTabViaCastStreaming = this.$mirrorTabViaCastStreaming$;
  this.getSinksForCastUrn = this.$getSinksForCastUrn$;
};
$JSCompiler_prototypeAlias$$ = $mr$E2ETestService$$.prototype;
$JSCompiler_prototypeAlias$$.start = function() {
  var $castProvider$jscomp$1$$ = $JSCompiler_StaticMethods_getProviderByName$$(this.$b$, "cast");
  $castProvider$jscomp$1$$ && ($castProvider$jscomp$1$$.startObservingMediaSinks("urn:x-org.chromium.media:source:desktop"), $castProvider$jscomp$1$$.startObservingMediaSinks("cast:BE6E4473"));
};
$JSCompiler_prototypeAlias$$.stop = function() {
  var $castProvider$jscomp$2$$ = $JSCompiler_StaticMethods_getProviderByName$$(this.$b$, "cast");
  $castProvider$jscomp$2$$ && ($castProvider$jscomp$2$$.stopObservingMediaSinks("urn:x-org.chromium.media:source:desktop"), $castProvider$jscomp$2$$.stopObservingMediaSinks("cast:BE6E4473"));
};
$JSCompiler_prototypeAlias$$.$stopMirroring$ = function() {
  var $$jscomp$this$jscomp$77$$ = this;
  this.$f$ && this.$b$.terminateRoute(this.$f$).then(function() {
    $$jscomp$this$jscomp$77$$.$f$ = null;
  });
};
$JSCompiler_prototypeAlias$$.$mirrorDesktopViaCastStreaming$ = function($sink$jscomp$85_sinkName$$) {
  var $$jscomp$this$jscomp$78$$ = this;
  ($sink$jscomp$85_sinkName$$ = $JSCompiler_StaticMethods_getSinkByName_$$(this, $sink$jscomp$85_sinkName$$)) && this.$b$.createRoute("urn:x-org.chromium.media:source:desktop", $sink$jscomp$85_sinkName$$.id, "test" + Math.floor(1e6 * Math.random())).then(function($route$jscomp$54$$) {
    $$jscomp$this$jscomp$78$$.$f$ = $route$jscomp$54$$.id;
  });
};
$JSCompiler_prototypeAlias$$.$mirrorTabViaCastStreaming$ = function($sinkName$jscomp$1$$, $url$jscomp$122$$, $proxyServer$jscomp$2$$, $networkProfile$jscomp$1$$) {
  var $$jscomp$this$jscomp$79$$ = this, $sink$jscomp$86$$ = $JSCompiler_StaticMethods_getSinkByName_$$(this, $sinkName$jscomp$1$$);
  if ($sink$jscomp$86$$) {
    if ($proxyServer$jscomp$2$$ && $networkProfile$jscomp$1$$) {
      var $onAnswer$$ = function($ipEndpoint$$) {
        var $endPoint$jscomp$1_receiverIp$jscomp$inline_2075$$ = $ipEndpoint$$.address, $receiverPort$jscomp$inline_2076$$ = $ipEndpoint$$.port, $url$jscomp$inline_2078$$ = new $goog$Uri$$($proxyServer$jscomp$2$$ + "/start"), $queryData$jscomp$inline_2079$$ = new $goog$Uri$QueryData$$;
        $queryData$jscomp$inline_2079$$.set("eureka_ip", $endPoint$jscomp$1_receiverIp$jscomp$inline_2075$$);
        $queryData$jscomp$inline_2079$$.set("mirroring_port", $receiverPort$jscomp$inline_2076$$);
        $queryData$jscomp$inline_2079$$.set("network_profile", $networkProfile$jscomp$1$$);
        $JSCompiler_StaticMethods_setQueryData$$($url$jscomp$inline_2078$$, $queryData$jscomp$inline_2079$$);
        $endPoint$jscomp$1_receiverIp$jscomp$inline_2075$$ = $mr$UdpProxyUtils$sendXhr_$$($url$jscomp$inline_2078$$.toString()).split(":");
        $ipEndpoint$$.address = $endPoint$jscomp$1_receiverIp$jscomp$inline_2075$$[0];
        $ipEndpoint$$.port = Number($endPoint$jscomp$1_receiverIp$jscomp$inline_2075$$[1]);
      }, $onSessionStop$$ = function($ipEndpoint$jscomp$1_ports$jscomp$inline_2082$$) {
        $ipEndpoint$jscomp$1_ports$jscomp$inline_2082$$ = $ipEndpoint$jscomp$1_ports$jscomp$inline_2082$$.port;
        var $url$jscomp$inline_2083$$ = new $goog$Uri$$($proxyServer$jscomp$2$$ + "/stop"), $queryData$jscomp$inline_2084$$ = new $goog$Uri$QueryData$$;
        $queryData$jscomp$inline_2084$$.set("udp_proxy_ports", $ipEndpoint$jscomp$1_ports$jscomp$inline_2082$$);
        $JSCompiler_StaticMethods_setQueryData$$($url$jscomp$inline_2083$$, $queryData$jscomp$inline_2084$$);
        $mr$UdpProxyUtils$sendXhr_$$($url$jscomp$inline_2083$$.toString());
      };
      $JSCompiler_StaticMethods_getMirrorService$$(this.$b$, "cast_streaming").then(function($service$jscomp$6$$) {
        $service$jscomp$6$$.$setTestHooks$({onAnswer:$onAnswer$$, onSessionStop:$onSessionStop$$});
      });
    }
    chrome.tabs.create({url:$url$jscomp$122$$}, function($tab$jscomp$5$$) {
      $$jscomp$this$jscomp$79$$.$b$.createRoute("urn:x-org.chromium.media:source:tab:" + $tab$jscomp$5$$.id, $sink$jscomp$86$$.id, "test" + Math.floor(1e6 * Math.random()), void 0, $tab$jscomp$5$$.id).then(function($route$jscomp$55$$) {
        $$jscomp$this$jscomp$79$$.$f$ = $route$jscomp$55$$.id;
      });
    });
  }
};
$JSCompiler_prototypeAlias$$.$getSinksForCastUrn$ = function() {
  var $provider$jscomp$16$$ = $JSCompiler_StaticMethods_getProviderByName$$(this.$b$, "cast");
  return $provider$jscomp$16$$ ? $provider$jscomp$16$$.$getAvailableSinks$("cast:BE6E4473").sinks : [];
};
var $JSCompiler_StaticMethods_getSinkByName_$$ = function($JSCompiler_StaticMethods_getSinkByName_$self_provider$jscomp$17$$, $sinkName$jscomp$2$$) {
  return ($JSCompiler_StaticMethods_getSinkByName_$self_provider$jscomp$17$$ = $JSCompiler_StaticMethods_getProviderByName$$($JSCompiler_StaticMethods_getSinkByName_$self_provider$jscomp$17$$.$b$, "cast")) ? $JSCompiler_StaticMethods_getSinkByName_$self_provider$jscomp$17$$.$getAvailableSinks$("urn:x-org.chromium.media:source:desktop").sinks.find(function($sink$jscomp$87$$) {
    return $sink$jscomp$87$$.friendlyName == $sinkName$jscomp$2$$;
  }) || null : null;
};
var $mr$SinkSearchCriteria$$ = function($input$jscomp$16$$, $domain$jscomp$4$$) {
  this.input = $input$jscomp$16$$;
  this.domain = $domain$jscomp$4$$;
};
var $mr$ExternalMessageHandler$$ = function($providerManager$jscomp$1$$) {
  this.$b$ = $providerManager$jscomp$1$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.ExternalMessageHandler");
};
$mr$ExternalMessageHandler$$.prototype.onMessage = function($createMeetingCommand_message$jscomp$118$$, $sender$jscomp$3$$, $sendResponse$jscomp$2$$) {
  var $$jscomp$this$jscomp$80$$ = this;
  this.$logger_$.info("Received a message from " + $sender$jscomp$3$$.id + " type: " + $createMeetingCommand_message$jscomp$118$$.type);
  var $mrId$$ = chrome.runtime.id;
  "start" == $createMeetingCommand_message$jscomp$118$$.type ? ($createMeetingCommand_message$jscomp$118$$ = $createMeetingCommand_message$jscomp$118$$.message, this.$b$.searchSinks("pseudo:cloud", "urn:x-org.chromium.media:source:desktop", new $mr$SinkSearchCriteria$$($createMeetingCommand_message$jscomp$118$$.meetingName, $createMeetingCommand_message$jscomp$118$$.domain)).then(function($sink$jscomp$88$$) {
    var $presentationId$jscomp$31$$ = "PresentationId" + $sender$jscomp$3$$.id + $mr$ExternalMessageHandler$presentationCount_$$++;
    $$jscomp$this$jscomp$80$$.$b$.createRoute("urn:x-org.chromium.media:source:desktop", $sink$jscomp$88$$, $presentationId$jscomp$31$$).then(function($route$jscomp$56$$) {
      $sendResponse$jscomp$2$$(new $mr$InternalMessage$$($mrId$$, "route", $route$jscomp$56$$.id));
    }).catch(function($error$jscomp$49$$) {
      $sendResponse$jscomp$2$$(new $mr$InternalMessage$$($mrId$$, "error", $error$jscomp$49$$));
    });
  }, function() {
    $sendResponse$jscomp$2$$(new $mr$InternalMessage$$($mrId$$, "error", Error("Failed to find sink.")));
  })) : "stop" == $createMeetingCommand_message$jscomp$118$$.type ? this.$b$.terminateRoute($createMeetingCommand_message$jscomp$118$$.message.routeId).then(function() {
    $sendResponse$jscomp$2$$(new $mr$InternalMessage$$($mrId$$, "stopped"));
  }) : "subscribe_log_data" == $createMeetingCommand_message$jscomp$118$$.type ? ($mr$Logger$handlers_$$.push(function($record$jscomp$10$$) {
    chrome.runtime.sendMessage($sender$jscomp$3$$.id, new $mr$InternalMessage$$($mrId$$, "log_message", $record$jscomp$10$$));
  }), $sendResponse$jscomp$2$$(new $mr$InternalMessage$$($mrId$$, "subscribed"))) : ($sendResponse$jscomp$2$$(new $mr$InternalMessage$$($mrId$$, "error", Error("Unhandled message type"))), this.$logger_$.error("Unhandled message type " + $createMeetingCommand_message$jscomp$118$$.type));
};
var $mr$ExternalMessageHandler$presentationCount_$$ = 0;
var $module$contents$mr$FixedSizeQueue_FixedSizeQueue$$ = function() {
  this.$b$ = [];
  this.$f$ = [];
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$FixedSizeQueue_FixedSizeQueue$$.prototype;
$JSCompiler_prototypeAlias$$.enqueue = function($item$jscomp$3$$) {
  if (1000 <= this.$getCount$()) {
    if (this.$isEmpty$()) {
      throw Error("Empty queue");
    }
    0 == this.$b$.length && (this.$b$ = this.$f$, this.$b$.reverse(), this.$f$ = []);
    this.$b$.pop();
  }
  this.$f$.push($item$jscomp$3$$);
};
$JSCompiler_prototypeAlias$$.$getCount$ = function() {
  return this.$b$.length + this.$f$.length;
};
$JSCompiler_prototypeAlias$$.$isEmpty$ = function() {
  return 0 == this.$getCount$();
};
$JSCompiler_prototypeAlias$$.$getValues$ = function() {
  var $result$jscomp$52$$ = this.$b$.slice();
  $result$jscomp$52$$.reverse();
  $result$jscomp$52$$.push.apply($result$jscomp$52$$, $$jscomp$arrayFromIterable$$(this.$f$));
  return $result$jscomp$52$$;
};
$JSCompiler_prototypeAlias$$.clear = function() {
  this.$b$ = [];
  this.$f$ = [];
};
var $module$contents$mr$LogManager_LogManager$$ = function() {
  this.$b$ = new $module$contents$mr$FixedSizeQueue_FixedSizeQueue$$;
  this.$f$ = Date.now();
}, $module$contents$mr$LogManager_LogManager$getInstance$$ = function() {
  null == $module$contents$mr$LogManager_LogManager$instance_$$ && ($module$contents$mr$LogManager_LogManager$instance_$$ = new $module$contents$mr$LogManager_LogManager$$);
  return $module$contents$mr$LogManager_LogManager$instance_$$;
};
$module$contents$mr$LogManager_LogManager$$.prototype.init = function() {
  $mr$Logger$level$$ = 1;
  var $browserLogger$$ = $mr$Logger$getInstance$$("browser"), $oldErrorHandler$jscomp$1$$ = window.onerror;
  window.onerror = function($message$jscomp$119$$, $url$jscomp$123$$, $line$jscomp$1$$, $col$jscomp$18$$, $error$jscomp$50$$) {
    try {
      var $gapiError$$ = $error$jscomp$50$$.result.error.errors[0];
      if ("usageLimits" == $gapiError$$.domain && "accessNotConfigured" == $gapiError$$.reason) {
        return !0;
      }
    } catch ($err$jscomp$27$$) {
    }
    $oldErrorHandler$jscomp$1$$ && $oldErrorHandler$jscomp$1$$($message$jscomp$119$$, $url$jscomp$123$$, $line$jscomp$1$$, $col$jscomp$18$$, $error$jscomp$50$$);
    $browserLogger$$.error("Error: " + $message$jscomp$119$$ + " (" + $url$jscomp$123$$ + " @ Line: " + $line$jscomp$1$$ + ")", $error$jscomp$50$$);
  };
  $mr$Logger$handlers_$$.push(this.$h$.bind(this));
  var $consoleValue_debugLevel$$ = window.localStorage["debug.logs"];
  $consoleValue_debugLevel$$ && ($mr$Logger$level$$ = $mr$Logger$stringToLevel$$($consoleValue_debugLevel$$.toUpperCase()));
  ($consoleValue_debugLevel$$ = window.localStorage["debug.console"]) && "false" != $consoleValue_debugLevel$$.toLowerCase() && $mr$Logger$handlers_$$.push(this.$g$.bind(this));
};
$module$contents$mr$LogManager_LogManager$$.prototype.$h$ = function($exception$jscomp$13_logRecord$jscomp$4$$) {
  this.$b$.enqueue($JSCompiler_StaticMethods_formatRecord_$$(this, $exception$jscomp$13_logRecord$jscomp$4$$, !1));
  $exception$jscomp$13_logRecord$jscomp$4$$ = $exception$jscomp$13_logRecord$jscomp$4$$.$exception$;
  $exception$jscomp$13_logRecord$jscomp$4$$ instanceof Error && $exception$jscomp$13_logRecord$jscomp$4$$.stack && this.$b$.enqueue($exception$jscomp$13_logRecord$jscomp$4$$.stack);
};
$module$contents$mr$LogManager_LogManager$$.prototype.$g$ = function($logRecord$jscomp$5$$) {
  var $args$jscomp$26$$ = [$JSCompiler_StaticMethods_formatRecord_$$(this, $logRecord$jscomp$5$$, !0)];
  $logRecord$jscomp$5$$.$exception$ && $args$jscomp$26$$.push($logRecord$jscomp$5$$.$exception$);
  switch($logRecord$jscomp$5$$.level) {
    case 3:
      console.error.apply(console, $$jscomp$arrayFromIterable$$($args$jscomp$26$$));
      break;
    case 2:
      console.warn.apply(console, $$jscomp$arrayFromIterable$$($args$jscomp$26$$));
      break;
    case 1:
      console.log.apply(console, $$jscomp$arrayFromIterable$$($args$jscomp$26$$));
      break;
    default:
      console.debug.apply(console, $$jscomp$arrayFromIterable$$($args$jscomp$26$$));
  }
};
var $JSCompiler_StaticMethods_formatRecord_$$ = function($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$6$$, $record$jscomp$11$$, $forConsole$$) {
  var $sb$jscomp$5$$ = ["["];
  if ($forConsole$$) {
    $sb$jscomp$5$$.push(("       " + ((Date.now() - $JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$6$$.$f$) / 1000).toFixed(3)).slice(-7));
  } else {
    $JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$6$$ = new Date($record$jscomp$11$$.time);
    var $twoDigitStr$$ = function($num$jscomp$24$$) {
      return 10 > $num$jscomp$24$$ ? "0" + $num$jscomp$24$$ : $num$jscomp$24$$;
    };
    $sb$jscomp$5$$.push($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$6$$.getFullYear().toString(), "-", $twoDigitStr$$($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$6$$.getMonth() + 1), "-", $twoDigitStr$$($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$6$$.getDate()), " ", $twoDigitStr$$($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$6$$.getHours()), ":", $twoDigitStr$$($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$6$$.getMinutes()), ":", $twoDigitStr$$($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$6$$.getSeconds()), 
    ".", $twoDigitStr$$(Math.floor($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$6$$.getMilliseconds() / 10)));
  }
  $sb$jscomp$5$$.push("][", $mr$Logger$LEVEL_NAMES_$$[$record$jscomp$11$$.level], "][", $record$jscomp$11$$.$logger$, "] ", $record$jscomp$11$$.message);
  if (!$forConsole$$ && null != $record$jscomp$11$$.$exception$) {
    if ($sb$jscomp$5$$.push("\n"), $record$jscomp$11$$.$exception$ instanceof Error) {
      $sb$jscomp$5$$.push($record$jscomp$11$$.$exception$.message);
    } else {
      try {
        $sb$jscomp$5$$.push(JSON.stringify($record$jscomp$11$$.$exception$));
      } catch ($e$jscomp$62$$) {
        $sb$jscomp$5$$.push($record$jscomp$11$$.$exception$.toString());
      }
    }
  }
  $sb$jscomp$5$$.push("\n");
  return $sb$jscomp$5$$.join("");
}, $JSCompiler_StaticMethods_getLogs$$ = function() {
  var $JSCompiler_StaticMethods_getLogs$self$$ = $module$contents$mr$LogManager_LogManager$getInstance$$();
  return 0 == $JSCompiler_StaticMethods_getLogs$self$$.$b$.$getCount$() ? "NA" : $JSCompiler_StaticMethods_getLogs$self$$.$b$.$getValues$().join("");
};
$module$contents$mr$LogManager_LogManager$$.prototype.$getStorageKey$ = function() {
  return "LogManager";
};
$module$contents$mr$LogManager_LogManager$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [this.$b$.$getValues$()];
};
$module$contents$mr$LogManager_LogManager$$.prototype.$loadSavedData$ = function() {
  var $$jscomp$iter$239_currentLogs$$ = this.$b$.$getValues$();
  this.$b$.clear();
  for (var $$jscomp$iter$238$$ = $$jscomp$makeIterator$$($mr$PersistentDataManager$getTemporaryData$$(this) || []), $$jscomp$key$log$$ = $$jscomp$iter$238$$.next(); !$$jscomp$key$log$$.done; $$jscomp$key$log$$ = $$jscomp$iter$238$$.next()) {
    this.$b$.enqueue($$jscomp$key$log$$.value);
  }
  $$jscomp$iter$239_currentLogs$$ = $$jscomp$makeIterator$$($$jscomp$iter$239_currentLogs$$);
  for ($$jscomp$key$log$$ = $$jscomp$iter$239_currentLogs$$.next(); !$$jscomp$key$log$$.done; $$jscomp$key$log$$ = $$jscomp$iter$239_currentLogs$$.next()) {
    this.$b$.enqueue($$jscomp$key$log$$.value);
  }
};
var $module$contents$mr$LogManager_LogManager$instance_$$ = null;
var $mr$InternalMessageHandler$$ = function($providerManager$jscomp$2$$) {
  this.$b$ = $providerManager$jscomp$2$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.InternalMessageHandler");
};
$mr$InternalMessageHandler$$.prototype.onMessage = function($logUploadPromise_mediaSinkServiceStatusPromise_message$jscomp$120$$, $allPromises_sender$jscomp$4$$, $sendResponse$jscomp$3$$) {
  var $$jscomp$this$jscomp$81$$ = this;
  if ("retrieve_log_data" != $logUploadPromise_mediaSinkServiceStatusPromise_message$jscomp$120$$.type) {
    $sendResponse$jscomp$3$$(new $mr$InternalMessage$$(chrome.runtime.id, "error", Error("Unhandled message type")));
  } else {
    var $response$jscomp$11$$ = {logs:$JSCompiler_StaticMethods_getLogs$$(), device:$JSCompiler_StaticMethods_getRecentDevice$$()};
    $allPromises_sender$jscomp$4$$ = [];
    var $getVersionPromise$$ = $module$contents$mr$DongleUtils_DongleUtils$getSetupInfo$$($response$jscomp$11$$.device.ip).then(function($info$jscomp$7$$) {
      $info$jscomp$7$$.$b$ && ($response$jscomp$11$$.device.version = $info$jscomp$7$$.$b$);
    });
    $allPromises_sender$jscomp$4$$.push($getVersionPromise$$);
    var $lastUsedMirrorService$$ = this.$b$.$C$;
    $lastUsedMirrorService$$ && ($logUploadPromise_mediaSinkServiceStatusPromise_message$jscomp$120$$ = $JSCompiler_StaticMethods_loadMirrorServiceAndRequestLogUpload_$$(this, $lastUsedMirrorService$$, $logUploadPromise_mediaSinkServiceStatusPromise_message$jscomp$120$$.source).then(function($logUrl$$) {
      $logUrl$$ && ($response$jscomp$11$$.castStreamingLogs = $logUrl$$);
    }, function() {
      $$jscomp$this$jscomp$81$$.$logger_$.error("Log upload failed for service: " + $lastUsedMirrorService$$);
    }), $allPromises_sender$jscomp$4$$.push($logUploadPromise_mediaSinkServiceStatusPromise_message$jscomp$120$$));
    $response$jscomp$11$$.dialDeviceCounts = $JSCompiler_StaticMethods_getDialDeviceCounts_$$(this);
    $allPromises_sender$jscomp$4$$.push($JSCompiler_StaticMethods_addDeviceCounts_$$(this, $response$jscomp$11$$));
    $logUploadPromise_mediaSinkServiceStatusPromise_message$jscomp$120$$ = this.$b$.getMediaSinkServiceStatus().then(function($result$jscomp$53$$) {
      $response$jscomp$11$$.mediaSinkServiceStatus = $result$jscomp$53$$.status;
    }, function() {
      $$jscomp$this$jscomp$81$$.$logger_$.error("Fail to get media sink service status");
    });
    $allPromises_sender$jscomp$4$$.push($logUploadPromise_mediaSinkServiceStatusPromise_message$jscomp$120$$);
    this.$b$.config && ($response$jscomp$11$$.mirroringServiceEnabled = this.$b$.config.use_mirroring_service, $response$jscomp$11$$.nativeCastMrpEnabled = !this.$b$.config.enable_cast_sink_query, $response$jscomp$11$$.nativeDialMrpEnabled = !this.$b$.config.enable_dial_sink_query);
    $mr$PromiseUtils$allSettled$$($allPromises_sender$jscomp$4$$).then(function() {
      $sendResponse$jscomp$3$$($response$jscomp$11$$);
    });
  }
};
var $JSCompiler_StaticMethods_addDeviceCounts_$$ = function($JSCompiler_StaticMethods_addDeviceCounts_$self$$, $response$jscomp$12$$) {
  return $mr$Module$load$$("mr.cast.SinkDiscoveryService").then(function($deviceCounts$jscomp$3_module$jscomp$5$$) {
    $deviceCounts$jscomp$3_module$jscomp$5$$ = $deviceCounts$jscomp$3_module$jscomp$5$$.$getDeviceCounts$();
    $response$jscomp$12$$.castDeviceCounts = $deviceCounts$jscomp$3_module$jscomp$5$$.$knownDeviceCount$ + "." + $deviceCounts$jscomp$3_module$jscomp$5$$.$availableDeviceCount$;
  }, function() {
    $JSCompiler_StaticMethods_addDeviceCounts_$self$$.$logger_$.error("Failed to get device counts for castDeviceCounts.");
  });
}, $JSCompiler_StaticMethods_getDialDeviceCounts_$$ = function($JSCompiler_StaticMethods_getDialDeviceCounts_$self_dialCounts_dialProvider$$) {
  $JSCompiler_StaticMethods_getDialDeviceCounts_$self_dialCounts_dialProvider$$ = $JSCompiler_StaticMethods_getProviderByName$$($JSCompiler_StaticMethods_getDialDeviceCounts_$self_dialCounts_dialProvider$$.$b$, "dial");
  if (!$JSCompiler_StaticMethods_getDialDeviceCounts_$self_dialCounts_dialProvider$$) {
    return "";
  }
  $JSCompiler_StaticMethods_getDialDeviceCounts_$self_dialCounts_dialProvider$$ = $JSCompiler_StaticMethods_getDialDeviceCounts_$self_dialCounts_dialProvider$$.$getDeviceCounts$();
  return $JSCompiler_StaticMethods_getDialDeviceCounts_$self_dialCounts_dialProvider$$.$knownDeviceCount$ + "." + $JSCompiler_StaticMethods_getDialDeviceCounts_$self_dialCounts_dialProvider$$.$availableDeviceCount$;
}, $JSCompiler_StaticMethods_loadMirrorServiceAndRequestLogUpload_$$ = function($JSCompiler_StaticMethods_loadMirrorServiceAndRequestLogUpload_$self$$, $mirrorServiceName$$, $feedbackId$jscomp$1$$) {
  return $JSCompiler_StaticMethods_getMirrorService$$($JSCompiler_StaticMethods_loadMirrorServiceAndRequestLogUpload_$self$$.$b$, $mirrorServiceName$$).then(function($service$jscomp$7$$) {
    return $service$jscomp$7$$.$mr_mirror_Service_prototype$requestLogUpload$($feedbackId$jscomp$1$$);
  });
};
var $module$exports$mr$cloud$CloudAnalytics$KnockResult$$ = {ACCEPTED:0, $DENIED$:1, TIMEOUT:2}, $module$exports$mr$cloud$CloudAnalytics$SessionStartResult$$ = {SUCCESS:0, $FAILURE$:1}, $module$exports$mr$cloud$CloudAnalytics$SessionEndReason$$ = {$USER_ENDED$:0, $RECEIVER_ENDED$:1, $WEBRTC_SESSION_FAILED$:2, $HANGOUT_INVALID$:3, $HANGOUT_INACTIVE$:4, $MIRRORING_FAILED$:5, TIMEOUT:6, $PRESENTATION_FAILED$:7}, $module$exports$mr$cloud$CloudAnalytics$SessionTypeValue$$ = {$HANGOUTS$:0, $STREAMING_RECEIVER$:1}, 
$module$exports$mr$cloud$CloudAnalytics$UserRoleValue$$ = {$OWNER$:0, $MANAGER$:1, USER:2, $GUEST$:3}, $module$exports$mr$cloud$CloudAnalytics$recordKnockResult$$ = function($result$jscomp$54$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cloud.Knock.Result", $result$jscomp$54$$, $module$exports$mr$cloud$CloudAnalytics$KnockResult$$);
}, $module$exports$mr$cloud$CloudAnalytics$recordSessionStarted$$ = function($result$jscomp$55$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cloud.Session.Start", $result$jscomp$55$$, $module$exports$mr$cloud$CloudAnalytics$SessionStartResult$$);
}, $module$exports$mr$cloud$CloudAnalytics$recordSessionType$$ = function($value$jscomp$384$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cloud.Session.Type", $value$jscomp$384$$, $module$exports$mr$cloud$CloudAnalytics$SessionTypeValue$$);
}, $module$exports$mr$cloud$CloudAnalytics$recordUserRole$$ = function($value$jscomp$385$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cloud.Device.UserRole", $value$jscomp$385$$, $module$exports$mr$cloud$CloudAnalytics$UserRoleValue$$);
};
var $mr$cloud$ApiaryConfig_$$ = function($apiUrl$$, $unauthenticatedAccessKey$$) {
  this.$b$ = $apiUrl$$;
  this.$f$ = $unauthenticatedAccessKey$$;
}, $mr$cloud$WEAVE_CONFIG$$ = new $mr$cloud$ApiaryConfig_$$("https://www.googleapis.com/clouddevices/v1", "AIzaSyAOZM8ZYeov685QMjXT3sC7XNizfrTEKjA"), $mr$cloud$SLARTI_CONFIG$$ = new $mr$cloud$ApiaryConfig_$$("https://autopush-castedumessaging-pa.sandbox.googleapis.com/v1", "AIzaSyAOZM8ZYeov685QMjXT3sC7XNizfrTEKjA"), $mr$cloud$CALENDAR_CONFIG$$ = new $mr$cloud$ApiaryConfig_$$("https://www.googleapis.com/calendar/v3", ""), $mr$cloud$MESI_CONFIG$$ = new $mr$cloud$ApiaryConfig_$$("https://www.googleapis.com/hangouts/v1", 
""), $mr$cloud$TURN_CREDS_CONFIG$$ = new $mr$cloud$ApiaryConfig_$$("https://networktraversal.googleapis.com/v1alpha", "AIzaSyAOZM8ZYeov685QMjXT3sC7XNizfrTEKjA");
var $mr$cloud$mesi$HangoutInfo$$ = function($isMeeting$$, $id$jscomp$67$$, $domain$jscomp$5$$, $meetingName$$, $title$jscomp$17$$, $resolvedId$$) {
  $domain$jscomp$5$$ = void 0 === $domain$jscomp$5$$ ? null : $domain$jscomp$5$$;
  $meetingName$$ = void 0 === $meetingName$$ ? null : $meetingName$$;
  $title$jscomp$17$$ = void 0 === $title$jscomp$17$$ ? null : $title$jscomp$17$$;
  $resolvedId$$ = void 0 === $resolvedId$$ ? null : $resolvedId$$;
  $isMeeting$$ ? $goog$asserts$assert$$(null == $domain$jscomp$5$$) : null == $domain$jscomp$5$$ && ($domain$jscomp$5$$ = "default");
  this.$isMeeting_$ = $isMeeting$$;
  this.$id_$ = $id$jscomp$67$$;
  this.$domain_$ = $domain$jscomp$5$$;
  this.$meetingName_$ = $meetingName$$;
  this.$title_$ = $title$jscomp$17$$;
  this.$resolvedId_$ = $resolvedId$$;
}, $mr$cloud$mesi$HangoutInfo$fromKeyAndService$$ = function($isMeeting$jscomp$1$$, $hangoutKey$$, $opt_hangoutService$$, $opt_domain$jscomp$2$$, $opt_meetingName$$, $opt_title$jscomp$1$$, $opt_resolvedId$$) {
  $goog$asserts$assert$$($isMeeting$jscomp$1$$ || void 0 != $opt_hangoutService$$);
  return new $mr$cloud$mesi$HangoutInfo$$($isMeeting$jscomp$1$$, $isMeeting$jscomp$1$$ ? $hangoutKey$$ : $hangoutKey$$ + "@" + $opt_hangoutService$$, $opt_domain$jscomp$2$$, $opt_meetingName$$, $opt_title$jscomp$1$$, $opt_resolvedId$$);
};
$mr$cloud$mesi$HangoutInfo$$.prototype.$f$ = function() {
  var $displayName$jscomp$1$$ = "";
  this.$title_$ ? $displayName$jscomp$1$$ = this.$title_$ : this.$meetingName_$ && ($displayName$jscomp$1$$ = this.$meetingName_$);
  return $goog$asserts$assert$$($displayName$jscomp$1$$, "Missing Hangout display name forHangout id: " + this.getId());
};
$mr$cloud$mesi$HangoutInfo$$.prototype.$isMeeting$ = function() {
  return this.$isMeeting_$;
};
$mr$cloud$mesi$HangoutInfo$$.prototype.getId = function() {
  return this.$id_$;
};
$mr$cloud$mesi$HangoutInfo$$.prototype.merge = function($other$jscomp$11$$) {
  !this.$resolvedId_$ && $other$jscomp$11$$.$resolvedId_$ && (this.$resolvedId_$ = $other$jscomp$11$$.$resolvedId_$);
  !this.$title_$ && $other$jscomp$11$$.$title_$ && (this.$title_$ = $other$jscomp$11$$.$title_$);
  this.$title_$ && $other$jscomp$11$$.$title_$ && this.$resolvedId_$ && (this.$title_$ = $other$jscomp$11$$.$title_$);
  $goog$asserts$assert$$(this.$meetingName_$ == $other$jscomp$11$$.$meetingName_$);
  $goog$asserts$assert$$(this.$domain_$ == $other$jscomp$11$$.$domain_$);
};
var $mr$cloud$calendar$CalendarService$$ = function($gapiService$$, $identityService$$) {
  this.$f$ = $gapiService$$;
  this.$g$ = $identityService$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.calendar.CalendarService");
}, $JSCompiler_StaticMethods_findProximalHangouts$$ = function($JSCompiler_StaticMethods_findProximalHangouts$self$$) {
  var $userEmail$jscomp$1$$ = $goog$asserts$assert$$($JSCompiler_StaticMethods_findProximalHangouts$self$$.$g$.$f$, "No user email to use as calendar id to query for events.");
  return $JSCompiler_StaticMethods_getCurrentEventsFromCalendar_$$($JSCompiler_StaticMethods_findProximalHangouts$self$$, $userEmail$jscomp$1$$).then(function($events$jscomp$1$$) {
    $JSCompiler_StaticMethods_findProximalHangouts$self$$.$logger_$.info($JSCompiler_StaticMethods_getAbstractCount_$$($events$jscomp$1$$.length) + " events discovered before filtering.");
    return $JSCompiler_StaticMethods_getHangoutsFromEvents_$$($JSCompiler_StaticMethods_findProximalHangouts$self$$, $events$jscomp$1$$);
  }, function($error$jscomp$51$$) {
    $JSCompiler_StaticMethods_findProximalHangouts$self$$.$logger_$.$warning$("Error getting Hangouts from calendar.", $error$jscomp$51$$);
    return [];
  });
}, $JSCompiler_StaticMethods_getAbstractCount_$$ = function($count$jscomp$30$$) {
  return 20 < $count$jscomp$30$$ ? "20+" : $count$jscomp$30$$.toString();
}, $JSCompiler_StaticMethods_getCurrentEventsFromCalendar_$$ = function($JSCompiler_StaticMethods_getCurrentEventsFromCalendar_$self$$, $calendarId$$) {
  var $now$jscomp$1$$ = Date.now();
  return $JSCompiler_StaticMethods_getCalendarEvents_$$($JSCompiler_StaticMethods_getCurrentEventsFromCalendar_$self$$, $calendarId$$, new Date($now$jscomp$1$$), new Date($now$jscomp$1$$ + 9E5)).then(function($events$jscomp$2$$) {
    return $events$jscomp$2$$.filter($JSCompiler_StaticMethods_getCurrentEventsFromCalendar_$self$$.$b$);
  });
};
$mr$cloud$calendar$CalendarService$$.prototype.$b$ = function($event$jscomp$19$$) {
  return !(!$event$jscomp$19$$.start || !$event$jscomp$19$$.end || $event$jscomp$19$$.start.date || $event$jscomp$19$$.end.date || !$event$jscomp$19$$.start.dateTime || !$event$jscomp$19$$.end.dateTime);
};
var $JSCompiler_StaticMethods_getCalendarEvents_$$ = function($JSCompiler_StaticMethods_getCalendarEvents_$self$$, $calendarId$jscomp$1_path$jscomp$34$$, $timeMin$$, $timeMax$$) {
  $calendarId$jscomp$1_path$jscomp$34$$ = $JSCompiler_StaticMethods_formUri$$($mr$cloud$CALENDAR_CONFIG$$.$b$, ["calendars", $calendarId$jscomp$1_path$jscomp$34$$, "events"], {timeMin:$timeMin$$.toJSON(), timeMax:$timeMax$$.toJSON(), singleEvents:!0});
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_getCalendarEvents_$self$$.$logger_$, "Retrieving Hangouts from Calendar: " + $calendarId$jscomp$1_path$jscomp$34$$);
  return $JSCompiler_StaticMethods_callWithAuth$$($JSCompiler_StaticMethods_getCalendarEvents_$self$$.$f$, $calendarId$jscomp$1_path$jscomp$34$$, "GET").then(function($resp$$) {
    return $resp$$.items ? $resp$$.items : [];
  });
}, $JSCompiler_StaticMethods_getHangoutsFromEvents_$$ = function($JSCompiler_StaticMethods_getHangoutsFromEvents_$self$$, $events$jscomp$3$$) {
  var $hangouts$$ = [];
  $events$jscomp$3$$.filter(function($event$jscomp$20$$) {
    return $event$jscomp$20$$.hangoutLink;
  }).forEach(function($event$jscomp$21$$) {
    var $service$jscomp$8_serviceAndKeyValue_uri$jscomp$52$$ = new $goog$Uri$$($event$jscomp$21$$.hangoutLink);
    if ("meet.google.com" == $service$jscomp$8_serviceAndKeyValue_uri$jscomp$52$$.$domain_$) {
      $hangouts$$.push(new $mr$cloud$mesi$HangoutInfo$$(!0, $service$jscomp$8_serviceAndKeyValue_uri$jscomp$52$$.$b$.substring(1), void 0, void 0, $event$jscomp$21$$.summary));
    } else {
      if ($service$jscomp$8_serviceAndKeyValue_uri$jscomp$52$$ = $service$jscomp$8_serviceAndKeyValue_uri$jscomp$52$$.$b$.substring(12).split("/"), 2 == $service$jscomp$8_serviceAndKeyValue_uri$jscomp$52$$.length) {
        var $$jscomp$destructuring$var9_keyValue$320$$ = $$jscomp$makeIterator$$($service$jscomp$8_serviceAndKeyValue_uri$jscomp$52$$);
        $service$jscomp$8_serviceAndKeyValue_uri$jscomp$52$$ = $$jscomp$destructuring$var9_keyValue$320$$.next().value;
        $$jscomp$destructuring$var9_keyValue$320$$ = $$jscomp$destructuring$var9_keyValue$320$$.next().value;
        if (-1 != $service$jscomp$8_serviceAndKeyValue_uri$jscomp$52$$.indexOf(".")) {
          var $meetingName$jscomp$1$$ = $$jscomp$destructuring$var9_keyValue$320$$;
          var $domain$jscomp$6$$ = $service$jscomp$8_serviceAndKeyValue_uri$jscomp$52$$;
        }
        $hangouts$$.push($mr$cloud$mesi$HangoutInfo$fromKeyAndService$$(!1, $$jscomp$destructuring$var9_keyValue$320$$, $service$jscomp$8_serviceAndKeyValue_uri$jscomp$52$$, $domain$jscomp$6$$, $meetingName$jscomp$1$$, $event$jscomp$21$$.summary));
      } else {
        $JSCompiler_StaticMethods_getHangoutsFromEvents_$self$$.$logger_$.$warning$("Invalid hangout link from calendar event: " + $event$jscomp$21$$.hangoutLink);
      }
    }
  });
  $JSCompiler_StaticMethods_getHangoutsFromEvents_$self$$.$logger_$.info($JSCompiler_StaticMethods_getAbstractCount_$$($hangouts$$.length) + " events discovered with Hangout links.");
  return $hangouts$$;
};
var $mr$cloud$devices$WeaveDevice$$ = function($base$jscomp$5$$) {
  this.$b$ = $base$jscomp$5$$;
  this.id = $goog$asserts$assert$$($base$jscomp$5$$.id);
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.devices.WeaveDevice");
};
$mr$cloud$devices$WeaveDevice$$.prototype.isAvailable = function() {
  if (this.getState().appStatus) {
    var $checkedIn$321_gcmConnected$$ = "online" == this.$b$.connectionStatus, $appAvailable$$ = "available" == this.getState().appStatus, $checkedIn$$ = $JSCompiler_StaticMethods_checkedInWithin_$$(this, 864E5);
    $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "Device id: " + this.id + ", availability: GCM connected " + $checkedIn$321_gcmConnected$$ + ", app Available: " + $appAvailable$$ + ", checked in: " + $checkedIn$$);
    return $checkedIn$321_gcmConnected$$ && $appAvailable$$ && $checkedIn$$;
  }
  $checkedIn$321_gcmConnected$$ = $JSCompiler_StaticMethods_checkedInWithin_$$(this, 9E5);
  this.$logger_$.info("Availability for legacy receiver app: " + $checkedIn$321_gcmConnected$$);
  return $checkedIn$321_gcmConnected$$;
};
var $JSCompiler_StaticMethods_checkedInWithin_$$ = function($JSCompiler_StaticMethods_checkedInWithin_$self_lastUpdatedTime$$, $checkInTimeMillis$$) {
  $JSCompiler_StaticMethods_checkedInWithin_$self_lastUpdatedTime$$ = $JSCompiler_StaticMethods_checkedInWithin_$self_lastUpdatedTime$$.$b$.lastUpdateTimeMs ? Number($JSCompiler_StaticMethods_checkedInWithin_$self_lastUpdatedTime$$.$b$.lastUpdateTimeMs) : null;
  return !!($JSCompiler_StaticMethods_checkedInWithin_$self_lastUpdatedTime$$ && $JSCompiler_StaticMethods_checkedInWithin_$self_lastUpdatedTime$$ > Date.now() - $checkInTimeMillis$$);
};
$mr$cloud$devices$WeaveDevice$$.prototype.$f$ = function() {
  return this.getState().settings.receiverName;
};
$mr$cloud$devices$WeaveDevice$$.prototype.getId = function() {
  return this.id;
};
$mr$cloud$devices$WeaveDevice$$.prototype.getState = function() {
  return this.$b$.state._cloudCast;
};
var $module$exports$mr$cloud$GcmRegistrationSerializer$$ = function() {
  this.$logger_$ = $goog$debug$LogManager$getLogger$$("mr.cloud.GcmRegistrationSerializer");
  this.$b$ = Promise.resolve("");
};
$module$exports$mr$cloud$GcmRegistrationSerializer$$.prototype.register = function($senderIds$jscomp$1$$) {
  var $$jscomp$this$jscomp$86$$ = this, $doRegister$$ = function() {
    return new Promise(function($resolve$jscomp$31$$, $reject$jscomp$30$$) {
      chrome.gcm.register($senderIds$jscomp$1$$, function($regId$$) {
        $regId$$ ? ($$jscomp$this$jscomp$86$$.$logger_$.info("Got GCM registration ID: " + $regId$$), $resolve$jscomp$31$$($regId$$)) : $reject$jscomp$30$$(Error(chrome.runtime.lastError && chrome.runtime.lastError.message || "unknown error"));
      });
    });
  };
  return this.$b$ = this.$b$.then($doRegister$$, $doRegister$$);
};
var $mr$cloud$messaging$weave$MessageUser$$ = function($email$$) {
  this.email = $email$$;
  this.imageUrl = null;
}, $mr$cloud$messaging$weave$MessageResponse$$ = function($type$jscomp$187$$) {
  this.type = $type$jscomp$187$$;
}, $mr$cloud$messaging$weave$CloudWebRtcSessionMessage$$ = function($sessionDescription$jscomp$3$$, $opt_user$jscomp$1$$, $opt_flungUrl$$, $opt_presentationId$jscomp$8$$) {
  this.type = "__cloud_webrtc_session_message__";
  this.sessionDescription = $sessionDescription$jscomp$3$$;
  this.user = $opt_user$jscomp$1$$ || null;
  this.flungUrl = $opt_flungUrl$$ || null;
  this.presentationId = $opt_presentationId$jscomp$8$$ || null;
};
$$jscomp$inherits$$($mr$cloud$messaging$weave$CloudWebRtcSessionMessage$$, $mr$cloud$messaging$weave$MessageResponse$$);
var $mr$cloud$messaging$weave$MessageDef$$ = function($name$jscomp$170$$, $parameters$jscomp$11$$, $opt_minimalRole$$) {
  this.name = $name$jscomp$170$$;
  this.parameters = $parameters$jscomp$11$$;
  this.minimalRole = null != $opt_minimalRole$$ ? $opt_minimalRole$$ : "user";
}, $mr$cloud$messaging$weave$START_WEBRTC_SESSION_PARAMS_$$ = {_settings:{type:"string"}, _presentationRequest:{type:"string"}, _optMediaConstraints:{type:"string"}, _webrtcMessage:{type:"string"}, _user:{type:"string"}}, $mr$cloud$messaging$weave$KNOCKING_START_WEBRTC_SESSION_MESSAGE_$$ = new $mr$cloud$messaging$weave$MessageDef$$("_knockingStartWebrtcSession", $mr$cloud$messaging$weave$START_WEBRTC_SESSION_PARAMS_$$, "viewer"), $mr$cloud$messaging$weave$START_WEBRTC_SESSION_MESSAGE_$$ = new $mr$cloud$messaging$weave$MessageDef$$("_startWebrtcSession", 
$mr$cloud$messaging$weave$START_WEBRTC_SESSION_PARAMS_$$), $mr$cloud$messaging$weave$STOP_SESSION_MESSAGE_$$ = new $mr$cloud$messaging$weave$MessageDef$$("_stopSession", {}, "viewer");
var $mr$cloud$devices$WeaveDevicesService$$ = function($gapiService$jscomp$1$$, $gcmRegistrationSerializer$$) {
  this.$l$ = $gapiService$jscomp$1$$;
  this.$m$ = $gcmRegistrationSerializer$$;
  this.$f$ = this.$g$ = this.$b$ = null;
  this.$h$ = !1;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.devices.WeaveDevicesService");
  $mr$PersistentDataManager$register$$(this);
};
$mr$cloud$devices$WeaveDevicesService$$.prototype.getDevice = function($deviceId$jscomp$4_path$jscomp$35$$) {
  $deviceId$jscomp$4_path$jscomp$35$$ = $JSCompiler_StaticMethods_formUri$$($mr$cloud$WEAVE_CONFIG$$.$b$, ["devices", $deviceId$jscomp$4_path$jscomp$35$$]);
  return $JSCompiler_StaticMethods_callWithAuth$$(this.$l$, $deviceId$jscomp$4_path$jscomp$35$$, "GET").then(function($gcdDevice$$) {
    return new $mr$cloud$devices$WeaveDevice$$($gcdDevice$$);
  });
};
var $JSCompiler_StaticMethods_listDevices$$ = function($JSCompiler_StaticMethods_listDevices$self$$) {
  return $JSCompiler_StaticMethods_listDevices_$$($JSCompiler_StaticMethods_listDevices$self$$, {descriptionSubstring:"Chrome Streaming Receiver"}).catch(function() {
    return [];
  });
}, $JSCompiler_StaticMethods_listDevices_$$ = function($JSCompiler_StaticMethods_listDevices_$self$$, $queryParams$jscomp$4$$) {
  var $path$jscomp$36$$ = $JSCompiler_StaticMethods_formUri$$($mr$cloud$WEAVE_CONFIG$$.$b$, ["devices"], $queryParams$jscomp$4$$);
  return $JSCompiler_StaticMethods_callWithAuth$$($JSCompiler_StaticMethods_listDevices_$self$$.$l$, $path$jscomp$36$$, "GET").then(function($response$jscomp$13_token$jscomp$8$$) {
    var $weaveDevices$$ = ($response$jscomp$13_token$jscomp$8$$.devices || []).filter(function($gcdDevice$jscomp$1$$) {
      return null != $gcdDevice$jscomp$1$$.commandDefs && null != $gcdDevice$jscomp$1$$.commandDefs._cloudCast;
    }).map(function($gcdDevice$jscomp$2$$) {
      return new $mr$cloud$devices$WeaveDevice$$($gcdDevice$jscomp$2$$);
    });
    if ($response$jscomp$13_token$jscomp$8$$ = $response$jscomp$13_token$jscomp$8$$.nextPageToken) {
      var $newQueryParams$$ = $goog$object$clone$$($queryParams$jscomp$4$$);
      $newQueryParams$$.token = $response$jscomp$13_token$jscomp$8$$;
      return $JSCompiler_StaticMethods_listDevices_$$($JSCompiler_StaticMethods_listDevices_$self$$, $newQueryParams$$).then(function($moreWeaveDevices$$) {
        return $weaveDevices$$.concat($moreWeaveDevices$$);
      });
    }
    return $weaveDevices$$;
  });
};
$mr$cloud$devices$WeaveDevicesService$$.prototype.$getStorageKey$ = function() {
  return "WeaveDevicesService";
};
$mr$cloud$devices$WeaveDevicesService$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [new $mr$cloud$devices$WeaveDevicesService$PersistentData$$(this.$b$, this.$f$, this.$g$)];
};
$mr$cloud$devices$WeaveDevicesService$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$11$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$11$$ && (this.$b$ = $savedData$jscomp$11$$.$lastSubscribeTime$, this.$f$ = $savedData$jscomp$11$$.gcmRegistrationId, this.$g$ = $savedData$jscomp$11$$.$lastRegisterTime$);
};
var $JSCompiler_StaticMethods_registerGcm$$ = function($JSCompiler_StaticMethods_registerGcm$self$$) {
  return $JSCompiler_StaticMethods_registerGcm$self$$.$f$ && null != $JSCompiler_StaticMethods_registerGcm$self$$.$g$ && $JSCompiler_StaticMethods_registerGcm$self$$.$g$ + 864E5 >= Date.now() ? Promise.resolve($JSCompiler_StaticMethods_registerGcm$self$$.$f$) : $JSCompiler_StaticMethods_registerGcm$self$$.$m$.register(["919648714761"]).then(function($registrationId$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_registerGcm$self$$.$logger_$, "Got GCM ID: " + $registrationId$$);
    $JSCompiler_StaticMethods_registerGcm$self$$.$f$ = $registrationId$$;
    $JSCompiler_StaticMethods_registerGcm$self$$.$g$ = Date.now();
    $JSCompiler_StaticMethods_registerGcm$self$$.$b$ = null;
    return $registrationId$$;
  }, function($err$jscomp$28$$) {
    $JSCompiler_StaticMethods_registerGcm$self$$.$logger_$.$warning$("Error", $err$jscomp$28$$);
    $JSCompiler_StaticMethods_registerGcm$self$$.$f$ = null;
    $JSCompiler_StaticMethods_registerGcm$self$$.$g$ = null;
    $JSCompiler_StaticMethods_registerGcm$self$$.$b$ = null;
    throw $err$jscomp$28$$;
  });
};
$mr$cloud$devices$WeaveDevicesService$$.prototype.subscribe = function($registerId_request$jscomp$49$$) {
  var $$jscomp$this$jscomp$89$$ = this;
  if (this.$h$) {
    return Promise.resolve();
  }
  this.$h$ = !0;
  if (!$registerId_request$jscomp$49$$ || this.$b$ && !(this.$b$ + 864E5 < Date.now())) {
    return Promise.resolve();
  }
  $registerId_request$jscomp$49$$ = {filters:["myDevices"], gcmRegistrationId:$registerId_request$jscomp$49$$, gcmSenderId:"919648714761", expirationTimeMs:864E5};
  var $path$jscomp$37$$ = $JSCompiler_StaticMethods_formUri$$($mr$cloud$WEAVE_CONFIG$$.$b$, ["subscriptions", "subscribe"], {});
  return $JSCompiler_StaticMethods_callWithAuth$$(this.$l$, $path$jscomp$37$$, "POST", $registerId_request$jscomp$49$$).then(function() {
    $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($$jscomp$this$jscomp$89$$.$logger_$, "Subscribed on: " + Date.now());
    $$jscomp$this$jscomp$89$$.$b$ = Date.now();
    $$jscomp$this$jscomp$89$$.$h$ = !1;
    return Promise.resolve();
  }, function() {
    $$jscomp$this$jscomp$89$$.$h$ = !1;
    return Promise.resolve();
  });
};
var $mr$cloud$devices$WeaveDevicesService$PersistentData$$ = function($lastSubscribeTime$$, $gcmRegistrationId$$, $lastRegisterTime$$) {
  this.$lastSubscribeTime$ = $lastSubscribeTime$$;
  this.gcmRegistrationId = $gcmRegistrationId$$;
  this.$lastRegisterTime$ = $lastRegisterTime$$;
};
var $mr$cloud$CloudSink$$ = function($deviceId$jscomp$5$$, $displayName$jscomp$2$$, $channelType$$, $model$$, $domain$jscomp$7$$, $isAvailable$$, $opt_iconType$$, $opt_description$jscomp$5$$) {
  var $uniqueId$jscomp$inline_2125$$ = $JSCompiler_StaticMethods_generateId$$($module$contents$mr$SinkUtils_SinkUtils$getInstance$$(), $deviceId$jscomp$5$$);
  this.$mrSink$ = new $mr$Sink$$($uniqueId$jscomp$inline_2125$$, $displayName$jscomp$2$$, $opt_iconType$$, $opt_description$jscomp$5$$, $domain$jscomp$7$$);
  this.deviceId = $deviceId$jscomp$5$$;
  this.$b$ = $channelType$$;
  this.model = $model$$;
  this.isAvailable = $isAvailable$$;
};
$$jscomp$global$$.Object.defineProperties($mr$cloud$CloudSink$$.prototype, {id:{configurable:!0, enumerable:!0, get:function() {
  return this.$mrSink$.id;
}}, displayName:{configurable:!0, enumerable:!0, set:function($newName$jscomp$4$$) {
  this.$mrSink$.friendlyName = $newName$jscomp$4$$;
}}});
var $mr$cloud$WeaveSink$$ = function($deviceId$jscomp$7$$, $displayName$jscomp$4$$, $aclLevel$$, $domain$jscomp$9$$, $isAvailable$jscomp$1$$) {
  $mr$cloud$CloudSink$$.call(this, $deviceId$jscomp$7$$, $displayName$jscomp$4$$, "weave", "Chrome Streaming Receiver", $domain$jscomp$9$$, $isAvailable$jscomp$1$$, "education");
  this.$aclLevel$ = $aclLevel$$;
};
$$jscomp$inherits$$($mr$cloud$WeaveSink$$, $mr$cloud$CloudSink$$);
var $mr$cloud$HangoutCloudSink$$ = function($hangout$$) {
  var $domain$jscomp$10$$ = $hangout$$.$domain_$;
  $goog$asserts$assert$$(null == $domain$jscomp$10$$ == $hangout$$.$isMeeting$());
  var $description$jscomp$15$$;
  $hangout$$.$meetingName_$ && $hangout$$.$f$() != $hangout$$.$meetingName_$ && ($description$jscomp$15$$ = $goog$asserts$assert$$($hangout$$.$meetingName_$));
  $mr$cloud$CloudSink$$.call(this, $hangout$$.getId(), $hangout$$.$f$(), "mesi", "Hangout", $domain$jscomp$10$$, !1, $hangout$$.$isMeeting$() ? "meeting" : "hangout", $description$jscomp$15$$);
  this.$isMeeting$ = $hangout$$.$isMeeting$();
  this.$resolvedId$ = $hangout$$.$resolvedId_$ || "";
};
$$jscomp$inherits$$($mr$cloud$HangoutCloudSink$$, $mr$cloud$CloudSink$$);
var $module$exports$mr$cloud$slarti$Sink$$ = function($deviceId$jscomp$8$$, $displayName$jscomp$5$$, $isAvailable$jscomp$2$$) {
  $mr$cloud$CloudSink$$.call(this, $deviceId$jscomp$8$$, $displayName$jscomp$5$$, "slarti", "Cast Receiver for Education", "default", $isAvailable$jscomp$2$$, "education");
};
$$jscomp$inherits$$($module$exports$mr$cloud$slarti$Sink$$, $mr$cloud$CloudSink$$);
var $mr$cloud$discovery$SinkCache$$ = function($updateSinks$$, $sinkDiscoveryCallbacks$jscomp$1$$, $minFetchIntervalMs$$) {
  this.$m$ = $updateSinks$$;
  this.$h$ = $sinkDiscoveryCallbacks$jscomp$1$$;
  this.$b$ = new Map;
  this.$g$ = new Map;
  this.$f$ = null;
  this.$l$ = $minFetchIntervalMs$$;
};
$mr$cloud$discovery$SinkCache$$.prototype.$module$exports$mr$cloud$slarti$SinkDiscoveryService_prototype$getSinks$ = function() {
  var $nextFetchTime$jscomp$inline_2128$$ = this.$f$ + this.$l$;
  if (null == this.$f$ || $nextFetchTime$jscomp$inline_2128$$ < Date.now()) {
    this.$f$ = Date.now(), $JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$fetchAllSinks_$$(this);
  }
  return Array.from(this.$b$.values());
};
$mr$cloud$discovery$SinkCache$$.prototype.$getSinkById$ = function($id$jscomp$70$$) {
  return this.$b$.get($id$jscomp$70$$) || null;
};
var $JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$fetchAllSinks_$$ = function($JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$fetchAllSinks_$self$$) {
  $JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$fetchAllSinks_$self$$.$m$().then(function($sinks$jscomp$14$$) {
    $JSCompiler_StaticMethods_updateSinksFromFullList_$$($JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$fetchAllSinks_$self$$, $sinks$jscomp$14$$);
  });
}, $JSCompiler_StaticMethods_updateSinksFromFullList_$$ = function($JSCompiler_StaticMethods_updateSinksFromFullList_$self$$, $cloudSinks_removed$$) {
  var $copySinks$$ = new Map($JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$b$), $newSinks$$ = new Map, $newSinkIdMap$$ = new Map, $added$$ = [], $updated$jscomp$3$$ = [];
  $cloudSinks_removed$$.forEach(function($sink$jscomp$90$$) {
    var $uniqueId$jscomp$6$$ = $sink$jscomp$90$$.id;
    $newSinks$$.set($uniqueId$jscomp$6$$, $sink$jscomp$90$$);
    $newSinkIdMap$$.set($uniqueId$jscomp$6$$, $sink$jscomp$90$$.deviceId);
    $copySinks$$.has($uniqueId$jscomp$6$$) ? $copySinks$$.has($uniqueId$jscomp$6$$) && JSON.stringify($copySinks$$.get($uniqueId$jscomp$6$$)) != JSON.stringify($sink$jscomp$90$$) && $updated$jscomp$3$$.push($sink$jscomp$90$$.$mrSink$) : $added$$.push($sink$jscomp$90$$.$mrSink$);
    $copySinks$$.delete($uniqueId$jscomp$6$$);
  });
  $cloudSinks_removed$$ = [].concat($$jscomp$arrayFromIterable$$($copySinks$$.values())).map(function($sink$jscomp$91$$) {
    return $sink$jscomp$91$$.$mrSink$;
  });
  $JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$g$.clear();
  $JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$g$ = $newSinkIdMap$$;
  $JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$b$.clear();
  $JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$b$ = $newSinks$$;
  $JSCompiler_StaticMethods_callUpdateCallbacks_$$($JSCompiler_StaticMethods_updateSinksFromFullList_$self$$, $added$$, $updated$jscomp$3$$, $cloudSinks_removed$$);
}, $JSCompiler_StaticMethods_callUpdateCallbacks_$$ = function($JSCompiler_StaticMethods_callUpdateCallbacks_$self$$, $added$jscomp$1$$, $updated$jscomp$4$$, $removed$jscomp$1$$) {
  0 < $added$jscomp$1$$.length && $JSCompiler_StaticMethods_onSinksAdded$$($JSCompiler_StaticMethods_callUpdateCallbacks_$self$$.$h$, $added$jscomp$1$$);
  0 < $updated$jscomp$4$$.length && $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksUpdated$$($JSCompiler_StaticMethods_callUpdateCallbacks_$self$$.$h$, $updated$jscomp$4$$);
  0 < $removed$jscomp$1$$.length && $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$$($JSCompiler_StaticMethods_callUpdateCallbacks_$self$$.$h$, $removed$jscomp$1$$);
}, $JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$$ = function($JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$self$$) {
  for (var $sinksObject$$ = {}, $$jscomp$iter$240_sinkIdToOriginalIdObject$$ = $$jscomp$makeIterator$$($JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$self$$.$b$.entries()), $$jscomp$iter$241_$jscomp$key$$jscomp$destructuring$var10_id$jscomp$71$$ = $$jscomp$iter$240_sinkIdToOriginalIdObject$$.next(); !$$jscomp$iter$241_$jscomp$key$$jscomp$destructuring$var10_id$jscomp$71$$.done; $$jscomp$iter$241_$jscomp$key$$jscomp$destructuring$var10_id$jscomp$71$$ = $$jscomp$iter$240_sinkIdToOriginalIdObject$$.next()) {
    var $$jscomp$destructuring$var11_$jscomp$key$$jscomp$destructuring$var12_id$322_sink$jscomp$92$$ = $$jscomp$makeIterator$$($$jscomp$iter$241_$jscomp$key$$jscomp$destructuring$var10_id$jscomp$71$$.value);
    $$jscomp$iter$241_$jscomp$key$$jscomp$destructuring$var10_id$jscomp$71$$ = $$jscomp$destructuring$var11_$jscomp$key$$jscomp$destructuring$var12_id$322_sink$jscomp$92$$.next().value;
    $$jscomp$destructuring$var11_$jscomp$key$$jscomp$destructuring$var12_id$322_sink$jscomp$92$$ = $$jscomp$destructuring$var11_$jscomp$key$$jscomp$destructuring$var12_id$322_sink$jscomp$92$$.next().value;
    $sinksObject$$[$$jscomp$iter$241_$jscomp$key$$jscomp$destructuring$var10_id$jscomp$71$$] = $$jscomp$destructuring$var11_$jscomp$key$$jscomp$destructuring$var12_id$322_sink$jscomp$92$$;
  }
  $$jscomp$iter$240_sinkIdToOriginalIdObject$$ = {};
  $$jscomp$iter$241_$jscomp$key$$jscomp$destructuring$var10_id$jscomp$71$$ = $$jscomp$makeIterator$$($JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$self$$.$g$.entries());
  for ($$jscomp$destructuring$var11_$jscomp$key$$jscomp$destructuring$var12_id$322_sink$jscomp$92$$ = $$jscomp$iter$241_$jscomp$key$$jscomp$destructuring$var10_id$jscomp$71$$.next(); !$$jscomp$destructuring$var11_$jscomp$key$$jscomp$destructuring$var12_id$322_sink$jscomp$92$$.done; $$jscomp$destructuring$var11_$jscomp$key$$jscomp$destructuring$var12_id$322_sink$jscomp$92$$ = $$jscomp$iter$241_$jscomp$key$$jscomp$destructuring$var10_id$jscomp$71$$.next()) {
    var $$jscomp$destructuring$var13_original_id$$ = $$jscomp$makeIterator$$($$jscomp$destructuring$var11_$jscomp$key$$jscomp$destructuring$var12_id$322_sink$jscomp$92$$.value);
    $$jscomp$destructuring$var11_$jscomp$key$$jscomp$destructuring$var12_id$322_sink$jscomp$92$$ = $$jscomp$destructuring$var13_original_id$$.next().value;
    $$jscomp$destructuring$var13_original_id$$ = $$jscomp$destructuring$var13_original_id$$.next().value;
    $$jscomp$iter$240_sinkIdToOriginalIdObject$$[$$jscomp$destructuring$var11_$jscomp$key$$jscomp$destructuring$var12_id$322_sink$jscomp$92$$] = $$jscomp$destructuring$var13_original_id$$;
  }
  return new $mr$cloud$discovery$SinkCache$PersistentData$$($sinksObject$$, $$jscomp$iter$240_sinkIdToOriginalIdObject$$, $JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$self$$.$f$);
}, $JSCompiler_StaticMethods_loadFromObject$$ = function($JSCompiler_StaticMethods_loadFromObject$self$$, $data$jscomp$95$$) {
  for (var $sinkId$jscomp$49$$ in $data$jscomp$95$$.sinks) {
    var $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$ = $data$jscomp$95$$.sinks[$sinkId$jscomp$49$$], $cloudSink$jscomp$1$$ = null;
    "Hangout" == $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.model ? ($hangout$jscomp$inline_2131_sinkObject$jscomp$3$$ = new $mr$cloud$mesi$HangoutInfo$$($hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.$isMeeting$, $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.deviceId, $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.$mrSink$.domain, $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.$mrSink$.description, $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.$mrSink$.friendlyName, $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.$resolvedId$), 
    $cloudSink$jscomp$1$$ = new $mr$cloud$HangoutCloudSink$$($hangout$jscomp$inline_2131_sinkObject$jscomp$3$$)) : "Cast Receiver for Education" == $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.model ? $cloudSink$jscomp$1$$ = new $module$exports$mr$cloud$slarti$Sink$$($hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.deviceId, $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.$mrSink$.friendlyName, $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.isAvailable) : "Chrome Streaming Receiver" == 
    $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.model && ($cloudSink$jscomp$1$$ = new $mr$cloud$WeaveSink$$($hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.deviceId, $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.$mrSink$.friendlyName, $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.$aclLevel$, $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.$mrSink$.domain, $hangout$jscomp$inline_2131_sinkObject$jscomp$3$$.isAvailable));
    $JSCompiler_StaticMethods_loadFromObject$self$$.$b$.set($sinkId$jscomp$49$$, $cloudSink$jscomp$1$$);
  }
  for ($sinkId$jscomp$49$$ in $data$jscomp$95$$.$b$) {
    $JSCompiler_StaticMethods_loadFromObject$self$$.$g$.set($sinkId$jscomp$49$$, $data$jscomp$95$$.$b$[$sinkId$jscomp$49$$]);
  }
  $data$jscomp$95$$.$f$ && ($JSCompiler_StaticMethods_loadFromObject$self$$.$f$ = $data$jscomp$95$$.$f$);
}, $mr$cloud$discovery$SinkCache$PersistentData$$ = function($sinks$jscomp$15$$, $cloudIds$$, $lastFetchTimeMillis$$) {
  this.sinks = $sinks$jscomp$15$$;
  this.$b$ = $cloudIds$$;
  this.$f$ = $lastFetchTimeMillis$$;
};
var $mr$cloud$discovery$HangoutSinkDiscoveryService$$ = function($calendar$$, $mesi$$, $sinkDiscoveryCallbacks$jscomp$2$$) {
  if (!$$jscomp$scope$isClosureLoggingConfigured$$) {
    $goog$debug$LogManager$initialize$$();
    var $JSCompiler_inline_result$jscomp$6410$$ = $goog$debug$LogManager$rootLogger_$$;
    $JSCompiler_inline_result$jscomp$6410$$.$f$ = $goog$debug$Logger$Level$ALL$$;
    var $handler$jscomp$inline_6832$$ = $mr$cloud$discovery$HangoutSinkDiscoveryService$handleLogRecord_$$;
    $JSCompiler_inline_result$jscomp$6410$$.$b$ || ($JSCompiler_inline_result$jscomp$6410$$.$b$ = []);
    $JSCompiler_inline_result$jscomp$6410$$.$b$.push($handler$jscomp$inline_6832$$);
    $$jscomp$scope$isClosureLoggingConfigured$$ = !0;
  }
  this.$g$ = $calendar$$;
  this.$h$ = $mesi$$;
  this.$b$ = new $mr$cloud$discovery$SinkCache$$(this.$l$.bind(this), $sinkDiscoveryCallbacks$jscomp$2$$, 2E4);
  this.$f$ = new Map;
  $mr$PersistentDataManager$register$$(this);
}, $mr$cloud$discovery$HangoutSinkDiscoveryService$handleLogRecord_$$ = function($record$jscomp$12$$) {
  $mr$Logger$logRecord$$({$logger$:$record$jscomp$12$$.$g$, level:$mr$Logger$numberToLevel$$($record$jscomp$12$$.$f$.value), time:$record$jscomp$12$$.$l$, message:$record$jscomp$12$$.getMessage(), $exception$:$record$jscomp$12$$.$b$});
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$module$exports$mr$cloud$slarti$SinkDiscoveryService_prototype$getSinks$ = function() {
  return this.$b$.$module$exports$mr$cloud$slarti$SinkDiscoveryService_prototype$getSinks$();
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$getSinkById$ = function($id$jscomp$72$$) {
  return this.$b$.$getSinkById$($id$jscomp$72$$);
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$l$ = function() {
  var $$jscomp$this$jscomp$91$$ = this;
  this.$logger_$.info("Fetching hangouts");
  return $mr$PromiseUtils$allSettled$$([$JSCompiler_StaticMethods_findActiveHangouts$$(this.$h$), $JSCompiler_StaticMethods_findProximalHangouts$$(this.$g$)]).then(function($hangoutLists$$) {
    var $allHangouts$$ = Array.from($$jscomp$this$jscomp$91$$.$f$.values());
    $hangoutLists$$.forEach(function($discoveryPromise$$) {
      $discoveryPromise$$.$fulfilled$ ? $allHangouts$$ = $allHangouts$$.concat($discoveryPromise$$.value) : $$jscomp$this$jscomp$91$$.$logger_$.error("Error discovering Hangouts", $discoveryPromise$$.reason);
    });
    var $combinedHangouts$$ = $allHangouts$$.reduce(function($result$jscomp$56$$, $newhangout$$) {
      var $hangout$jscomp$3$$ = $result$jscomp$56$$[$newhangout$$.getId()];
      $hangout$jscomp$3$$ ? $hangout$jscomp$3$$.merge($newhangout$$) : $hangout$jscomp$3$$ = $newhangout$$;
      $result$jscomp$56$$[$hangout$jscomp$3$$.getId()] = $hangout$jscomp$3$$;
      return $result$jscomp$56$$;
    }, {});
    return Object.keys($combinedHangouts$$).map(function($hangout$jscomp$4_id$jscomp$73$$) {
      $hangout$jscomp$4_id$jscomp$73$$ = $combinedHangouts$$[$hangout$jscomp$4_id$jscomp$73$$];
      $mr$Analytics$recordEvent$$("MediaRouter.Cloud.Hangout.Sink.Discovered");
      return new $mr$cloud$HangoutCloudSink$$($hangout$jscomp$4_id$jscomp$73$$);
    });
  });
};
var $JSCompiler_StaticMethods_addManualSink$$ = function($JSCompiler_StaticMethods_addManualSink$self$$, $searchCriteria$jscomp$4$$) {
  return $mr$Module$load$$("mr.mirror.hangouts.MeetingsService").then(function($module$jscomp$6$$) {
    return $module$jscomp$6$$.$getMeetingCode$($searchCriteria$jscomp$4$$);
  }).then(function($meetingCode$$) {
    return $JSCompiler_StaticMethods_doAddManualSink_$$($JSCompiler_StaticMethods_addManualSink$self$$, $meetingCode$$);
  }, function() {
    return $searchCriteria$jscomp$4$$.input.match(/^#/) ? Promise.reject(Error("Failed to resolve meeting alias.")) : $JSCompiler_StaticMethods_doAddManualSink_$$($JSCompiler_StaticMethods_addManualSink$self$$, $searchCriteria$jscomp$4$$.input, $searchCriteria$jscomp$4$$.domain);
  });
}, $JSCompiler_StaticMethods_doAddManualSink_$$ = function($JSCompiler_StaticMethods_doAddManualSink_$self$$, $cloudSink$jscomp$2_hangout$jscomp$inline_2142_input$jscomp$17$$, $domain$jscomp$inline_2141_opt_domain$jscomp$3$$) {
  $domain$jscomp$inline_2141_opt_domain$jscomp$3$$ = $domain$jscomp$inline_2141_opt_domain$jscomp$3$$ || void 0;
  $cloudSink$jscomp$2_hangout$jscomp$inline_2142_input$jscomp$17$$ = $mr$cloud$mesi$HangoutInfo$fromKeyAndService$$(!$domain$jscomp$inline_2141_opt_domain$jscomp$3$$, $cloudSink$jscomp$2_hangout$jscomp$inline_2142_input$jscomp$17$$, $domain$jscomp$inline_2141_opt_domain$jscomp$3$$, $domain$jscomp$inline_2141_opt_domain$jscomp$3$$, $cloudSink$jscomp$2_hangout$jscomp$inline_2142_input$jscomp$17$$);
  $JSCompiler_StaticMethods_doAddManualSink_$self$$.$f$.set($cloudSink$jscomp$2_hangout$jscomp$inline_2142_input$jscomp$17$$.getId(), $cloudSink$jscomp$2_hangout$jscomp$inline_2142_input$jscomp$17$$);
  $cloudSink$jscomp$2_hangout$jscomp$inline_2142_input$jscomp$17$$ = new $mr$cloud$HangoutCloudSink$$($cloudSink$jscomp$2_hangout$jscomp$inline_2142_input$jscomp$17$$);
  $JSCompiler_StaticMethods_doAddManualSink_$self$$.$b$.$b$.set($cloudSink$jscomp$2_hangout$jscomp$inline_2142_input$jscomp$17$$.id, $cloudSink$jscomp$2_hangout$jscomp$inline_2142_input$jscomp$17$$);
  return $cloudSink$jscomp$2_hangout$jscomp$inline_2142_input$jscomp$17$$.$mrSink$;
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$getStorageKey$ = function() {
  return "HangoutSinkDiscoveryService";
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  for (var $manualHangoutsObject$$ = {}, $$jscomp$iter$242$$ = $$jscomp$makeIterator$$(this.$f$.entries()), $$jscomp$key$$jscomp$destructuring$var14_name$jscomp$171$$ = $$jscomp$iter$242$$.next(); !$$jscomp$key$$jscomp$destructuring$var14_name$jscomp$171$$.done; $$jscomp$key$$jscomp$destructuring$var14_name$jscomp$171$$ = $$jscomp$iter$242$$.next()) {
    var $$jscomp$destructuring$var15_info$jscomp$8$$ = $$jscomp$makeIterator$$($$jscomp$key$$jscomp$destructuring$var14_name$jscomp$171$$.value);
    $$jscomp$key$$jscomp$destructuring$var14_name$jscomp$171$$ = $$jscomp$destructuring$var15_info$jscomp$8$$.next().value;
    $$jscomp$destructuring$var15_info$jscomp$8$$ = $$jscomp$destructuring$var15_info$jscomp$8$$.next().value;
    $manualHangoutsObject$$[$$jscomp$key$$jscomp$destructuring$var14_name$jscomp$171$$] = $$jscomp$destructuring$var15_info$jscomp$8$$;
  }
  return [{cache:$JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$$(this.$b$), manualHangouts:$manualHangoutsObject$$}];
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$12$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($savedData$jscomp$12$$) {
    $JSCompiler_StaticMethods_loadFromObject$$(this.$b$, $savedData$jscomp$12$$.cache);
    for (var $hangoutId$$ in $savedData$jscomp$12$$.manualHangouts) {
      var $hangout$jscomp$7$$ = $savedData$jscomp$12$$.manualHangouts[$hangoutId$$];
      this.$f$.set($hangoutId$$, new $mr$cloud$mesi$HangoutInfo$$($hangout$jscomp$7$$.$isMeeting_$, $hangout$jscomp$7$$.$id_$, $hangout$jscomp$7$$.$domain_$, $hangout$jscomp$7$$.$meetingName_$, $hangout$jscomp$7$$.$title_$, $hangout$jscomp$7$$.$resolvedId_$));
    }
  }
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.discovery.HangoutSinkDiscoveryService");
var $$jscomp$scope$isClosureLoggingConfigured$$ = !1;
var $mr$cloud$identity$IdentityService$$ = function() {
  this.$b$ = !1;
  this.$f$ = null;
  this.$g$ = !1;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.identity.IdentityService");
  $mr$PersistentDataManager$register$$(this);
  $JSCompiler_StaticMethods_listenToSignInChange_$$(this);
  $JSCompiler_StaticMethods_setSignInAndEmail_$$(this);
};
$mr$cloud$identity$IdentityService$$.prototype.getAuthToken = function() {
  return chrome.identity ? new Promise(function($resolve$jscomp$32$$, $reject$jscomp$31$$) {
    chrome.identity.getAuthToken({interactive:!1}, function($token$jscomp$9$$) {
      chrome.runtime.lastError ? $reject$jscomp$31$$(Error("Unable to get user auth token: " + chrome.runtime.lastError.message)) : null == $token$jscomp$9$$ ? $reject$jscomp$31$$(Error("User is not logged in (no token found)")) : $resolve$jscomp$32$$($token$jscomp$9$$);
    });
  }) : Promise.reject(Error("chrome.identity permission required for auth."));
};
var $JSCompiler_StaticMethods_expireAuthToken$$ = function($token$jscomp$10$$) {
  return new Promise(function($resolve$jscomp$33$$) {
    chrome.identity.removeCachedAuthToken({token:$token$jscomp$10$$}, function() {
      $resolve$jscomp$33$$();
    });
  });
}, $JSCompiler_StaticMethods_setSignInAndEmail_$$ = function($JSCompiler_StaticMethods_setSignInAndEmail_$self$$) {
  $JSCompiler_StaticMethods_setSignInAndEmail_$self$$.getAuthToken().then(function($token$jscomp$11$$) {
    chrome.identity.getProfileUserInfo(function($userInfo$jscomp$1$$) {
      $JSCompiler_StaticMethods_setSignInAndEmail_$self$$.$b$ = !!$userInfo$jscomp$1$$.email || !!$userInfo$jscomp$1$$.id;
      $JSCompiler_StaticMethods_setSignInAndEmail_$self$$.$f$ = $userInfo$jscomp$1$$.email || null;
      $token$jscomp$11$$ && !$JSCompiler_StaticMethods_setSignInAndEmail_$self$$.$b$ && ($JSCompiler_StaticMethods_setSignInAndEmail_$self$$.$g$ = !0);
    });
  }, function($error$jscomp$52$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_setSignInAndEmail_$self$$.$logger_$, "Unable to set sign in and email.", $error$jscomp$52$$);
  });
}, $JSCompiler_StaticMethods_listenToSignInChange_$$ = function($JSCompiler_StaticMethods_listenToSignInChange_$self$$) {
  chrome.identity.onSignInChanged.addListener(function($account$$, $signedIn$$) {
    $mr$EventAnalytics$recordEvent$$(6);
    $JSCompiler_StaticMethods_listenToSignInChange_$self$$.$b$ = $signedIn$$;
    $JSCompiler_StaticMethods_listenToSignInChange_$self$$.$logger_$.info("Signed in change: " + $JSCompiler_StaticMethods_listenToSignInChange_$self$$.$b$);
    $JSCompiler_StaticMethods_listenToSignInChange_$self$$.$b$ ? $JSCompiler_StaticMethods_setSignInAndEmail_$$($JSCompiler_StaticMethods_listenToSignInChange_$self$$) : ($JSCompiler_StaticMethods_listenToSignInChange_$self$$.$f$ = null, $JSCompiler_StaticMethods_listenToSignInChange_$self$$.$g$ = !1);
  });
}, $JSCompiler_StaticMethods_refreshGapiToken$$ = function($JSCompiler_StaticMethods_refreshGapiToken$self$$) {
  return $JSCompiler_StaticMethods_refreshGapiToken$self$$.getAuthToken().then(function($token$jscomp$12$$) {
    var $gapi$jscomp$1$$ = window.gapi;
    if (!$gapi$jscomp$1$$) {
      return $JSCompiler_StaticMethods_refreshGapiToken$self$$.$logger_$.error("gapi not loaded."), !1;
    }
    $JSCompiler_StaticMethods_refreshGapiToken$self$$.$logger_$.info("Setting gapi auth token");
    $gapi$jscomp$1$$.auth.setToken({access_token:$token$jscomp$12$$});
    return !0;
  });
};
$mr$cloud$identity$IdentityService$$.prototype.$getStorageKey$ = function() {
  return "IdentityService";
};
$mr$cloud$identity$IdentityService$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [null, {signedIn:this.$b$, userEmail:this.$f$, kioskAuth:this.$g$}];
};
$mr$cloud$identity$IdentityService$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$13$$ = $mr$PersistentDataManager$getPersistentData$$(this);
  $savedData$jscomp$13$$ && ($savedData$jscomp$13$$.signedIn && (this.$b$ = $savedData$jscomp$13$$.signedIn), $savedData$jscomp$13$$.userEmail && (this.$f$ = $savedData$jscomp$13$$.userEmail), $savedData$jscomp$13$$.kioskAuth && (this.$g$ = $savedData$jscomp$13$$.kioskAuth));
};
var $module$exports$mr$cloud$slarti$FetchRequest$$ = function($$jscomp$destructuring$var16_identityService$jscomp$1$$) {
  var $JSCompiler_temp$jscomp$525_method$jscomp$13$$ = $$jscomp$destructuring$var16_identityService$jscomp$1$$.method, $uri$jscomp$53$$ = $$jscomp$destructuring$var16_identityService$jscomp$1$$.uri, $baseUrl$jscomp$2_path$jscomp$inline_2147_uri$jscomp$inline_2148$$ = $$jscomp$destructuring$var16_identityService$jscomp$1$$.baseUrl, $pathParts$$ = $$jscomp$destructuring$var16_identityService$jscomp$1$$.$pathParts$, $queryData$jscomp$inline_2149_queryParams$jscomp$5$$ = $$jscomp$destructuring$var16_identityService$jscomp$1$$.$queryParams$, 
  $headers$jscomp$1$$ = $$jscomp$destructuring$var16_identityService$jscomp$1$$.headers, $body$jscomp$3$$ = $$jscomp$destructuring$var16_identityService$jscomp$1$$.body, $start$jscomp$29$$ = $$jscomp$destructuring$var16_identityService$jscomp$1$$.start, $apiKey$$ = $$jscomp$destructuring$var16_identityService$jscomp$1$$.apiKey, $timeoutMs$jscomp$2$$ = $$jscomp$destructuring$var16_identityService$jscomp$1$$.$timeoutMs$;
  $$jscomp$destructuring$var16_identityService$jscomp$1$$ = $$jscomp$destructuring$var16_identityService$jscomp$1$$.$identityService$;
  this.method = $JSCompiler_temp$jscomp$525_method$jscomp$13$$ && $JSCompiler_temp$jscomp$525_method$jscomp$13$$.toUpperCase() || "GET";
  $uri$jscomp$53$$ && ($goog$asserts$assert$$(!$baseUrl$jscomp$2_path$jscomp$inline_2147_uri$jscomp$inline_2148$$, "cannot pass baseUrl with uri"), $goog$asserts$assert$$(!$pathParts$$, "cannot pass pathParts with uri"), $goog$asserts$assert$$(!$queryData$jscomp$inline_2149_queryParams$jscomp$5$$, "cannot pass queryParams with uri"));
  ($JSCompiler_temp$jscomp$525_method$jscomp$13$$ = $uri$jscomp$53$$) || ($baseUrl$jscomp$2_path$jscomp$inline_2147_uri$jscomp$inline_2148$$ = [$goog$asserts$assert$$($baseUrl$jscomp$2_path$jscomp$inline_2147_uri$jscomp$inline_2148$$)].concat($$jscomp$arrayFromIterable$$($pathParts$$ || [])).join("/"), $baseUrl$jscomp$2_path$jscomp$inline_2147_uri$jscomp$inline_2148$$ = new $goog$Uri$$(encodeURI($baseUrl$jscomp$2_path$jscomp$inline_2147_uri$jscomp$inline_2148$$)), $queryData$jscomp$inline_2149_queryParams$jscomp$5$$ && 
  ($queryData$jscomp$inline_2149_queryParams$jscomp$5$$ = $goog$Uri$QueryData$createFromMap$$($queryData$jscomp$inline_2149_queryParams$jscomp$5$$), $JSCompiler_StaticMethods_setQueryData$$($baseUrl$jscomp$2_path$jscomp$inline_2147_uri$jscomp$inline_2148$$, $queryData$jscomp$inline_2149_queryParams$jscomp$5$$)), $JSCompiler_temp$jscomp$525_method$jscomp$13$$ = $baseUrl$jscomp$2_path$jscomp$inline_2147_uri$jscomp$inline_2148$$);
  this.uri = $JSCompiler_temp$jscomp$525_method$jscomp$13$$;
  $apiKey$$ && ($goog$asserts$assert$$(!$$jscomp$destructuring$var16_identityService$jscomp$1$$, "Cannot use identityService with apiKey"), this.uri.$f$.add("key", $apiKey$$));
  this.$b$ = $$jscomp$destructuring$var16_identityService$jscomp$1$$ || null;
  this.headers = $headers$jscomp$1$$ || {};
  (this.body = $body$jscomp$3$$) && (this.headers["Content-Type"] = "application/json");
  this.$timeoutMs$ = void 0 !== $timeoutMs$jscomp$2$$ ? $timeoutMs$jscomp$2$$ : 10000;
  this.start = $start$jscomp$29$$ || $goog$now$$();
}, $JSCompiler_StaticMethods_toRequest$$ = function($JSCompiler_StaticMethods_toRequest$self$$) {
  return ($JSCompiler_StaticMethods_toRequest$self$$.$b$ ? $JSCompiler_StaticMethods_toRequest$self$$.$b$.getAuthToken() : Promise.resolve(null)).then(function($authToken_init$jscomp$3$$) {
    $authToken_init$jscomp$3$$ && ($JSCompiler_StaticMethods_toRequest$self$$.headers.Authorization = "Bearer " + $authToken_init$jscomp$3$$);
    $authToken_init$jscomp$3$$ = {method:$JSCompiler_StaticMethods_toRequest$self$$.method, headers:$JSCompiler_StaticMethods_toRequest$self$$.headers};
    $JSCompiler_StaticMethods_toRequest$self$$.body && ($authToken_init$jscomp$3$$.body = JSON.stringify($JSCompiler_StaticMethods_toRequest$self$$.body));
    return new Request($JSCompiler_StaticMethods_toRequest$self$$.uri.toString(), $authToken_init$jscomp$3$$);
  });
};
var $goog$net$HttpStatus$$ = {$CONTINUE$:100, $SWITCHING_PROTOCOLS$:101, $OK$:200, $CREATED$:201, ACCEPTED:202, $NON_AUTHORITATIVE_INFORMATION$:203, $NO_CONTENT$:204, $RESET_CONTENT$:205, $PARTIAL_CONTENT$:206, $MULTI_STATUS$:207, $MULTIPLE_CHOICES$:300, $MOVED_PERMANENTLY$:301, $FOUND$:302, $SEE_OTHER$:303, $NOT_MODIFIED$:304, $USE_PROXY$:305, $TEMPORARY_REDIRECT$:307, $PERMANENT_REDIRECT$:308, $BAD_REQUEST$:400, $UNAUTHORIZED$:401, $PAYMENT_REQUIRED$:402, $FORBIDDEN$:403, $NOT_FOUND$:404, $METHOD_NOT_ALLOWED$:405, 
$NOT_ACCEPTABLE$:406, $PROXY_AUTHENTICATION_REQUIRED$:407, $REQUEST_TIMEOUT$:408, $CONFLICT$:409, $GONE$:410, $LENGTH_REQUIRED$:411, $PRECONDITION_FAILED$:412, $REQUEST_ENTITY_TOO_LARGE$:413, $REQUEST_URI_TOO_LONG$:414, $UNSUPPORTED_MEDIA_TYPE$:415, $REQUEST_RANGE_NOT_SATISFIABLE$:416, $EXPECTATION_FAILED$:417, $UNPROCESSABLE_ENTITY$:422, $LOCKED$:423, $FAILED_DEPENDENCY$:424, $PRECONDITION_REQUIRED$:428, $TOO_MANY_REQUESTS$:429, $REQUEST_HEADER_FIELDS_TOO_LARGE$:431, $INTERNAL_SERVER_ERROR$:500, 
$NOT_IMPLEMENTED$:501, $BAD_GATEWAY$:502, $SERVICE_UNAVAILABLE$:503, $GATEWAY_TIMEOUT$:504, $HTTP_VERSION_NOT_SUPPORTED$:505, $INSUFFICIENT_STORAGE$:507, $NETWORK_AUTHENTICATION_REQUIRED$:511, $QUIRK_IE_NO_CONTENT$:1223};
var $module$exports$mr$cloud$slarti$FetchError$$ = function($response$jscomp$15$$, $gapiError$jscomp$1$$) {
  $goog$debug$Error$$.call(this, $gapiError$jscomp$1$$ && $gapiError$jscomp$1$$.message || $response$jscomp$15$$.statusText);
  this.code = $response$jscomp$15$$.status;
  this.response = $response$jscomp$15$$;
  this.status = (this.$b$ = $gapiError$jscomp$1$$) && $gapiError$jscomp$1$$.status;
};
$$jscomp$inherits$$($module$exports$mr$cloud$slarti$FetchError$$, $goog$debug$Error$$);
var $JSCompiler_StaticMethods_isFatalError$$ = function($JSCompiler_StaticMethods_isFatalError$self$$) {
  if ($module$contents$mr$cloud$slarti$FetchError_FatalCodes$$.has($JSCompiler_StaticMethods_isFatalError$self$$.code)) {
    return !0;
  }
  var $gapiError$jscomp$2$$ = $JSCompiler_StaticMethods_isFatalError$self$$.$b$ || {};
  return $JSCompiler_StaticMethods_isFatalError$self$$.$b$ ? $module$contents$mr$cloud$slarti$FetchError_FatalStatus$$.has($gapiError$jscomp$2$$.status) ? !0 : !!($gapiError$jscomp$2$$.errors || []).find(function($errorDetail$$) {
    return $module$contents$mr$cloud$slarti$FetchError_FatalReasons$$.has($errorDetail$$);
  }) : !1;
}, $module$exports$mr$cloud$slarti$FetchError$createError$$ = function($message$jscomp$123_response$jscomp$16$$, $status$jscomp$7$$) {
  $message$jscomp$123_response$jscomp$16$$ = new Response(void 0, {status:$status$jscomp$7$$ || 408, statusText:$message$jscomp$123_response$jscomp$16$$});
  return new $module$exports$mr$cloud$slarti$FetchError$$($message$jscomp$123_response$jscomp$16$$);
}, $module$contents$mr$cloud$slarti$FetchError_FatalCodes$$ = new Set([400, 401, 403, 404, 405, 406, 501]), $module$contents$mr$cloud$slarti$FetchError_FatalStatus$$ = new Set(["PERMISSION_DENIED"]), $module$contents$mr$cloud$slarti$FetchError_FatalReasons$$ = new Set("authError command_is_in_terminal_state forbidden notFound unmanaged_group_acl acl_entry_bad_scope network_error".split(" "));
var $goog$Disposable$$ = function() {
  this.$ba$ = this.$ba$;
  this.$V$ = this.$V$;
};
$goog$Disposable$$.prototype.$ba$ = !1;
$goog$Disposable$$.prototype.$l$ = function() {
  return this.$ba$;
};
$goog$Disposable$$.prototype.$dispose$ = function() {
  this.$ba$ || (this.$ba$ = !0, this.$goog_Disposable_prototype$disposeInternal$());
};
$goog$Disposable$$.prototype.$b$ = function($disposable$$) {
  $JSCompiler_StaticMethods_addOnDisposeCallback$$(this, $goog$partial$$($goog$dispose$$, $disposable$$));
};
var $JSCompiler_StaticMethods_addOnDisposeCallback$$ = function($JSCompiler_StaticMethods_addOnDisposeCallback$self$$, $callback$jscomp$376$$) {
  $JSCompiler_StaticMethods_addOnDisposeCallback$self$$.$ba$ ? $goog$isDef$$(void 0) ? $callback$jscomp$376$$.call(void 0) : $callback$jscomp$376$$() : ($JSCompiler_StaticMethods_addOnDisposeCallback$self$$.$V$ || ($JSCompiler_StaticMethods_addOnDisposeCallback$self$$.$V$ = []), $JSCompiler_StaticMethods_addOnDisposeCallback$self$$.$V$.push($goog$isDef$$(void 0) ? $goog$bind$$($callback$jscomp$376$$, void 0) : $callback$jscomp$376$$));
};
$goog$Disposable$$.prototype.$goog_Disposable_prototype$disposeInternal$ = function() {
  if (this.$V$) {
    for (; this.$V$.length;) {
      this.$V$.shift()();
    }
  }
};
var $goog$dispose$$ = function($obj$jscomp$108$$) {
  $obj$jscomp$108$$ && "function" == typeof $obj$jscomp$108$$.$dispose$ && $obj$jscomp$108$$.$dispose$();
}, $goog$disposeAll$$ = function($var_args$jscomp$103$$) {
  for (var $i$jscomp$245$$ = 0, $len$jscomp$2$$ = arguments.length; $i$jscomp$245$$ < $len$jscomp$2$$; ++$i$jscomp$245$$) {
    var $disposable$jscomp$1$$ = arguments[$i$jscomp$245$$];
    $goog$isArrayLike$$($disposable$jscomp$1$$) ? $goog$disposeAll$$.apply(null, $disposable$jscomp$1$$) : $goog$dispose$$($disposable$jscomp$1$$);
  }
};
var $goog$events$EventId$$ = function() {
  this.id = "latency_event$93";
};
$goog$events$EventId$$.prototype.toString = function() {
  return this.id;
};
var $goog$events$Event$$ = function($type$jscomp$188$$, $opt_target$jscomp$2$$) {
  this.type = $type$jscomp$188$$ instanceof $goog$events$EventId$$ ? String($type$jscomp$188$$) : $type$jscomp$188$$;
  this.$f$ = this.target = $opt_target$jscomp$2$$;
  this.$returnValue_$ = !0;
};
$goog$events$Event$$.prototype.$h$ = function() {
  this.$returnValue_$ = !1;
};
var $goog$events$BrowserFeature$HAS_W3C_EVENT_SUPPORT$$ = !$goog$userAgent$IE$$ || 9 <= Number($JSCompiler_inline_result$jscomp$450$$), $goog$events$BrowserFeature$SET_KEY_CODE_TO_PREVENT_DEFAULT$$ = $goog$userAgent$IE$$ && !$goog$userAgent$isVersionOrHigher$$("9"), $goog$events$BrowserFeature$PASSIVE_EVENTS$$ = function() {
  if (!$goog$global$$.addEventListener || !Object.defineProperty) {
    return !1;
  }
  var $passive$$ = !1, $options$jscomp$74$$ = Object.defineProperty({}, "passive", {get:function() {
    $passive$$ = !0;
  }});
  try {
    $goog$global$$.addEventListener("test", $goog$nullFunction$$, $options$jscomp$74$$), $goog$global$$.removeEventListener("test", $goog$nullFunction$$, $options$jscomp$74$$);
  } catch ($e$jscomp$65$$) {
  }
  return $passive$$;
}();
var $goog$events$BrowserEvent$$ = function($opt_e$jscomp$2$$, $opt_currentTarget$$) {
  $goog$events$Event$$.call(this, $opt_e$jscomp$2$$ ? $opt_e$jscomp$2$$.type : "");
  this.relatedTarget = this.$f$ = this.target = null;
  this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0;
  this.key = "";
  this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;
  this.state = null;
  this.pointerId = 0;
  this.pointerType = "";
  this.$b$ = null;
  $opt_e$jscomp$2$$ && this.init($opt_e$jscomp$2$$, $opt_currentTarget$$);
};
$goog$inherits$$($goog$events$BrowserEvent$$, $goog$events$Event$$);
var $goog$events$BrowserEvent$IE_POINTER_TYPE_MAP$$ = $goog$debug$freezeInternal_$$({2:"touch", 3:"pen", 4:"mouse"});
$goog$events$BrowserEvent$$.prototype.init = function($e$jscomp$66$$, $opt_currentTarget$jscomp$1_relatedTarget$$) {
  var $type$jscomp$189$$ = this.type = $e$jscomp$66$$.type, $relevantTouch$$ = $e$jscomp$66$$.changedTouches && $e$jscomp$66$$.changedTouches.length ? $e$jscomp$66$$.changedTouches[0] : null;
  this.target = $e$jscomp$66$$.target || $e$jscomp$66$$.srcElement;
  this.$f$ = $opt_currentTarget$jscomp$1_relatedTarget$$;
  ($opt_currentTarget$jscomp$1_relatedTarget$$ = $e$jscomp$66$$.relatedTarget) ? $goog$userAgent$GECKO$$ && ($goog$reflect$canAccessProperty$$($opt_currentTarget$jscomp$1_relatedTarget$$, "nodeName") || ($opt_currentTarget$jscomp$1_relatedTarget$$ = null)) : "mouseover" == $type$jscomp$189$$ ? $opt_currentTarget$jscomp$1_relatedTarget$$ = $e$jscomp$66$$.fromElement : "mouseout" == $type$jscomp$189$$ && ($opt_currentTarget$jscomp$1_relatedTarget$$ = $e$jscomp$66$$.toElement);
  this.relatedTarget = $opt_currentTarget$jscomp$1_relatedTarget$$;
  $relevantTouch$$ ? (this.clientX = void 0 !== $relevantTouch$$.clientX ? $relevantTouch$$.clientX : $relevantTouch$$.pageX, this.clientY = void 0 !== $relevantTouch$$.clientY ? $relevantTouch$$.clientY : $relevantTouch$$.pageY, this.screenX = $relevantTouch$$.screenX || 0, this.screenY = $relevantTouch$$.screenY || 0) : (this.clientX = void 0 !== $e$jscomp$66$$.clientX ? $e$jscomp$66$$.clientX : $e$jscomp$66$$.pageX, this.clientY = void 0 !== $e$jscomp$66$$.clientY ? $e$jscomp$66$$.clientY : $e$jscomp$66$$.pageY, 
  this.screenX = $e$jscomp$66$$.screenX || 0, this.screenY = $e$jscomp$66$$.screenY || 0);
  this.button = $e$jscomp$66$$.button;
  this.key = $e$jscomp$66$$.key || "";
  this.ctrlKey = $e$jscomp$66$$.ctrlKey;
  this.altKey = $e$jscomp$66$$.altKey;
  this.shiftKey = $e$jscomp$66$$.shiftKey;
  this.metaKey = $e$jscomp$66$$.metaKey;
  this.pointerId = $e$jscomp$66$$.pointerId || 0;
  this.pointerType = $goog$isString$$($e$jscomp$66$$.pointerType) ? $e$jscomp$66$$.pointerType : $goog$events$BrowserEvent$IE_POINTER_TYPE_MAP$$[$e$jscomp$66$$.pointerType] || "";
  this.state = $e$jscomp$66$$.state;
  this.$b$ = $e$jscomp$66$$;
  $e$jscomp$66$$.defaultPrevented && this.$h$();
};
$goog$events$BrowserEvent$$.prototype.$h$ = function() {
  $goog$events$BrowserEvent$$.$superClass_$.$h$.call(this);
  var $be$$ = this.$b$;
  if ($be$$.preventDefault) {
    $be$$.preventDefault();
  } else {
    if ($be$$.returnValue = !1, $goog$events$BrowserFeature$SET_KEY_CODE_TO_PREVENT_DEFAULT$$) {
      try {
        if ($be$$.ctrlKey || 112 <= $be$$.keyCode && 123 >= $be$$.keyCode) {
          $be$$.keyCode = -1;
        }
      } catch ($ex$jscomp$9$$) {
      }
    }
  }
};
var $goog$events$Listenable$IMPLEMENTED_BY_PROP$$ = "closure_listenable_" + (1e6 * Math.random() | 0), $goog$events$Listenable$isImplementedBy$$ = function($obj$jscomp$109$$) {
  return !(!$obj$jscomp$109$$ || !$obj$jscomp$109$$[$goog$events$Listenable$IMPLEMENTED_BY_PROP$$]);
}, $goog$events$ListenableKey$counter_$$ = 0;
var $goog$events$Listener$$ = function($listener$jscomp$112$$, $src$jscomp$12$$, $type$jscomp$190$$, $capture$$, $opt_handler$jscomp$2$$) {
  this.listener = $listener$jscomp$112$$;
  this.proxy = null;
  this.src = $src$jscomp$12$$;
  this.type = $type$jscomp$190$$;
  this.capture = !!$capture$$;
  this.$handler$ = $opt_handler$jscomp$2$$;
  this.key = ++$goog$events$ListenableKey$counter_$$;
  this.removed = this.$callOnce$ = !1;
}, $JSCompiler_StaticMethods_markAsRemoved$$ = function($JSCompiler_StaticMethods_markAsRemoved$self$$) {
  $JSCompiler_StaticMethods_markAsRemoved$self$$.removed = !0;
  $JSCompiler_StaticMethods_markAsRemoved$self$$.listener = null;
  $JSCompiler_StaticMethods_markAsRemoved$self$$.proxy = null;
  $JSCompiler_StaticMethods_markAsRemoved$self$$.src = null;
  $JSCompiler_StaticMethods_markAsRemoved$self$$.$handler$ = null;
};
var $goog$events$ListenerMap$$ = function($src$jscomp$13$$) {
  this.src = $src$jscomp$13$$;
  this.$b$ = {};
  this.$f$ = 0;
};
$goog$events$ListenerMap$$.prototype.add = function($listenerArray_type$jscomp$192$$, $listener$jscomp$113_listenerObj$$, $callOnce$$, $opt_useCapture$jscomp$9$$, $opt_listenerScope$$) {
  var $typeStr$$ = $listenerArray_type$jscomp$192$$.toString();
  $listenerArray_type$jscomp$192$$ = this.$b$[$typeStr$$];
  $listenerArray_type$jscomp$192$$ || ($listenerArray_type$jscomp$192$$ = this.$b$[$typeStr$$] = [], this.$f$++);
  var $index$jscomp$97$$ = $goog$events$ListenerMap$findListenerIndex_$$($listenerArray_type$jscomp$192$$, $listener$jscomp$113_listenerObj$$, $opt_useCapture$jscomp$9$$, $opt_listenerScope$$);
  -1 < $index$jscomp$97$$ ? ($listener$jscomp$113_listenerObj$$ = $listenerArray_type$jscomp$192$$[$index$jscomp$97$$], $callOnce$$ || ($listener$jscomp$113_listenerObj$$.$callOnce$ = !1)) : ($listener$jscomp$113_listenerObj$$ = new $goog$events$Listener$$($listener$jscomp$113_listenerObj$$, this.src, $typeStr$$, !!$opt_useCapture$jscomp$9$$, $opt_listenerScope$$), $listener$jscomp$113_listenerObj$$.$callOnce$ = $callOnce$$, $listenerArray_type$jscomp$192$$.push($listener$jscomp$113_listenerObj$$));
  return $listener$jscomp$113_listenerObj$$;
};
$goog$events$ListenerMap$$.prototype.remove = function($type$jscomp$193_typeStr$jscomp$1$$, $index$jscomp$98_listener$jscomp$114$$, $opt_useCapture$jscomp$10$$, $opt_listenerScope$jscomp$1$$) {
  $type$jscomp$193_typeStr$jscomp$1$$ = $type$jscomp$193_typeStr$jscomp$1$$.toString();
  if (!($type$jscomp$193_typeStr$jscomp$1$$ in this.$b$)) {
    return !1;
  }
  var $listenerArray$jscomp$1$$ = this.$b$[$type$jscomp$193_typeStr$jscomp$1$$];
  $index$jscomp$98_listener$jscomp$114$$ = $goog$events$ListenerMap$findListenerIndex_$$($listenerArray$jscomp$1$$, $index$jscomp$98_listener$jscomp$114$$, $opt_useCapture$jscomp$10$$, $opt_listenerScope$jscomp$1$$);
  return -1 < $index$jscomp$98_listener$jscomp$114$$ ? ($JSCompiler_StaticMethods_markAsRemoved$$($listenerArray$jscomp$1$$[$index$jscomp$98_listener$jscomp$114$$]), $goog$array$removeAt$$($listenerArray$jscomp$1$$, $index$jscomp$98_listener$jscomp$114$$), 0 == $listenerArray$jscomp$1$$.length && (delete this.$b$[$type$jscomp$193_typeStr$jscomp$1$$], this.$f$--), !0) : !1;
};
var $JSCompiler_StaticMethods_removeByKey$$ = function($JSCompiler_StaticMethods_removeByKey$self$$, $listener$jscomp$115$$) {
  var $type$jscomp$194$$ = $listener$jscomp$115$$.type;
  if (!($type$jscomp$194$$ in $JSCompiler_StaticMethods_removeByKey$self$$.$b$)) {
    return !1;
  }
  var $removed$jscomp$2$$ = $goog$array$remove$$($JSCompiler_StaticMethods_removeByKey$self$$.$b$[$type$jscomp$194$$], $listener$jscomp$115$$);
  $removed$jscomp$2$$ && ($JSCompiler_StaticMethods_markAsRemoved$$($listener$jscomp$115$$), 0 == $JSCompiler_StaticMethods_removeByKey$self$$.$b$[$type$jscomp$194$$].length && (delete $JSCompiler_StaticMethods_removeByKey$self$$.$b$[$type$jscomp$194$$], $JSCompiler_StaticMethods_removeByKey$self$$.$f$--));
  return $removed$jscomp$2$$;
};
$goog$events$ListenerMap$$.prototype.removeAll = function($opt_type$jscomp$14_typeStr$jscomp$2$$) {
  $opt_type$jscomp$14_typeStr$jscomp$2$$ = $opt_type$jscomp$14_typeStr$jscomp$2$$ && $opt_type$jscomp$14_typeStr$jscomp$2$$.toString();
  var $count$jscomp$33$$ = 0, $type$jscomp$195$$;
  for ($type$jscomp$195$$ in this.$b$) {
    if (!$opt_type$jscomp$14_typeStr$jscomp$2$$ || $type$jscomp$195$$ == $opt_type$jscomp$14_typeStr$jscomp$2$$) {
      for (var $listenerArray$jscomp$2$$ = this.$b$[$type$jscomp$195$$], $i$jscomp$249$$ = 0; $i$jscomp$249$$ < $listenerArray$jscomp$2$$.length; $i$jscomp$249$$++) {
        ++$count$jscomp$33$$, $JSCompiler_StaticMethods_markAsRemoved$$($listenerArray$jscomp$2$$[$i$jscomp$249$$]);
      }
      delete this.$b$[$type$jscomp$195$$];
      this.$f$--;
    }
  }
  return $count$jscomp$33$$;
};
var $JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$$ = function($JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self_listenerArray$jscomp$4$$, $i$jscomp$251_type$jscomp$197$$, $listener$jscomp$116$$, $capture$jscomp$2$$, $opt_listenerScope$jscomp$2$$) {
  $JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self_listenerArray$jscomp$4$$ = $JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self_listenerArray$jscomp$4$$.$b$[$i$jscomp$251_type$jscomp$197$$.toString()];
  $i$jscomp$251_type$jscomp$197$$ = -1;
  $JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self_listenerArray$jscomp$4$$ && ($i$jscomp$251_type$jscomp$197$$ = $goog$events$ListenerMap$findListenerIndex_$$($JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self_listenerArray$jscomp$4$$, $listener$jscomp$116$$, $capture$jscomp$2$$, $opt_listenerScope$jscomp$2$$));
  return -1 < $i$jscomp$251_type$jscomp$197$$ ? $JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self_listenerArray$jscomp$4$$[$i$jscomp$251_type$jscomp$197$$] : null;
};
$goog$events$ListenerMap$$.prototype.hasListener = function($opt_type$jscomp$15$$, $opt_capture$$) {
  var $hasType$$ = $goog$isDef$$($opt_type$jscomp$15$$), $typeStr$jscomp$3$$ = $hasType$$ ? $opt_type$jscomp$15$$.toString() : "", $hasCapture$$ = $goog$isDef$$($opt_capture$$);
  return $goog$object$some$$(this.$b$, function($listenerArray$jscomp$5$$) {
    for (var $i$jscomp$252$$ = 0; $i$jscomp$252$$ < $listenerArray$jscomp$5$$.length; ++$i$jscomp$252$$) {
      if (!($hasType$$ && $listenerArray$jscomp$5$$[$i$jscomp$252$$].type != $typeStr$jscomp$3$$ || $hasCapture$$ && $listenerArray$jscomp$5$$[$i$jscomp$252$$].capture != $opt_capture$$)) {
        return !0;
      }
    }
    return !1;
  });
};
var $goog$events$ListenerMap$findListenerIndex_$$ = function($listenerArray$jscomp$6$$, $listener$jscomp$117$$, $opt_useCapture$jscomp$11$$, $opt_listenerScope$jscomp$3$$) {
  for (var $i$jscomp$253$$ = 0; $i$jscomp$253$$ < $listenerArray$jscomp$6$$.length; ++$i$jscomp$253$$) {
    var $listenerObj$jscomp$3$$ = $listenerArray$jscomp$6$$[$i$jscomp$253$$];
    if (!$listenerObj$jscomp$3$$.removed && $listenerObj$jscomp$3$$.listener == $listener$jscomp$117$$ && $listenerObj$jscomp$3$$.capture == !!$opt_useCapture$jscomp$11$$ && $listenerObj$jscomp$3$$.$handler$ == $opt_listenerScope$jscomp$3$$) {
      return $i$jscomp$253$$;
    }
  }
  return -1;
};
var $goog$events$LISTENER_MAP_PROP_$$ = "closure_lm_" + (1e6 * Math.random() | 0), $goog$events$onStringMap_$$ = {}, $goog$events$listenerCountEstimate_$$ = 0, $goog$events$listen$$ = function($src$jscomp$14$$, $type$jscomp$199$$, $listener$jscomp$118$$, $opt_options$jscomp$116$$, $opt_handler$jscomp$3$$) {
  if ($opt_options$jscomp$116$$ && $opt_options$jscomp$116$$.once) {
    return $goog$events$listenOnce$$($src$jscomp$14$$, $type$jscomp$199$$, $listener$jscomp$118$$, $opt_options$jscomp$116$$, $opt_handler$jscomp$3$$);
  }
  if ($goog$isArray$$($type$jscomp$199$$)) {
    for (var $i$jscomp$254$$ = 0; $i$jscomp$254$$ < $type$jscomp$199$$.length; $i$jscomp$254$$++) {
      $goog$events$listen$$($src$jscomp$14$$, $type$jscomp$199$$[$i$jscomp$254$$], $listener$jscomp$118$$, $opt_options$jscomp$116$$, $opt_handler$jscomp$3$$);
    }
    return null;
  }
  $listener$jscomp$118$$ = $goog$events$wrapListener$$($listener$jscomp$118$$);
  return $goog$events$Listenable$isImplementedBy$$($src$jscomp$14$$) ? $src$jscomp$14$$.listen($type$jscomp$199$$, $listener$jscomp$118$$, $goog$isObject$$($opt_options$jscomp$116$$) ? !!$opt_options$jscomp$116$$.capture : !!$opt_options$jscomp$116$$, $opt_handler$jscomp$3$$) : $goog$events$listen_$$($src$jscomp$14$$, $type$jscomp$199$$, $listener$jscomp$118$$, !1, $opt_options$jscomp$116$$, $opt_handler$jscomp$3$$);
}, $goog$events$listen_$$ = function($src$jscomp$15$$, $type$jscomp$200$$, $listener$jscomp$119_listenerObj$jscomp$4$$, $callOnce$jscomp$1_proxy$jscomp$2$$, $opt_options$jscomp$117$$, $opt_handler$jscomp$4$$) {
  if (!$type$jscomp$200$$) {
    throw Error("Invalid event type");
  }
  var $capture$jscomp$4$$ = $goog$isObject$$($opt_options$jscomp$117$$) ? !!$opt_options$jscomp$117$$.capture : !!$opt_options$jscomp$117$$, $listenerMap$$ = $goog$events$getListenerMap_$$($src$jscomp$15$$);
  $listenerMap$$ || ($src$jscomp$15$$[$goog$events$LISTENER_MAP_PROP_$$] = $listenerMap$$ = new $goog$events$ListenerMap$$($src$jscomp$15$$));
  $listener$jscomp$119_listenerObj$jscomp$4$$ = $listenerMap$$.add($type$jscomp$200$$, $listener$jscomp$119_listenerObj$jscomp$4$$, $callOnce$jscomp$1_proxy$jscomp$2$$, $capture$jscomp$4$$, $opt_handler$jscomp$4$$);
  if ($listener$jscomp$119_listenerObj$jscomp$4$$.proxy) {
    return $listener$jscomp$119_listenerObj$jscomp$4$$;
  }
  $callOnce$jscomp$1_proxy$jscomp$2$$ = $goog$events$getProxy$$();
  $listener$jscomp$119_listenerObj$jscomp$4$$.proxy = $callOnce$jscomp$1_proxy$jscomp$2$$;
  $callOnce$jscomp$1_proxy$jscomp$2$$.src = $src$jscomp$15$$;
  $callOnce$jscomp$1_proxy$jscomp$2$$.listener = $listener$jscomp$119_listenerObj$jscomp$4$$;
  if ($src$jscomp$15$$.addEventListener) {
    $goog$events$BrowserFeature$PASSIVE_EVENTS$$ || ($opt_options$jscomp$117$$ = $capture$jscomp$4$$), void 0 === $opt_options$jscomp$117$$ && ($opt_options$jscomp$117$$ = !1), $src$jscomp$15$$.addEventListener($type$jscomp$200$$.toString(), $callOnce$jscomp$1_proxy$jscomp$2$$, $opt_options$jscomp$117$$);
  } else {
    if ($src$jscomp$15$$.attachEvent) {
      $src$jscomp$15$$.attachEvent($goog$events$getOnString_$$($type$jscomp$200$$.toString()), $callOnce$jscomp$1_proxy$jscomp$2$$);
    } else {
      if ($src$jscomp$15$$.addListener && $src$jscomp$15$$.removeListener) {
        $goog$asserts$assert$$("change" === $type$jscomp$200$$, "MediaQueryList only has a change event"), $src$jscomp$15$$.addListener($callOnce$jscomp$1_proxy$jscomp$2$$);
      } else {
        throw Error("addEventListener and attachEvent are unavailable.");
      }
    }
  }
  $goog$events$listenerCountEstimate_$$++;
  return $listener$jscomp$119_listenerObj$jscomp$4$$;
}, $goog$events$getProxy$$ = function() {
  var $proxyCallbackFunction$$ = $goog$events$handleBrowserEvent_$$, $f$jscomp$67$$ = $goog$events$BrowserFeature$HAS_W3C_EVENT_SUPPORT$$ ? function($eventObject$$) {
    return $proxyCallbackFunction$$.call($f$jscomp$67$$.src, $f$jscomp$67$$.listener, $eventObject$$);
  } : function($eventObject$jscomp$1_v$jscomp$2$$) {
    $eventObject$jscomp$1_v$jscomp$2$$ = $proxyCallbackFunction$$.call($f$jscomp$67$$.src, $f$jscomp$67$$.listener, $eventObject$jscomp$1_v$jscomp$2$$);
    if (!$eventObject$jscomp$1_v$jscomp$2$$) {
      return $eventObject$jscomp$1_v$jscomp$2$$;
    }
  };
  return $f$jscomp$67$$;
}, $goog$events$listenOnce$$ = function($src$jscomp$16$$, $type$jscomp$201$$, $listener$jscomp$120$$, $opt_options$jscomp$118$$, $opt_handler$jscomp$5$$) {
  if ($goog$isArray$$($type$jscomp$201$$)) {
    for (var $i$jscomp$255$$ = 0; $i$jscomp$255$$ < $type$jscomp$201$$.length; $i$jscomp$255$$++) {
      $goog$events$listenOnce$$($src$jscomp$16$$, $type$jscomp$201$$[$i$jscomp$255$$], $listener$jscomp$120$$, $opt_options$jscomp$118$$, $opt_handler$jscomp$5$$);
    }
    return null;
  }
  $listener$jscomp$120$$ = $goog$events$wrapListener$$($listener$jscomp$120$$);
  return $goog$events$Listenable$isImplementedBy$$($src$jscomp$16$$) ? $JSCompiler_StaticMethods_goog_events_EventTarget_prototype$listenOnce$$($src$jscomp$16$$, $type$jscomp$201$$, $listener$jscomp$120$$, $goog$isObject$$($opt_options$jscomp$118$$) ? !!$opt_options$jscomp$118$$.capture : !!$opt_options$jscomp$118$$, $opt_handler$jscomp$5$$) : $goog$events$listen_$$($src$jscomp$16$$, $type$jscomp$201$$, $listener$jscomp$120$$, !0, $opt_options$jscomp$118$$, $opt_handler$jscomp$5$$);
}, $goog$events$unlisten$$ = function($listenerMap$jscomp$1_src$jscomp$18$$, $listenerObj$jscomp$5_type$jscomp$202$$, $listener$jscomp$122$$, $capture$jscomp$6_opt_options$jscomp$119$$, $opt_handler$jscomp$7$$) {
  if ($goog$isArray$$($listenerObj$jscomp$5_type$jscomp$202$$)) {
    for (var $i$jscomp$256$$ = 0; $i$jscomp$256$$ < $listenerObj$jscomp$5_type$jscomp$202$$.length; $i$jscomp$256$$++) {
      $goog$events$unlisten$$($listenerMap$jscomp$1_src$jscomp$18$$, $listenerObj$jscomp$5_type$jscomp$202$$[$i$jscomp$256$$], $listener$jscomp$122$$, $capture$jscomp$6_opt_options$jscomp$119$$, $opt_handler$jscomp$7$$);
    }
  } else {
    $capture$jscomp$6_opt_options$jscomp$119$$ = $goog$isObject$$($capture$jscomp$6_opt_options$jscomp$119$$) ? !!$capture$jscomp$6_opt_options$jscomp$119$$.capture : !!$capture$jscomp$6_opt_options$jscomp$119$$, $listener$jscomp$122$$ = $goog$events$wrapListener$$($listener$jscomp$122$$), $goog$events$Listenable$isImplementedBy$$($listenerMap$jscomp$1_src$jscomp$18$$) ? $listenerMap$jscomp$1_src$jscomp$18$$.$H$.remove(String($listenerObj$jscomp$5_type$jscomp$202$$), $listener$jscomp$122$$, $capture$jscomp$6_opt_options$jscomp$119$$, 
    $opt_handler$jscomp$7$$) : $listenerMap$jscomp$1_src$jscomp$18$$ && ($listenerMap$jscomp$1_src$jscomp$18$$ = $goog$events$getListenerMap_$$($listenerMap$jscomp$1_src$jscomp$18$$)) && ($listenerObj$jscomp$5_type$jscomp$202$$ = $JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$$($listenerMap$jscomp$1_src$jscomp$18$$, $listenerObj$jscomp$5_type$jscomp$202$$, $listener$jscomp$122$$, $capture$jscomp$6_opt_options$jscomp$119$$, $opt_handler$jscomp$7$$)) && $goog$events$unlistenByKey$$($listenerObj$jscomp$5_type$jscomp$202$$);
  }
}, $goog$events$unlistenByKey$$ = function($key$jscomp$161$$) {
  if ($goog$isNumber$$($key$jscomp$161$$) || !$key$jscomp$161$$ || $key$jscomp$161$$.removed) {
    return !1;
  }
  var $src$jscomp$19$$ = $key$jscomp$161$$.src;
  if ($goog$events$Listenable$isImplementedBy$$($src$jscomp$19$$)) {
    return $JSCompiler_StaticMethods_removeByKey$$($src$jscomp$19$$.$H$, $key$jscomp$161$$);
  }
  var $listenerMap$jscomp$2_type$jscomp$203$$ = $key$jscomp$161$$.type, $proxy$jscomp$3$$ = $key$jscomp$161$$.proxy;
  $src$jscomp$19$$.removeEventListener ? $src$jscomp$19$$.removeEventListener($listenerMap$jscomp$2_type$jscomp$203$$, $proxy$jscomp$3$$, $key$jscomp$161$$.capture) : $src$jscomp$19$$.detachEvent ? $src$jscomp$19$$.detachEvent($goog$events$getOnString_$$($listenerMap$jscomp$2_type$jscomp$203$$), $proxy$jscomp$3$$) : $src$jscomp$19$$.addListener && $src$jscomp$19$$.removeListener && $src$jscomp$19$$.removeListener($proxy$jscomp$3$$);
  $goog$events$listenerCountEstimate_$$--;
  ($listenerMap$jscomp$2_type$jscomp$203$$ = $goog$events$getListenerMap_$$($src$jscomp$19$$)) ? ($JSCompiler_StaticMethods_removeByKey$$($listenerMap$jscomp$2_type$jscomp$203$$, $key$jscomp$161$$), 0 == $listenerMap$jscomp$2_type$jscomp$203$$.$f$ && ($listenerMap$jscomp$2_type$jscomp$203$$.src = null, $src$jscomp$19$$[$goog$events$LISTENER_MAP_PROP_$$] = null)) : $JSCompiler_StaticMethods_markAsRemoved$$($key$jscomp$161$$);
  return !0;
}, $goog$events$removeAll$$ = function($listenerMap$jscomp$3_obj$jscomp$110$$) {
  if ($listenerMap$jscomp$3_obj$jscomp$110$$) {
    if ($goog$events$Listenable$isImplementedBy$$($listenerMap$jscomp$3_obj$jscomp$110$$)) {
      $listenerMap$jscomp$3_obj$jscomp$110$$.$removeAllListeners$(void 0);
    } else {
      if ($listenerMap$jscomp$3_obj$jscomp$110$$ = $goog$events$getListenerMap_$$($listenerMap$jscomp$3_obj$jscomp$110$$)) {
        var $count$jscomp$34$$ = 0, $type$jscomp$204$$;
        for ($type$jscomp$204$$ in $listenerMap$jscomp$3_obj$jscomp$110$$.$b$) {
          for (var $listeners$$ = $listenerMap$jscomp$3_obj$jscomp$110$$.$b$[$type$jscomp$204$$].concat(), $i$jscomp$257$$ = 0; $i$jscomp$257$$ < $listeners$$.length; ++$i$jscomp$257$$) {
            $goog$events$unlistenByKey$$($listeners$$[$i$jscomp$257$$]) && ++$count$jscomp$34$$;
          }
        }
      }
    }
  }
}, $goog$events$getOnString_$$ = function($type$jscomp$207$$) {
  return $type$jscomp$207$$ in $goog$events$onStringMap_$$ ? $goog$events$onStringMap_$$[$type$jscomp$207$$] : $goog$events$onStringMap_$$[$type$jscomp$207$$] = "on" + $type$jscomp$207$$;
}, $goog$events$fireListeners_$$ = function($i$jscomp$258_listenerMap$jscomp$7_obj$jscomp$114$$, $listenerArray$jscomp$7_type$jscomp$209$$, $capture$jscomp$10$$, $eventObject$jscomp$3$$) {
  var $retval$$ = !0;
  if ($i$jscomp$258_listenerMap$jscomp$7_obj$jscomp$114$$ = $goog$events$getListenerMap_$$($i$jscomp$258_listenerMap$jscomp$7_obj$jscomp$114$$)) {
    if ($listenerArray$jscomp$7_type$jscomp$209$$ = $i$jscomp$258_listenerMap$jscomp$7_obj$jscomp$114$$.$b$[$listenerArray$jscomp$7_type$jscomp$209$$.toString()]) {
      for ($listenerArray$jscomp$7_type$jscomp$209$$ = $listenerArray$jscomp$7_type$jscomp$209$$.concat(), $i$jscomp$258_listenerMap$jscomp$7_obj$jscomp$114$$ = 0; $i$jscomp$258_listenerMap$jscomp$7_obj$jscomp$114$$ < $listenerArray$jscomp$7_type$jscomp$209$$.length; $i$jscomp$258_listenerMap$jscomp$7_obj$jscomp$114$$++) {
        var $listener$jscomp$126_result$jscomp$57$$ = $listenerArray$jscomp$7_type$jscomp$209$$[$i$jscomp$258_listenerMap$jscomp$7_obj$jscomp$114$$];
        $listener$jscomp$126_result$jscomp$57$$ && $listener$jscomp$126_result$jscomp$57$$.capture == $capture$jscomp$10$$ && !$listener$jscomp$126_result$jscomp$57$$.removed && ($listener$jscomp$126_result$jscomp$57$$ = $goog$events$fireListener$$($listener$jscomp$126_result$jscomp$57$$, $eventObject$jscomp$3$$), $retval$$ = $retval$$ && !1 !== $listener$jscomp$126_result$jscomp$57$$);
      }
    }
  }
  return $retval$$;
}, $goog$events$fireListener$$ = function($listener$jscomp$127$$, $eventObject$jscomp$4$$) {
  var $listenerFn$$ = $listener$jscomp$127$$.listener, $listenerHandler$$ = $listener$jscomp$127$$.$handler$ || $listener$jscomp$127$$.src;
  $listener$jscomp$127$$.$callOnce$ && $goog$events$unlistenByKey$$($listener$jscomp$127$$);
  return $listenerFn$$.call($listenerHandler$$, $eventObject$jscomp$4$$);
}, $goog$events$handleBrowserEvent_$$ = function($listener$jscomp$128_type$jscomp$210$$, $evt$jscomp$32_opt_evt$$) {
  if ($listener$jscomp$128_type$jscomp$210$$.removed) {
    return !0;
  }
  if (!$goog$events$BrowserFeature$HAS_W3C_EVENT_SUPPORT$$) {
    var $ancestors$jscomp$1_ieEvent$$ = $evt$jscomp$32_opt_evt$$ || $goog$getObjectByName$$("window.event");
    $evt$jscomp$32_opt_evt$$ = new $goog$events$BrowserEvent$$($ancestors$jscomp$1_ieEvent$$, this);
    var $retval$jscomp$1$$ = !0;
    if (!(0 > $ancestors$jscomp$1_ieEvent$$.keyCode || void 0 != $ancestors$jscomp$1_ieEvent$$.returnValue)) {
      a: {
        var $i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$ = !1;
        if (0 == $ancestors$jscomp$1_ieEvent$$.keyCode) {
          try {
            $ancestors$jscomp$1_ieEvent$$.keyCode = -1;
            break a;
          } catch ($ex$jscomp$inline_2153$$) {
            $i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$ = !0;
          }
        }
        if ($i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$ || void 0 == $ancestors$jscomp$1_ieEvent$$.returnValue) {
          $ancestors$jscomp$1_ieEvent$$.returnValue = !0;
        }
      }
      $ancestors$jscomp$1_ieEvent$$ = [];
      for ($i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$ = $evt$jscomp$32_opt_evt$$.$f$; $i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$; $i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$ = $i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$.parentNode) {
        $ancestors$jscomp$1_ieEvent$$.push($i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$);
      }
      $listener$jscomp$128_type$jscomp$210$$ = $listener$jscomp$128_type$jscomp$210$$.type;
      for ($i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$ = $ancestors$jscomp$1_ieEvent$$.length - 1; 0 <= $i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$; $i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$--) {
        $evt$jscomp$32_opt_evt$$.$f$ = $ancestors$jscomp$1_ieEvent$$[$i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$];
        var $result$jscomp$58$$ = $goog$events$fireListeners_$$($ancestors$jscomp$1_ieEvent$$[$i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$], $listener$jscomp$128_type$jscomp$210$$, !0, $evt$jscomp$32_opt_evt$$);
        $retval$jscomp$1$$ = $retval$jscomp$1$$ && $result$jscomp$58$$;
      }
      for ($i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$ = 0; $i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$ < $ancestors$jscomp$1_ieEvent$$.length; $i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$++) {
        $evt$jscomp$32_opt_evt$$.$f$ = $ancestors$jscomp$1_ieEvent$$[$i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$], $result$jscomp$58$$ = $goog$events$fireListeners_$$($ancestors$jscomp$1_ieEvent$$[$i$jscomp$259_parent$jscomp$27_useReturnValue$jscomp$inline_2152$$], $listener$jscomp$128_type$jscomp$210$$, !1, $evt$jscomp$32_opt_evt$$), $retval$jscomp$1$$ = $retval$jscomp$1$$ && $result$jscomp$58$$;
      }
    }
    return $retval$jscomp$1$$;
  }
  return $goog$events$fireListener$$($listener$jscomp$128_type$jscomp$210$$, new $goog$events$BrowserEvent$$($evt$jscomp$32_opt_evt$$, this));
}, $goog$events$getListenerMap_$$ = function($listenerMap$jscomp$8_src$jscomp$23$$) {
  $listenerMap$jscomp$8_src$jscomp$23$$ = $listenerMap$jscomp$8_src$jscomp$23$$[$goog$events$LISTENER_MAP_PROP_$$];
  return $listenerMap$jscomp$8_src$jscomp$23$$ instanceof $goog$events$ListenerMap$$ ? $listenerMap$jscomp$8_src$jscomp$23$$ : null;
}, $goog$events$LISTENER_WRAPPER_PROP_$$ = "__closure_events_fn_" + (1e9 * Math.random() >>> 0), $goog$events$wrapListener$$ = function($listener$jscomp$129$$) {
  $goog$asserts$assert$$($listener$jscomp$129$$, "Listener can not be null.");
  if ($goog$isFunction$$($listener$jscomp$129$$)) {
    return $listener$jscomp$129$$;
  }
  $goog$asserts$assert$$($listener$jscomp$129$$.handleEvent, "An object listener must have handleEvent method.");
  $listener$jscomp$129$$[$goog$events$LISTENER_WRAPPER_PROP_$$] || ($listener$jscomp$129$$[$goog$events$LISTENER_WRAPPER_PROP_$$] = function($e$jscomp$72$$) {
    return $listener$jscomp$129$$.handleEvent($e$jscomp$72$$);
  });
  return $listener$jscomp$129$$[$goog$events$LISTENER_WRAPPER_PROP_$$];
};
var $goog$events$EventTarget$$ = function() {
  $goog$Disposable$$.call(this);
  this.$H$ = new $goog$events$ListenerMap$$(this);
  this.$Xa$ = this;
  this.$G$ = null;
};
$goog$inherits$$($goog$events$EventTarget$$, $goog$Disposable$$);
$goog$events$EventTarget$$.prototype[$goog$events$Listenable$IMPLEMENTED_BY_PROP$$] = !0;
$JSCompiler_prototypeAlias$$ = $goog$events$EventTarget$$.prototype;
$JSCompiler_prototypeAlias$$.addEventListener = function($type$jscomp$211$$, $handler$jscomp$21$$, $opt_capture$jscomp$2$$, $opt_handlerScope$$) {
  $goog$events$listen$$(this, $type$jscomp$211$$, $handler$jscomp$21$$, $opt_capture$jscomp$2$$, $opt_handlerScope$$);
};
$JSCompiler_prototypeAlias$$.removeEventListener = function($type$jscomp$212$$, $handler$jscomp$22$$, $opt_capture$jscomp$3$$, $opt_handlerScope$jscomp$1$$) {
  $goog$events$unlisten$$(this, $type$jscomp$212$$, $handler$jscomp$22$$, $opt_capture$jscomp$3$$, $opt_handlerScope$jscomp$1$$);
};
$JSCompiler_prototypeAlias$$.$goog_events_EventTarget_prototype$dispatchEvent$ = function($e$jscomp$73_e$jscomp$inline_2158$$) {
  $JSCompiler_StaticMethods_assertInitialized_$$(this);
  var $ancestor_target$jscomp$inline_2157$$ = this.$G$;
  if ($ancestor_target$jscomp$inline_2157$$) {
    var $ancestorsTree_opt_ancestorsTree$jscomp$inline_2159$$ = [];
    for (var $ancestorCount_type$jscomp$inline_2160$$ = 1; $ancestor_target$jscomp$inline_2157$$; $ancestor_target$jscomp$inline_2157$$ = $ancestor_target$jscomp$inline_2157$$.$G$) {
      $ancestorsTree_opt_ancestorsTree$jscomp$inline_2159$$.push($ancestor_target$jscomp$inline_2157$$), $goog$asserts$assert$$(1000 > ++$ancestorCount_type$jscomp$inline_2160$$, "infinite loop");
    }
  }
  $ancestor_target$jscomp$inline_2157$$ = this.$Xa$;
  $ancestorCount_type$jscomp$inline_2160$$ = $e$jscomp$73_e$jscomp$inline_2158$$.type || $e$jscomp$73_e$jscomp$inline_2158$$;
  if ($goog$isString$$($e$jscomp$73_e$jscomp$inline_2158$$)) {
    $e$jscomp$73_e$jscomp$inline_2158$$ = new $goog$events$Event$$($e$jscomp$73_e$jscomp$inline_2158$$, $ancestor_target$jscomp$inline_2157$$);
  } else {
    if ($e$jscomp$73_e$jscomp$inline_2158$$ instanceof $goog$events$Event$$) {
      $e$jscomp$73_e$jscomp$inline_2158$$.target = $e$jscomp$73_e$jscomp$inline_2158$$.target || $ancestor_target$jscomp$inline_2157$$;
    } else {
      var $oldEvent$jscomp$inline_2161_rv$jscomp$inline_2162$$ = $e$jscomp$73_e$jscomp$inline_2158$$;
      $e$jscomp$73_e$jscomp$inline_2158$$ = new $goog$events$Event$$($ancestorCount_type$jscomp$inline_2160$$, $ancestor_target$jscomp$inline_2157$$);
      $goog$object$extend$$($e$jscomp$73_e$jscomp$inline_2158$$, $oldEvent$jscomp$inline_2161_rv$jscomp$inline_2162$$);
    }
  }
  $oldEvent$jscomp$inline_2161_rv$jscomp$inline_2162$$ = !0;
  if ($ancestorsTree_opt_ancestorsTree$jscomp$inline_2159$$) {
    for (var $i$jscomp$inline_2164$$ = $ancestorsTree_opt_ancestorsTree$jscomp$inline_2159$$.length - 1; 0 <= $i$jscomp$inline_2164$$; $i$jscomp$inline_2164$$--) {
      var $currentTarget$jscomp$inline_2163$$ = $e$jscomp$73_e$jscomp$inline_2158$$.$f$ = $ancestorsTree_opt_ancestorsTree$jscomp$inline_2159$$[$i$jscomp$inline_2164$$];
      $oldEvent$jscomp$inline_2161_rv$jscomp$inline_2162$$ = $currentTarget$jscomp$inline_2163$$.$fireListeners$($ancestorCount_type$jscomp$inline_2160$$, !0, $e$jscomp$73_e$jscomp$inline_2158$$) && $oldEvent$jscomp$inline_2161_rv$jscomp$inline_2162$$;
    }
  }
  $currentTarget$jscomp$inline_2163$$ = $e$jscomp$73_e$jscomp$inline_2158$$.$f$ = $ancestor_target$jscomp$inline_2157$$;
  $oldEvent$jscomp$inline_2161_rv$jscomp$inline_2162$$ = $currentTarget$jscomp$inline_2163$$.$fireListeners$($ancestorCount_type$jscomp$inline_2160$$, !0, $e$jscomp$73_e$jscomp$inline_2158$$) && $oldEvent$jscomp$inline_2161_rv$jscomp$inline_2162$$;
  $oldEvent$jscomp$inline_2161_rv$jscomp$inline_2162$$ = $currentTarget$jscomp$inline_2163$$.$fireListeners$($ancestorCount_type$jscomp$inline_2160$$, !1, $e$jscomp$73_e$jscomp$inline_2158$$) && $oldEvent$jscomp$inline_2161_rv$jscomp$inline_2162$$;
  if ($ancestorsTree_opt_ancestorsTree$jscomp$inline_2159$$) {
    for ($i$jscomp$inline_2164$$ = 0; $i$jscomp$inline_2164$$ < $ancestorsTree_opt_ancestorsTree$jscomp$inline_2159$$.length; $i$jscomp$inline_2164$$++) {
      $currentTarget$jscomp$inline_2163$$ = $e$jscomp$73_e$jscomp$inline_2158$$.$f$ = $ancestorsTree_opt_ancestorsTree$jscomp$inline_2159$$[$i$jscomp$inline_2164$$], $oldEvent$jscomp$inline_2161_rv$jscomp$inline_2162$$ = $currentTarget$jscomp$inline_2163$$.$fireListeners$($ancestorCount_type$jscomp$inline_2160$$, !1, $e$jscomp$73_e$jscomp$inline_2158$$) && $oldEvent$jscomp$inline_2161_rv$jscomp$inline_2162$$;
    }
  }
  return $oldEvent$jscomp$inline_2161_rv$jscomp$inline_2162$$;
};
$JSCompiler_prototypeAlias$$.$goog_Disposable_prototype$disposeInternal$ = function() {
  $goog$events$EventTarget$$.$superClass_$.$goog_Disposable_prototype$disposeInternal$.call(this);
  this.$removeAllListeners$();
  this.$G$ = null;
};
$JSCompiler_prototypeAlias$$.listen = function($type$jscomp$213$$, $listener$jscomp$130$$, $opt_useCapture$jscomp$12$$, $opt_listenerScope$jscomp$4$$) {
  $JSCompiler_StaticMethods_assertInitialized_$$(this);
  return this.$H$.add(String($type$jscomp$213$$), $listener$jscomp$130$$, !1, $opt_useCapture$jscomp$12$$, $opt_listenerScope$jscomp$4$$);
};
var $JSCompiler_StaticMethods_goog_events_EventTarget_prototype$listenOnce$$ = function($JSCompiler_StaticMethods_goog_events_EventTarget_prototype$listenOnce$self$$, $type$jscomp$214$$, $listener$jscomp$131$$, $opt_useCapture$jscomp$13$$, $opt_listenerScope$jscomp$5$$) {
  return $JSCompiler_StaticMethods_goog_events_EventTarget_prototype$listenOnce$self$$.$H$.add(String($type$jscomp$214$$), $listener$jscomp$131$$, !0, $opt_useCapture$jscomp$13$$, $opt_listenerScope$jscomp$5$$);
};
$goog$events$EventTarget$$.prototype.$removeAllListeners$ = function($opt_type$jscomp$18$$) {
  this.$H$ && this.$H$.removeAll($opt_type$jscomp$18$$);
};
$goog$events$EventTarget$$.prototype.$fireListeners$ = function($listenerArray$jscomp$8_type$jscomp$216$$, $capture$jscomp$11$$, $eventObject$jscomp$5$$) {
  $listenerArray$jscomp$8_type$jscomp$216$$ = this.$H$.$b$[String($listenerArray$jscomp$8_type$jscomp$216$$)];
  if (!$listenerArray$jscomp$8_type$jscomp$216$$) {
    return !0;
  }
  $listenerArray$jscomp$8_type$jscomp$216$$ = $listenerArray$jscomp$8_type$jscomp$216$$.concat();
  for (var $rv$jscomp$21$$ = !0, $i$jscomp$260$$ = 0; $i$jscomp$260$$ < $listenerArray$jscomp$8_type$jscomp$216$$.length; ++$i$jscomp$260$$) {
    var $listener$jscomp$133$$ = $listenerArray$jscomp$8_type$jscomp$216$$[$i$jscomp$260$$];
    if ($listener$jscomp$133$$ && !$listener$jscomp$133$$.removed && $listener$jscomp$133$$.capture == $capture$jscomp$11$$) {
      var $listenerFn$jscomp$1$$ = $listener$jscomp$133$$.listener, $listenerHandler$jscomp$1$$ = $listener$jscomp$133$$.$handler$ || $listener$jscomp$133$$.src;
      $listener$jscomp$133$$.$callOnce$ && $JSCompiler_StaticMethods_removeByKey$$(this.$H$, $listener$jscomp$133$$);
      $rv$jscomp$21$$ = !1 !== $listenerFn$jscomp$1$$.call($listenerHandler$jscomp$1$$, $eventObject$jscomp$5$$) && $rv$jscomp$21$$;
    }
  }
  return $rv$jscomp$21$$ && 0 != $eventObject$jscomp$5$$.$returnValue_$;
};
$goog$events$EventTarget$$.prototype.hasListener = function($opt_type$jscomp$19$$, $opt_capture$jscomp$4$$) {
  return this.$H$.hasListener($goog$isDef$$($opt_type$jscomp$19$$) ? String($opt_type$jscomp$19$$) : void 0, $opt_capture$jscomp$4$$);
};
var $JSCompiler_StaticMethods_assertInitialized_$$ = function($JSCompiler_StaticMethods_assertInitialized_$self$$) {
  $goog$asserts$assert$$($JSCompiler_StaticMethods_assertInitialized_$self$$.$H$, "Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?");
};
var $goog$async$FreeList$$ = function($create$jscomp$1$$, $reset$$) {
  this.$g$ = $create$jscomp$1$$;
  this.$h$ = $reset$$;
  this.$f$ = 0;
  this.$b$ = null;
};
$goog$async$FreeList$$.prototype.get = function() {
  if (0 < this.$f$) {
    this.$f$--;
    var $item$jscomp$4$$ = this.$b$;
    this.$b$ = $item$jscomp$4$$.next;
    $item$jscomp$4$$.next = null;
  } else {
    $item$jscomp$4$$ = this.$g$();
  }
  return $item$jscomp$4$$;
};
var $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$$ = function($JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self$$, $item$jscomp$5$$) {
  $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self$$.$h$($item$jscomp$5$$);
  100 > $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self$$.$f$ && ($JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self$$.$f$++, $item$jscomp$5$$.next = $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self$$.$b$, $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self$$.$b$ = $item$jscomp$5$$);
};
var $goog$async$throwException$$ = function($exception$jscomp$14$$) {
  $goog$global$$.setTimeout(function() {
    throw $exception$jscomp$14$$;
  }, 0);
}, $goog$async$nextTick$setImmediate_$$, $goog$async$nextTick$getSetImmediateEmulator_$$ = function() {
  var $Channel$$ = $goog$global$$.MessageChannel;
  "undefined" === typeof $Channel$$ && "undefined" !== typeof window && window.postMessage && window.addEventListener && !$goog$labs$userAgent$util$matchUserAgent$$("Presto") && ($Channel$$ = function() {
    var $doc$jscomp$39_iframe$jscomp$4_onmessage$$ = document.createElement("IFRAME");
    $doc$jscomp$39_iframe$jscomp$4_onmessage$$.style.display = "none";
    $goog$dom$safe$setIframeSrc$$($doc$jscomp$39_iframe$jscomp$4_onmessage$$);
    document.documentElement.appendChild($doc$jscomp$39_iframe$jscomp$4_onmessage$$);
    var $win$jscomp$12$$ = $doc$jscomp$39_iframe$jscomp$4_onmessage$$.contentWindow;
    $doc$jscomp$39_iframe$jscomp$4_onmessage$$ = $win$jscomp$12$$.document;
    $doc$jscomp$39_iframe$jscomp$4_onmessage$$.open();
    $doc$jscomp$39_iframe$jscomp$4_onmessage$$.write($goog$html$SafeHtml$unwrapTrustedHTML$$($goog$html$SafeHtml$EMPTY$$));
    $doc$jscomp$39_iframe$jscomp$4_onmessage$$.close();
    var $message$jscomp$124$$ = "callImmediate" + Math.random(), $origin$jscomp$19$$ = "file:" == $win$jscomp$12$$.location.protocol ? "*" : $win$jscomp$12$$.location.protocol + "//" + $win$jscomp$12$$.location.host;
    $doc$jscomp$39_iframe$jscomp$4_onmessage$$ = $goog$bind$$(function($e$jscomp$75$$) {
      if (("*" == $origin$jscomp$19$$ || $e$jscomp$75$$.origin == $origin$jscomp$19$$) && $e$jscomp$75$$.data == $message$jscomp$124$$) {
        this.port1.onmessage();
      }
    }, this);
    $win$jscomp$12$$.addEventListener("message", $doc$jscomp$39_iframe$jscomp$4_onmessage$$, !1);
    this.port1 = {};
    this.port2 = {postMessage:function() {
      $win$jscomp$12$$.postMessage($message$jscomp$124$$, $origin$jscomp$19$$);
    }};
  });
  if ("undefined" !== typeof $Channel$$ && !$goog$labs$userAgent$util$matchUserAgent$$("Trident") && !$goog$labs$userAgent$util$matchUserAgent$$("MSIE")) {
    var $channel$jscomp$22$$ = new $Channel$$, $head$$ = {}, $tail$jscomp$1$$ = $head$$;
    $channel$jscomp$22$$.port1.onmessage = function() {
      if ($goog$isDef$$($head$$.next)) {
        $head$$ = $head$$.next;
        var $cb$jscomp$3$$ = $head$$.$cb$;
        $head$$.$cb$ = null;
        $cb$jscomp$3$$();
      }
    };
    return function($cb$jscomp$4$$) {
      $tail$jscomp$1$$.next = {$cb$:$cb$jscomp$4$$};
      $tail$jscomp$1$$ = $tail$jscomp$1$$.next;
      $channel$jscomp$22$$.port2.postMessage(0);
    };
  }
  return "undefined" !== typeof document && "onreadystatechange" in document.createElement("SCRIPT") ? function($cb$jscomp$5$$) {
    var $script$jscomp$18$$ = document.createElement("SCRIPT");
    $script$jscomp$18$$.onreadystatechange = function() {
      $script$jscomp$18$$.onreadystatechange = null;
      $script$jscomp$18$$.parentNode.removeChild($script$jscomp$18$$);
      $script$jscomp$18$$ = null;
      $cb$jscomp$5$$();
      $cb$jscomp$5$$ = null;
    };
    document.documentElement.appendChild($script$jscomp$18$$);
  } : function($cb$jscomp$6$$) {
    $goog$global$$.setTimeout($cb$jscomp$6$$, 0);
  };
};
var $goog$async$WorkQueue$$ = function() {
  this.$f$ = this.$b$ = null;
}, $goog$async$WorkQueue$freelist_$$ = new $goog$async$FreeList$$(function() {
  return new $goog$async$WorkItem$$;
}, function($item$jscomp$6$$) {
  $item$jscomp$6$$.reset();
});
$goog$async$WorkQueue$$.prototype.add = function($fn$jscomp$27$$, $scope$jscomp$1$$) {
  var $item$jscomp$7$$ = $goog$async$WorkQueue$freelist_$$.get();
  $item$jscomp$7$$.set($fn$jscomp$27$$, $scope$jscomp$1$$);
  this.$f$ ? this.$f$.next = $item$jscomp$7$$ : ($goog$asserts$assert$$(!this.$b$), this.$b$ = $item$jscomp$7$$);
  this.$f$ = $item$jscomp$7$$;
};
$goog$async$WorkQueue$$.prototype.remove = function() {
  var $item$jscomp$8$$ = null;
  this.$b$ && ($item$jscomp$8$$ = this.$b$, this.$b$ = this.$b$.next, this.$b$ || (this.$f$ = null), $item$jscomp$8$$.next = null);
  return $item$jscomp$8$$;
};
var $goog$async$WorkItem$$ = function() {
  this.next = this.scope = this.$b$ = null;
};
$goog$async$WorkItem$$.prototype.set = function($fn$jscomp$28$$, $scope$jscomp$2$$) {
  this.$b$ = $fn$jscomp$28$$;
  this.scope = $scope$jscomp$2$$;
  this.next = null;
};
$goog$async$WorkItem$$.prototype.reset = function() {
  this.next = this.scope = this.$b$ = null;
};
var $goog$async$run$$ = function($callback$jscomp$379$$, $opt_context$jscomp$12$$) {
  $goog$async$run$schedule_$$ || $goog$async$run$initializeRunner_$$();
  $goog$async$run$workQueueScheduled_$$ || ($goog$async$run$schedule_$$(), $goog$async$run$workQueueScheduled_$$ = !0);
  $goog$async$run$workQueue_$$.add($callback$jscomp$379$$, $opt_context$jscomp$12$$);
}, $goog$async$run$schedule_$$, $goog$async$run$initializeRunner_$$ = function() {
  if ($goog$global$$.Promise && $goog$global$$.Promise.resolve) {
    var $promise$jscomp$14$$ = $goog$global$$.Promise.resolve(void 0);
    $goog$async$run$schedule_$$ = function() {
      $promise$jscomp$14$$.then($goog$async$run$processWorkQueue$$);
    };
  } else {
    $goog$async$run$schedule_$$ = function() {
      var $cb$jscomp$inline_2169$$ = $goog$async$run$processWorkQueue$$;
      !$goog$isFunction$$($goog$global$$.setImmediate) || $goog$global$$.Window && $goog$global$$.Window.prototype && !$goog$labs$userAgent$util$matchUserAgent$$("Edge") && $goog$global$$.Window.prototype.setImmediate == $goog$global$$.setImmediate ? ($goog$async$nextTick$setImmediate_$$ || ($goog$async$nextTick$setImmediate_$$ = $goog$async$nextTick$getSetImmediateEmulator_$$()), $goog$async$nextTick$setImmediate_$$($cb$jscomp$inline_2169$$)) : $goog$global$$.setImmediate($cb$jscomp$inline_2169$$);
    };
  }
}, $goog$async$run$workQueueScheduled_$$ = !1, $goog$async$run$workQueue_$$ = new $goog$async$WorkQueue$$, $goog$async$run$processWorkQueue$$ = function() {
  for (var $item$jscomp$10$$; $item$jscomp$10$$ = $goog$async$run$workQueue_$$.remove();) {
    try {
      $item$jscomp$10$$.$b$.call($item$jscomp$10$$.scope);
    } catch ($e$jscomp$76$$) {
      $goog$async$throwException$$($e$jscomp$76$$);
    }
    $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$$($goog$async$WorkQueue$freelist_$$, $item$jscomp$10$$);
  }
  $goog$async$run$workQueueScheduled_$$ = !1;
};
var $goog$Thenable$addImplementation$$ = function($ctor$jscomp$11$$) {
  $ctor$jscomp$11$$.prototype.$goog_Thenable = !0;
}, $goog$Thenable$isImplementedBy$$ = function($object$jscomp$18$$) {
  if (!$object$jscomp$18$$) {
    return !1;
  }
  try {
    return !!$object$jscomp$18$$.$goog_Thenable;
  } catch ($e$jscomp$77$$) {
    return !1;
  }
};
var $goog$Promise$$ = function($resolver$jscomp$12$$, $opt_context$jscomp$14$$) {
  this.$b$ = 0;
  this.$o$ = void 0;
  this.$h$ = this.$f$ = this.$g$ = null;
  this.$l$ = this.$m$ = !1;
  if ($resolver$jscomp$12$$ != $goog$nullFunction$$) {
    try {
      var $self$jscomp$15$$ = this;
      $resolver$jscomp$12$$.call($opt_context$jscomp$14$$, function($value$jscomp$386$$) {
        $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$$($self$jscomp$15$$, 2, $value$jscomp$386$$);
      }, function($reason$jscomp$26$$) {
        if (!($reason$jscomp$26$$ instanceof $goog$Promise$CancellationError$$)) {
          try {
            if ($reason$jscomp$26$$ instanceof Error) {
              throw $reason$jscomp$26$$;
            }
            throw Error("Promise rejected.");
          } catch ($e$jscomp$78$$) {
          }
        }
        $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$$($self$jscomp$15$$, 3, $reason$jscomp$26$$);
      });
    } catch ($e$jscomp$79$$) {
      $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$$(this, 3, $e$jscomp$79$$);
    }
  }
}, $goog$Promise$CallbackEntry_$$ = function() {
  this.next = this.context = this.$g$ = this.$f$ = this.$b$ = null;
  this.$h$ = !1;
};
$goog$Promise$CallbackEntry_$$.prototype.reset = function() {
  this.context = this.$g$ = this.$f$ = this.$b$ = null;
  this.$h$ = !1;
};
var $goog$Promise$freelist_$$ = new $goog$async$FreeList$$(function() {
  return new $goog$Promise$CallbackEntry_$$;
}, function($item$jscomp$11$$) {
  $item$jscomp$11$$.reset();
}), $goog$Promise$getCallbackEntry_$$ = function($onFulfilled$jscomp$3$$, $onRejected$jscomp$7$$, $context$jscomp$17$$) {
  var $entry$jscomp$17$$ = $goog$Promise$freelist_$$.get();
  $entry$jscomp$17$$.$f$ = $onFulfilled$jscomp$3$$;
  $entry$jscomp$17$$.$g$ = $onRejected$jscomp$7$$;
  $entry$jscomp$17$$.context = $context$jscomp$17$$;
  return $entry$jscomp$17$$;
}, $goog$Promise$resolve$$ = function($opt_value$jscomp$32$$) {
  if ($opt_value$jscomp$32$$ instanceof $goog$Promise$$) {
    return $opt_value$jscomp$32$$;
  }
  var $promise$jscomp$15$$ = new $goog$Promise$$($goog$nullFunction$$);
  $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$$($promise$jscomp$15$$, 2, $opt_value$jscomp$32$$);
  return $promise$jscomp$15$$;
}, $goog$Promise$reject$$ = function($opt_reason$jscomp$7$$) {
  return new $goog$Promise$$(function($resolve$jscomp$34$$, $reject$jscomp$33$$) {
    $reject$jscomp$33$$($opt_reason$jscomp$7$$);
  });
}, $goog$Promise$resolveThen_$$ = function($value$jscomp$387$$, $onFulfilled$jscomp$4$$, $onRejected$jscomp$8$$) {
  $goog$Promise$maybeThen_$$($value$jscomp$387$$, $onFulfilled$jscomp$4$$, $onRejected$jscomp$8$$, null) || $goog$async$run$$($goog$partial$$($onFulfilled$jscomp$4$$, $value$jscomp$387$$));
}, $goog$Promise$race$$ = function($promises$jscomp$5$$) {
  return new $goog$Promise$$(function($resolve$jscomp$35$$, $reject$jscomp$34$$) {
    $promises$jscomp$5$$.length || $resolve$jscomp$35$$(void 0);
    for (var $i$jscomp$262$$ = 0, $promise$jscomp$16$$; $i$jscomp$262$$ < $promises$jscomp$5$$.length; $i$jscomp$262$$++) {
      $promise$jscomp$16$$ = $promises$jscomp$5$$[$i$jscomp$262$$], $goog$Promise$resolveThen_$$($promise$jscomp$16$$, $resolve$jscomp$35$$, $reject$jscomp$34$$);
    }
  });
}, $goog$Promise$all$$ = function($promises$jscomp$6$$) {
  return new $goog$Promise$$(function($resolve$jscomp$36$$, $reject$jscomp$35$$) {
    var $toFulfill$$ = $promises$jscomp$6$$.length, $values$jscomp$34$$ = [];
    if ($toFulfill$$) {
      for (var $onFulfill$$ = function($index$jscomp$99$$, $value$jscomp$388$$) {
        $toFulfill$$--;
        $values$jscomp$34$$[$index$jscomp$99$$] = $value$jscomp$388$$;
        0 == $toFulfill$$ && $resolve$jscomp$36$$($values$jscomp$34$$);
      }, $onReject$$ = function($reason$jscomp$27$$) {
        $reject$jscomp$35$$($reason$jscomp$27$$);
      }, $i$jscomp$263$$ = 0, $promise$jscomp$17$$; $i$jscomp$263$$ < $promises$jscomp$6$$.length; $i$jscomp$263$$++) {
        $promise$jscomp$17$$ = $promises$jscomp$6$$[$i$jscomp$263$$], $goog$Promise$resolveThen_$$($promise$jscomp$17$$, $goog$partial$$($onFulfill$$, $i$jscomp$263$$), $onReject$$);
      }
    } else {
      $resolve$jscomp$36$$($values$jscomp$34$$);
    }
  });
}, $goog$Promise$allSettled$$ = function($promises$jscomp$7$$) {
  return new $goog$Promise$$(function($resolve$jscomp$37$$) {
    var $toSettle$$ = $promises$jscomp$7$$.length, $results$$ = [];
    if ($toSettle$$) {
      for (var $onSettled$$ = function($index$jscomp$100$$, $fulfilled$$, $result$jscomp$59$$) {
        $toSettle$$--;
        $results$$[$index$jscomp$100$$] = $fulfilled$$ ? {$fulfilled$:!0, value:$result$jscomp$59$$} : {$fulfilled$:!1, reason:$result$jscomp$59$$};
        0 == $toSettle$$ && $resolve$jscomp$37$$($results$$);
      }, $i$jscomp$264$$ = 0, $promise$jscomp$18$$; $i$jscomp$264$$ < $promises$jscomp$7$$.length; $i$jscomp$264$$++) {
        $promise$jscomp$18$$ = $promises$jscomp$7$$[$i$jscomp$264$$], $goog$Promise$resolveThen_$$($promise$jscomp$18$$, $goog$partial$$($onSettled$$, $i$jscomp$264$$, !0), $goog$partial$$($onSettled$$, $i$jscomp$264$$, !1));
      }
    } else {
      $resolve$jscomp$37$$($results$$);
    }
  });
}, $goog$Promise$withResolver$$ = function() {
  var $resolve$jscomp$39$$, $reject$jscomp$38$$, $promise$jscomp$20$$ = new $goog$Promise$$(function($rs$$, $rj$$) {
    $resolve$jscomp$39$$ = $rs$$;
    $reject$jscomp$38$$ = $rj$$;
  });
  return new $goog$Promise$Resolver_$$($promise$jscomp$20$$, $resolve$jscomp$39$$, $reject$jscomp$38$$);
};
$goog$Promise$$.prototype.then = function($opt_onFulfilled$jscomp$7$$, $opt_onRejected$jscomp$7$$, $opt_context$jscomp$15$$) {
  null != $opt_onFulfilled$jscomp$7$$ && $goog$asserts$assertFunction$$($opt_onFulfilled$jscomp$7$$, "opt_onFulfilled should be a function.");
  null != $opt_onRejected$jscomp$7$$ && $goog$asserts$assertFunction$$($opt_onRejected$jscomp$7$$, "opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");
  return $JSCompiler_StaticMethods_addChildPromise_$$(this, $goog$isFunction$$($opt_onFulfilled$jscomp$7$$) ? $opt_onFulfilled$jscomp$7$$ : null, $goog$isFunction$$($opt_onRejected$jscomp$7$$) ? $opt_onRejected$jscomp$7$$ : null, $opt_context$jscomp$15$$);
};
$goog$Thenable$addImplementation$$($goog$Promise$$);
var $JSCompiler_StaticMethods_goog_Promise_prototype$thenAlways$$ = function($JSCompiler_StaticMethods_goog_Promise_prototype$thenAlways$self$$, $entry$jscomp$19_onSettled$jscomp$1$$, $opt_context$jscomp$17$$) {
  $entry$jscomp$19_onSettled$jscomp$1$$ = $goog$Promise$getCallbackEntry_$$($entry$jscomp$19_onSettled$jscomp$1$$, $entry$jscomp$19_onSettled$jscomp$1$$, $opt_context$jscomp$17$$);
  $entry$jscomp$19_onSettled$jscomp$1$$.$h$ = !0;
  $JSCompiler_StaticMethods_addCallbackEntry_$$($JSCompiler_StaticMethods_goog_Promise_prototype$thenAlways$self$$, $entry$jscomp$19_onSettled$jscomp$1$$);
  return $JSCompiler_StaticMethods_goog_Promise_prototype$thenAlways$self$$;
}, $JSCompiler_StaticMethods_thenCatch$$ = function($JSCompiler_StaticMethods_thenCatch$self$$, $onRejected$jscomp$9$$) {
  return $JSCompiler_StaticMethods_addChildPromise_$$($JSCompiler_StaticMethods_thenCatch$self$$, null, $onRejected$jscomp$9$$, void 0);
};
$goog$Promise$$.prototype.cancel = function($opt_message$jscomp$24$$) {
  0 == this.$b$ && $goog$async$run$$(function() {
    var $err$jscomp$30$$ = new $goog$Promise$CancellationError$$($opt_message$jscomp$24$$);
    $JSCompiler_StaticMethods_cancelInternal_$$(this, $err$jscomp$30$$);
  }, this);
};
var $JSCompiler_StaticMethods_cancelInternal_$$ = function($JSCompiler_StaticMethods_cancelInternal_$self$$, $err$jscomp$31$$) {
  if (0 == $JSCompiler_StaticMethods_cancelInternal_$self$$.$b$) {
    if ($JSCompiler_StaticMethods_cancelInternal_$self$$.$g$) {
      var $JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_2174$$ = $JSCompiler_StaticMethods_cancelInternal_$self$$.$g$;
      if ($JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_2174$$.$f$) {
        for (var $childCount$jscomp$inline_2177_previous$jscomp$inline_6840$$ = 0, $childEntry$jscomp$inline_2178$$ = null, $beforeChildEntry$jscomp$inline_2179$$ = null, $entry$jscomp$inline_2180$$ = $JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_2174$$.$f$; $entry$jscomp$inline_2180$$ && ($entry$jscomp$inline_2180$$.$h$ || ($childCount$jscomp$inline_2177_previous$jscomp$inline_6840$$++, $entry$jscomp$inline_2180$$.$b$ == $JSCompiler_StaticMethods_cancelInternal_$self$$ && ($childEntry$jscomp$inline_2178$$ = 
        $entry$jscomp$inline_2180$$), !($childEntry$jscomp$inline_2178$$ && 1 < $childCount$jscomp$inline_2177_previous$jscomp$inline_6840$$))); $entry$jscomp$inline_2180$$ = $entry$jscomp$inline_2180$$.next) {
          $childEntry$jscomp$inline_2178$$ || ($beforeChildEntry$jscomp$inline_2179$$ = $entry$jscomp$inline_2180$$);
        }
        $childEntry$jscomp$inline_2178$$ && (0 == $JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_2174$$.$b$ && 1 == $childCount$jscomp$inline_2177_previous$jscomp$inline_6840$$ ? $JSCompiler_StaticMethods_cancelInternal_$$($JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_2174$$, $err$jscomp$31$$) : ($beforeChildEntry$jscomp$inline_2179$$ ? ($childCount$jscomp$inline_2177_previous$jscomp$inline_6840$$ = $beforeChildEntry$jscomp$inline_2179$$, $goog$asserts$assert$$($JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_2174$$.$f$), 
        $goog$asserts$assert$$(null != $childCount$jscomp$inline_2177_previous$jscomp$inline_6840$$), $childCount$jscomp$inline_2177_previous$jscomp$inline_6840$$.next == $JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_2174$$.$h$ && ($JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_2174$$.$h$ = $childCount$jscomp$inline_2177_previous$jscomp$inline_6840$$), $childCount$jscomp$inline_2177_previous$jscomp$inline_6840$$.next = $childCount$jscomp$inline_2177_previous$jscomp$inline_6840$$.next.next) : 
        $JSCompiler_StaticMethods_popEntry_$$($JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_2174$$), $JSCompiler_StaticMethods_executeCallback_$$($JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_2174$$, $childEntry$jscomp$inline_2178$$, 3, $err$jscomp$31$$)));
      }
      $JSCompiler_StaticMethods_cancelInternal_$self$$.$g$ = null;
    } else {
      $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$$($JSCompiler_StaticMethods_cancelInternal_$self$$, 3, $err$jscomp$31$$);
    }
  }
}, $JSCompiler_StaticMethods_addCallbackEntry_$$ = function($JSCompiler_StaticMethods_addCallbackEntry_$self$$, $callbackEntry$$) {
  $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$f$ || 2 != $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$b$ && 3 != $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$b$ || $JSCompiler_StaticMethods_scheduleCallbacks_$$($JSCompiler_StaticMethods_addCallbackEntry_$self$$);
  $goog$asserts$assert$$(null != $callbackEntry$$.$f$);
  $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$h$ ? $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$h$.next = $callbackEntry$$ : $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$f$ = $callbackEntry$$;
  $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$h$ = $callbackEntry$$;
}, $JSCompiler_StaticMethods_addChildPromise_$$ = function($JSCompiler_StaticMethods_addChildPromise_$self$$, $onFulfilled$jscomp$5$$, $onRejected$jscomp$10$$, $opt_context$jscomp$19$$) {
  var $callbackEntry$jscomp$1$$ = $goog$Promise$getCallbackEntry_$$(null, null, null);
  $callbackEntry$jscomp$1$$.$b$ = new $goog$Promise$$(function($resolve$jscomp$40$$, $reject$jscomp$39$$) {
    $callbackEntry$jscomp$1$$.$f$ = $onFulfilled$jscomp$5$$ ? function($value$jscomp$390$$) {
      try {
        var $result$jscomp$60$$ = $onFulfilled$jscomp$5$$.call($opt_context$jscomp$19$$, $value$jscomp$390$$);
        $resolve$jscomp$40$$($result$jscomp$60$$);
      } catch ($err$jscomp$33$$) {
        $reject$jscomp$39$$($err$jscomp$33$$);
      }
    } : $resolve$jscomp$40$$;
    $callbackEntry$jscomp$1$$.$g$ = $onRejected$jscomp$10$$ ? function($reason$jscomp$29$$) {
      try {
        var $result$jscomp$61$$ = $onRejected$jscomp$10$$.call($opt_context$jscomp$19$$, $reason$jscomp$29$$);
        !$goog$isDef$$($result$jscomp$61$$) && $reason$jscomp$29$$ instanceof $goog$Promise$CancellationError$$ ? $reject$jscomp$39$$($reason$jscomp$29$$) : $resolve$jscomp$40$$($result$jscomp$61$$);
      } catch ($err$jscomp$34$$) {
        $reject$jscomp$39$$($err$jscomp$34$$);
      }
    } : $reject$jscomp$39$$;
  });
  $callbackEntry$jscomp$1$$.$b$.$g$ = $JSCompiler_StaticMethods_addChildPromise_$self$$;
  $JSCompiler_StaticMethods_addCallbackEntry_$$($JSCompiler_StaticMethods_addChildPromise_$self$$, $callbackEntry$jscomp$1$$);
  return $callbackEntry$jscomp$1$$.$b$;
};
$goog$Promise$$.prototype.$C$ = function($value$jscomp$391$$) {
  $goog$asserts$assert$$(1 == this.$b$);
  this.$b$ = 0;
  $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$$(this, 2, $value$jscomp$391$$);
};
$goog$Promise$$.prototype.$G$ = function($reason$jscomp$30$$) {
  $goog$asserts$assert$$(1 == this.$b$);
  this.$b$ = 0;
  $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$$(this, 3, $reason$jscomp$30$$);
};
var $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$$ = function($JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$self$$, $state$jscomp$8$$, $x$jscomp$103$$) {
  0 == $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$self$$.$b$ && ($JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$self$$ === $x$jscomp$103$$ && ($state$jscomp$8$$ = 3, $x$jscomp$103$$ = new TypeError("Promise cannot resolve to itself")), $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$self$$.$b$ = 1, $goog$Promise$maybeThen_$$($x$jscomp$103$$, $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$self$$.$C$, $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$self$$.$G$, 
  $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$self$$) || ($JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$self$$.$o$ = $x$jscomp$103$$, $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$self$$.$b$ = $state$jscomp$8$$, $JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$self$$.$g$ = null, $JSCompiler_StaticMethods_scheduleCallbacks_$$($JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$self$$), 3 != $state$jscomp$8$$ || $x$jscomp$103$$ instanceof $goog$Promise$CancellationError$$ || 
  $goog$Promise$addUnhandledRejection_$$($JSCompiler_StaticMethods_goog_Promise_prototype$resolve_$self$$, $x$jscomp$103$$)));
}, $goog$Promise$maybeThen_$$ = function($value$jscomp$392$$, $onFulfilled$jscomp$6$$, $onRejected$jscomp$11$$, $context$jscomp$18$$) {
  if ($value$jscomp$392$$ instanceof $goog$Promise$$) {
    return null != $onFulfilled$jscomp$6$$ && $goog$asserts$assertFunction$$($onFulfilled$jscomp$6$$, "opt_onFulfilled should be a function."), null != $onRejected$jscomp$11$$ && $goog$asserts$assertFunction$$($onRejected$jscomp$11$$, "opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"), $JSCompiler_StaticMethods_addCallbackEntry_$$($value$jscomp$392$$, $goog$Promise$getCallbackEntry_$$($onFulfilled$jscomp$6$$ || $goog$nullFunction$$, $onRejected$jscomp$11$$ || 
    null, $context$jscomp$18$$)), !0;
  }
  if ($goog$Thenable$isImplementedBy$$($value$jscomp$392$$)) {
    return $value$jscomp$392$$.then($onFulfilled$jscomp$6$$, $onRejected$jscomp$11$$, $context$jscomp$18$$), !0;
  }
  if ($goog$isObject$$($value$jscomp$392$$)) {
    try {
      var $then$$ = $value$jscomp$392$$.then;
      if ($goog$isFunction$$($then$$)) {
        return $goog$Promise$tryThen_$$($value$jscomp$392$$, $then$$, $onFulfilled$jscomp$6$$, $onRejected$jscomp$11$$, $context$jscomp$18$$), !0;
      }
    } catch ($e$jscomp$80$$) {
      return $onRejected$jscomp$11$$.call($context$jscomp$18$$, $e$jscomp$80$$), !0;
    }
  }
  return !1;
}, $goog$Promise$tryThen_$$ = function($thenable$jscomp$1$$, $then$jscomp$1$$, $onFulfilled$jscomp$7$$, $onRejected$jscomp$12$$, $context$jscomp$19$$) {
  var $called$jscomp$1$$ = !1, $resolve$jscomp$41$$ = function($value$jscomp$393$$) {
    $called$jscomp$1$$ || ($called$jscomp$1$$ = !0, $onFulfilled$jscomp$7$$.call($context$jscomp$19$$, $value$jscomp$393$$));
  }, $reject$jscomp$40$$ = function($reason$jscomp$31$$) {
    $called$jscomp$1$$ || ($called$jscomp$1$$ = !0, $onRejected$jscomp$12$$.call($context$jscomp$19$$, $reason$jscomp$31$$));
  };
  try {
    $then$jscomp$1$$.call($thenable$jscomp$1$$, $resolve$jscomp$41$$, $reject$jscomp$40$$);
  } catch ($e$jscomp$81$$) {
    $reject$jscomp$40$$($e$jscomp$81$$);
  }
}, $JSCompiler_StaticMethods_scheduleCallbacks_$$ = function($JSCompiler_StaticMethods_scheduleCallbacks_$self$$) {
  $JSCompiler_StaticMethods_scheduleCallbacks_$self$$.$m$ || ($JSCompiler_StaticMethods_scheduleCallbacks_$self$$.$m$ = !0, $goog$async$run$$($JSCompiler_StaticMethods_scheduleCallbacks_$self$$.$s$, $JSCompiler_StaticMethods_scheduleCallbacks_$self$$));
}, $JSCompiler_StaticMethods_popEntry_$$ = function($JSCompiler_StaticMethods_popEntry_$self$$) {
  var $entry$jscomp$22$$ = null;
  $JSCompiler_StaticMethods_popEntry_$self$$.$f$ && ($entry$jscomp$22$$ = $JSCompiler_StaticMethods_popEntry_$self$$.$f$, $JSCompiler_StaticMethods_popEntry_$self$$.$f$ = $entry$jscomp$22$$.next, $entry$jscomp$22$$.next = null);
  $JSCompiler_StaticMethods_popEntry_$self$$.$f$ || ($JSCompiler_StaticMethods_popEntry_$self$$.$h$ = null);
  null != $entry$jscomp$22$$ && $goog$asserts$assert$$(null != $entry$jscomp$22$$.$f$);
  return $entry$jscomp$22$$;
};
$goog$Promise$$.prototype.$s$ = function() {
  for (var $entry$jscomp$23$$; $entry$jscomp$23$$ = $JSCompiler_StaticMethods_popEntry_$$(this);) {
    $JSCompiler_StaticMethods_executeCallback_$$(this, $entry$jscomp$23$$, this.$b$, this.$o$);
  }
  this.$m$ = !1;
};
var $JSCompiler_StaticMethods_executeCallback_$$ = function($JSCompiler_StaticMethods_executeCallback_$self_p$jscomp$inline_2191$$, $callbackEntry$jscomp$2$$, $state$jscomp$9$$, $result$jscomp$62$$) {
  if (3 == $state$jscomp$9$$ && $callbackEntry$jscomp$2$$.$g$ && !$callbackEntry$jscomp$2$$.$h$) {
    for (; $JSCompiler_StaticMethods_executeCallback_$self_p$jscomp$inline_2191$$ && $JSCompiler_StaticMethods_executeCallback_$self_p$jscomp$inline_2191$$.$l$; $JSCompiler_StaticMethods_executeCallback_$self_p$jscomp$inline_2191$$ = $JSCompiler_StaticMethods_executeCallback_$self_p$jscomp$inline_2191$$.$g$) {
      $JSCompiler_StaticMethods_executeCallback_$self_p$jscomp$inline_2191$$.$l$ = !1;
    }
  }
  if ($callbackEntry$jscomp$2$$.$b$) {
    $callbackEntry$jscomp$2$$.$b$.$g$ = null, $goog$Promise$invokeCallback_$$($callbackEntry$jscomp$2$$, $state$jscomp$9$$, $result$jscomp$62$$);
  } else {
    try {
      $callbackEntry$jscomp$2$$.$h$ ? $callbackEntry$jscomp$2$$.$f$.call($callbackEntry$jscomp$2$$.context) : $goog$Promise$invokeCallback_$$($callbackEntry$jscomp$2$$, $state$jscomp$9$$, $result$jscomp$62$$);
    } catch ($err$jscomp$35$$) {
      $goog$Promise$handleRejection_$$.call(null, $err$jscomp$35$$);
    }
  }
  $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$$($goog$Promise$freelist_$$, $callbackEntry$jscomp$2$$);
}, $goog$Promise$invokeCallback_$$ = function($callbackEntry$jscomp$3$$, $state$jscomp$10$$, $result$jscomp$63$$) {
  2 == $state$jscomp$10$$ ? $callbackEntry$jscomp$3$$.$f$.call($callbackEntry$jscomp$3$$.context, $result$jscomp$63$$) : $callbackEntry$jscomp$3$$.$g$ && $callbackEntry$jscomp$3$$.$g$.call($callbackEntry$jscomp$3$$.context, $result$jscomp$63$$);
}, $goog$Promise$addUnhandledRejection_$$ = function($promise$jscomp$22$$, $reason$jscomp$32$$) {
  $promise$jscomp$22$$.$l$ = !0;
  $goog$async$run$$(function() {
    $promise$jscomp$22$$.$l$ && $goog$Promise$handleRejection_$$.call(null, $reason$jscomp$32$$);
  });
}, $goog$Promise$handleRejection_$$ = $goog$async$throwException$$, $goog$Promise$CancellationError$$ = function($opt_message$jscomp$25$$) {
  $goog$debug$Error$$.call(this, $opt_message$jscomp$25$$);
};
$goog$inherits$$($goog$Promise$CancellationError$$, $goog$debug$Error$$);
$goog$Promise$CancellationError$$.prototype.name = "cancel";
var $goog$Promise$Resolver_$$ = function($promise$jscomp$23$$, $resolve$jscomp$42$$, $reject$jscomp$41$$) {
  this.$goog_Promise_Resolver_$promise$ = $promise$jscomp$23$$;
  this.resolve = $resolve$jscomp$42$$;
  this.reject = $reject$jscomp$41$$;
};
var $goog$Timer$$ = function($opt_interval$$, $opt_timerObject$$) {
  $goog$events$EventTarget$$.call(this);
  this.$h$ = $opt_interval$$ || 1;
  this.$g$ = $opt_timerObject$$ || $goog$global$$;
  this.$m$ = $goog$bind$$(this.$s$, this);
  this.$o$ = $goog$now$$();
};
$goog$inherits$$($goog$Timer$$, $goog$events$EventTarget$$);
$goog$Timer$$.prototype.enabled = !1;
$goog$Timer$$.prototype.$f$ = null;
var $JSCompiler_StaticMethods_goog_Timer_prototype$setInterval$$ = function($JSCompiler_StaticMethods_goog_Timer_prototype$setInterval$self$$, $interval$jscomp$3$$) {
  $JSCompiler_StaticMethods_goog_Timer_prototype$setInterval$self$$.$h$ = $interval$jscomp$3$$;
  $JSCompiler_StaticMethods_goog_Timer_prototype$setInterval$self$$.$f$ && $JSCompiler_StaticMethods_goog_Timer_prototype$setInterval$self$$.enabled ? ($JSCompiler_StaticMethods_goog_Timer_prototype$setInterval$self$$.stop(), $JSCompiler_StaticMethods_goog_Timer_prototype$setInterval$self$$.start()) : $JSCompiler_StaticMethods_goog_Timer_prototype$setInterval$self$$.$f$ && $JSCompiler_StaticMethods_goog_Timer_prototype$setInterval$self$$.stop();
};
$goog$Timer$$.prototype.$s$ = function() {
  if (this.enabled) {
    var $elapsed$$ = $goog$now$$() - this.$o$;
    0 < $elapsed$$ && $elapsed$$ < 0.8 * this.$h$ ? this.$f$ = this.$g$.setTimeout(this.$m$, this.$h$ - $elapsed$$) : (this.$f$ && (this.$g$.clearTimeout(this.$f$), this.$f$ = null), this.$goog_events_EventTarget_prototype$dispatchEvent$("tick"), this.enabled && (this.stop(), this.start()));
  }
};
$goog$Timer$$.prototype.start = function() {
  this.enabled = !0;
  this.$f$ || (this.$f$ = this.$g$.setTimeout(this.$m$, this.$h$), this.$o$ = $goog$now$$());
};
$goog$Timer$$.prototype.stop = function() {
  this.enabled = !1;
  this.$f$ && (this.$g$.clearTimeout(this.$f$), this.$f$ = null);
};
$goog$Timer$$.prototype.$goog_Disposable_prototype$disposeInternal$ = function() {
  $goog$Timer$$.$superClass_$.$goog_Disposable_prototype$disposeInternal$.call(this);
  this.stop();
  delete this.$g$;
};
var $goog$Timer$callOnce$$ = function($listener$jscomp$135$$, $opt_delay$jscomp$3$$, $opt_handler$jscomp$10$$) {
  if ($goog$isFunction$$($listener$jscomp$135$$)) {
    $opt_handler$jscomp$10$$ && ($listener$jscomp$135$$ = $goog$bind$$($listener$jscomp$135$$, $opt_handler$jscomp$10$$));
  } else {
    if ($listener$jscomp$135$$ && "function" == typeof $listener$jscomp$135$$.handleEvent) {
      $listener$jscomp$135$$ = $goog$bind$$($listener$jscomp$135$$.handleEvent, $listener$jscomp$135$$);
    } else {
      throw Error("Invalid listener argument");
    }
  }
  return 2147483647 < Number($opt_delay$jscomp$3$$) ? -1 : $goog$global$$.setTimeout($listener$jscomp$135$$, $opt_delay$jscomp$3$$ || 0);
}, $goog$Timer$clear$$ = function($timerId$$) {
  $goog$global$$.clearTimeout($timerId$$);
}, $goog$Timer$promise$$ = function($delay$jscomp$1$$) {
  var $timerKey$$ = null;
  return $JSCompiler_StaticMethods_thenCatch$$(new $goog$Promise$$(function($resolve$jscomp$43$$, $reject$jscomp$42$$) {
    $timerKey$$ = $goog$Timer$callOnce$$(function() {
      $resolve$jscomp$43$$(void 0);
    }, $delay$jscomp$1$$);
    -1 == $timerKey$$ && $reject$jscomp$42$$(Error("Failed to schedule timer."));
  }), function($error$jscomp$54$$) {
    $goog$Timer$clear$$($timerKey$$);
    throw $error$jscomp$54$$;
  });
};
var $module$exports$mr$cloud$slarti$Fetcher$$ = function() {
  var $useRetry$$ = void 0 === $useRetry$$ ? !0 : $useRetry$$;
  this.$logger_$ = $goog$debug$LogManager$getLogger$$("mr.cloud.slarti.Fetcher");
  this.$b$ = 0;
  this.$f$ = $useRetry$$;
};
$module$exports$mr$cloud$slarti$Fetcher$$.prototype.execute = function($fetchRequest$$) {
  var $$jscomp$this$jscomp$97$$ = this, $description$jscomp$16$$ = "Fetch call " + ++this.$b$, $retry$jscomp$1$$ = new $module$exports$mr$Retry$$(function() {
    return $JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$Fetcher_prototype$callApi_$$($$jscomp$this$jscomp$97$$, $description$jscomp$16$$, $fetchRequest$$, function($error$jscomp$55$$) {
      return $retry$jscomp$1$$.abort($error$jscomp$55$$);
    });
  }, 1000, this.$f$ ? 5 : 1);
  return $retry$jscomp$1$$.start();
};
var $JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$Fetcher_prototype$callApi_$$ = function($JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$Fetcher_prototype$callApi_$self$$, $description$jscomp$17$$, $fetchRequest$jscomp$1$$, $onFatalError$$) {
  var $pathToLog_promises$jscomp$9$$ = $fetchRequest$jscomp$1$$.uri.toString().replace(/\?.*/, "?<redacted>"), $logDetail$$ = $fetchRequest$jscomp$1$$.method + " " + $pathToLog_promises$jscomp$9$$;
  $goog$log$info$$($JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$Fetcher_prototype$callApi_$self$$.$logger_$, $description$jscomp$17$$ + ": " + $logDetail$$);
  $pathToLog_promises$jscomp$9$$ = [$JSCompiler_StaticMethods_toRequest$$($fetchRequest$jscomp$1$$).then(function($request$jscomp$50$$) {
    return Promise.resolve(fetch($request$jscomp$50$$));
  })];
  $fetchRequest$jscomp$1$$.$timeoutMs$ && $pathToLog_promises$jscomp$9$$.push($goog$Timer$promise$$($fetchRequest$jscomp$1$$.$timeoutMs$).then(function() {
    throw $module$exports$mr$cloud$slarti$FetchError$createError$$("API call timed out", 504);
  }));
  return Promise.race($pathToLog_promises$jscomp$9$$).then(function($response$jscomp$17$$) {
    if (!$response$jscomp$17$$.ok) {
      return $response$jscomp$17$$.json().then(function($json$jscomp$3$$) {
        return $json$jscomp$3$$;
      }, function() {
        return null;
      }).then(function($json$jscomp$4$$) {
        var $gapiError$jscomp$3$$;
        $json$jscomp$4$$ && $json$jscomp$4$$ instanceof Object && $json$jscomp$4$$.error && ($gapiError$jscomp$3$$ = $json$jscomp$4$$.error);
        throw new $module$exports$mr$cloud$slarti$FetchError$$($response$jscomp$17$$, $gapiError$jscomp$3$$);
      });
    }
    var $contentType$jscomp$5_duration$jscomp$8$$ = ($goog$now$$() - $fetchRequest$jscomp$1$$.start) / 1000;
    $goog$log$info$$($JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$Fetcher_prototype$callApi_$self$$.$logger_$, $description$jscomp$17$$ + " succeeded: " + $logDetail$$ + " duration = " + $contentType$jscomp$5_duration$jscomp$8$$ + "s");
    return ($contentType$jscomp$5_duration$jscomp$8$$ = $response$jscomp$17$$.headers.get("content-type")) && $contentType$jscomp$5_duration$jscomp$8$$.includes("application/json") ? $response$jscomp$17$$.json() : $contentType$jscomp$5_duration$jscomp$8$$ && ($contentType$jscomp$5_duration$jscomp$8$$.includes("image") || $contentType$jscomp$5_duration$jscomp$8$$.includes("application/octet-stream")) ? $response$jscomp$17$$.blob() : $response$jscomp$17$$.text();
  }, function($error$jscomp$56$$) {
    var $details$jscomp$40$$ = "";
    if ($error$jscomp$56$$ instanceof $module$exports$mr$cloud$slarti$FetchError$$) {
      $details$jscomp$40$$ = ", (" + $error$jscomp$56$$.status + "): " + $error$jscomp$56$$.message, $JSCompiler_StaticMethods_isFatalError$$($error$jscomp$56$$) && $onFatalError$$($error$jscomp$56$$);
    } else {
      try {
        $details$jscomp$40$$ = ", " + JSON.stringify($error$jscomp$56$$, null, 2);
      } catch ($_$jscomp$4$$) {
      }
      $error$jscomp$56$$ instanceof Error && "Failed to fetch" == $error$jscomp$56$$.message && ($error$jscomp$56$$ = $module$exports$mr$cloud$slarti$FetchError$createError$$($error$jscomp$56$$.message));
    }
    $goog$log$error$$($JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$Fetcher_prototype$callApi_$self$$.$logger_$, $description$jscomp$17$$ + " failed: " + $details$jscomp$40$$);
    throw $error$jscomp$56$$;
  });
};
var $module$exports$mr$cloud$slarti$Api$$ = function($identityService$jscomp$2$$, $fetcher$$) {
  this.$b$ = $mr$cloud$SLARTI_CONFIG$$.$b$;
  this.$identityService$ = $identityService$jscomp$2$$;
  this.$f$ = $fetcher$$;
};
var $module$exports$mr$cloud$slarti$UserService$$ = function($identityService$jscomp$3$$, $fetcher$jscomp$1$$) {
  $module$exports$mr$cloud$slarti$Api$$.call(this, $identityService$jscomp$3$$, $fetcher$jscomp$1$$);
};
$$jscomp$inherits$$($module$exports$mr$cloud$slarti$UserService$$, $module$exports$mr$cloud$slarti$Api$$);
$module$exports$mr$cloud$slarti$UserService$$.prototype.register = function($gcmRegId_request$jscomp$51$$) {
  $gcmRegId_request$jscomp$51$$ = new $module$exports$mr$cloud$slarti$FetchRequest$$({method:"POST", baseUrl:this.$b$, $pathParts$:["user:register"], $identityService$:this.$identityService$, body:{gcmId:$gcmRegId_request$jscomp$51$$}});
  return this.$f$.execute($gcmRegId_request$jscomp$51$$);
};
$module$exports$mr$cloud$slarti$UserService$$.prototype.unregister = function($gcmRegId$jscomp$1_request$jscomp$52$$) {
  $gcmRegId$jscomp$1_request$jscomp$52$$ = new $module$exports$mr$cloud$slarti$FetchRequest$$({method:"POST", baseUrl:this.$b$, $pathParts$:["user:unregister"], $identityService$:this.$identityService$, body:{gcmId:$gcmRegId$jscomp$1_request$jscomp$52$$}});
  return this.$f$.execute($gcmRegId$jscomp$1_request$jscomp$52$$);
};
var $module$exports$mr$cloud$slarti$GcmRegistration$$ = function($userService$$, $localStorage$$, $gcmRegistrationSerializer$jscomp$1$$) {
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.slarti.GcmRegistration");
  this.$g$ = $userService$$;
  this.$f$ = $localStorage$$;
  this.$h$ = $gcmRegistrationSerializer$jscomp$1$$;
  this.$b$ = null;
}, $JSCompiler_StaticMethods_ensureRegistered$$ = function($JSCompiler_StaticMethods_ensureRegistered$self$$) {
  if (!$JSCompiler_StaticMethods_ensureRegistered$self$$.$b$) {
    var $oldGcmRegId$$ = $JSCompiler_StaticMethods_ensureRegistered$self$$.$f$["mr.cloud.slarti.GcmRegistration.ID"];
    $JSCompiler_StaticMethods_ensureRegistered$self$$.$b$ = $JSCompiler_StaticMethods_ensureRegistered$self$$.$h$.register(["307539924703"]).then(function($gcmRegId$jscomp$2$$) {
      if ($gcmRegId$jscomp$2$$ == $oldGcmRegId$$) {
        $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_ensureRegistered$self$$.$logger_$, "Slarti GCM ID unchanged: " + $gcmRegId$jscomp$2$$);
      } else {
        return $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_ensureRegistered$self$$.$logger_$, "Got new Slarti GCM ID: " + $gcmRegId$jscomp$2$$), ($oldGcmRegId$$ ? $JSCompiler_StaticMethods_unregister_$$($JSCompiler_StaticMethods_ensureRegistered$self$$, $oldGcmRegId$$) : Promise.resolve()).then(function() {
          return $JSCompiler_StaticMethods_ensureRegistered$self$$.$g$.register($gcmRegId$jscomp$2$$).then(function() {
            $JSCompiler_StaticMethods_ensureRegistered$self$$.$f$["mr.cloud.slarti.GcmRegistration.ID"] = $gcmRegId$jscomp$2$$;
          });
        });
      }
    }, function($err$jscomp$38$$) {
      $JSCompiler_StaticMethods_ensureRegistered$self$$.$logger_$.$warning$("Error registering for GCM notifications", $err$jscomp$38$$);
      $oldGcmRegId$$ && $JSCompiler_StaticMethods_unregister_$$($JSCompiler_StaticMethods_ensureRegistered$self$$, $oldGcmRegId$$).catch(function($err$jscomp$39$$) {
        $JSCompiler_StaticMethods_ensureRegistered$self$$.$logger_$.$warning$("Failed to unregister GCM ID with Slarti", $err$jscomp$39$$);
      });
      throw $err$jscomp$38$$;
    });
    $JSCompiler_StaticMethods_ensureRegistered$self$$.$b$.then(function() {
      $JSCompiler_StaticMethods_ensureRegistered$self$$.$b$ = null;
    }, function() {
      $JSCompiler_StaticMethods_ensureRegistered$self$$.$b$ = null;
    });
  }
  return $JSCompiler_StaticMethods_ensureRegistered$self$$.$b$;
}, $JSCompiler_StaticMethods_unregister_$$ = function($JSCompiler_StaticMethods_unregister_$self$$, $gcmRegId$jscomp$3$$) {
  return $JSCompiler_StaticMethods_unregister_$self$$.$g$.unregister($gcmRegId$jscomp$3$$).then(function() {
    delete $JSCompiler_StaticMethods_unregister_$self$$.$f$["mr.cloud.slarti.GcmRegistration.ID"];
  }, function($err$jscomp$40$$) {
    $JSCompiler_StaticMethods_unregister_$self$$.$logger_$.$warning$("Failed to unregister GCM ID with Slarti", $err$jscomp$40$$);
  });
};
var $module$contents$mr$cloud$slarti$GcmEventListener_instance$$ = null, $module$exports$mr$cloud$slarti$GcmEventListener$$ = function() {
  $mr$EventListener$$.call(this, 5, "mr.cloud.slarti.GcmEventListener", "mr.cloud.slarti.SinkDiscoveryService", chrome.gcm.onMessage);
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.slarti.GcmEventListener");
};
$$jscomp$inherits$$($module$exports$mr$cloud$slarti$GcmEventListener$$, $mr$EventListener$$);
$module$exports$mr$cloud$slarti$GcmEventListener$$.prototype.$validateEvent$ = function($message$jscomp$126_type$jscomp$220$$) {
  if ($message$jscomp$126_type$jscomp$220$$ && "307539924703" == $message$jscomp$126_type$jscomp$220$$.from && "object" == typeof $message$jscomp$126_type$jscomp$220$$.data && "string" == typeof $message$jscomp$126_type$jscomp$220$$.data.data) {
    var $$jscomp$destructuring$var18_id$jscomp$76$$ = JSON.parse($message$jscomp$126_type$jscomp$220$$.data.data);
    $message$jscomp$126_type$jscomp$220$$ = $$jscomp$destructuring$var18_id$jscomp$76$$.type;
    $$jscomp$destructuring$var18_id$jscomp$76$$ = $$jscomp$destructuring$var18_id$jscomp$76$$.id;
    if ($message$jscomp$126_type$jscomp$220$$) {
      return this.$logger_$.info("Received Slarti GCM notification: " + $message$jscomp$126_type$jscomp$220$$ + " (" + $$jscomp$destructuring$var18_id$jscomp$76$$ + ")"), !0;
    }
  }
  return !1;
};
var $module$exports$mr$cloud$slarti$GcmEventListener$get$$ = function() {
  null == $module$contents$mr$cloud$slarti$GcmEventListener_instance$$ && ($module$contents$mr$cloud$slarti$GcmEventListener_instance$$ = new $module$exports$mr$cloud$slarti$GcmEventListener$$);
  return $module$contents$mr$cloud$slarti$GcmEventListener_instance$$;
};
var $mr$ObjectUtils$getPath$$ = function($obj$jscomp$115$$, $path$jscomp$39$$) {
  for (var $$jscomp$iter$243_$jscomp$restParams$jscomp$6$$ = [], $$jscomp$restIndex$jscomp$6_value$jscomp$394$$ = 1; $$jscomp$restIndex$jscomp$6_value$jscomp$394$$ < arguments.length; ++$$jscomp$restIndex$jscomp$6_value$jscomp$394$$) {
    $$jscomp$iter$243_$jscomp$restParams$jscomp$6$$[$$jscomp$restIndex$jscomp$6_value$jscomp$394$$ - 1] = arguments[$$jscomp$restIndex$jscomp$6_value$jscomp$394$$];
  }
  $$jscomp$restIndex$jscomp$6_value$jscomp$394$$ = $obj$jscomp$115$$;
  $$jscomp$iter$243_$jscomp$restParams$jscomp$6$$ = $$jscomp$makeIterator$$($$jscomp$iter$243_$jscomp$restParams$jscomp$6$$);
  for (var $$jscomp$key$key$jscomp$4$$ = $$jscomp$iter$243_$jscomp$restParams$jscomp$6$$.next(); !$$jscomp$key$key$jscomp$4$$.done; $$jscomp$key$key$jscomp$4$$ = $$jscomp$iter$243_$jscomp$restParams$jscomp$6$$.next()) {
    if (void 0 == $$jscomp$restIndex$jscomp$6_value$jscomp$394$$ || "object" != typeof $$jscomp$restIndex$jscomp$6_value$jscomp$394$$) {
      return;
    }
    $$jscomp$restIndex$jscomp$6_value$jscomp$394$$ = $$jscomp$restIndex$jscomp$6_value$jscomp$394$$[$$jscomp$key$key$jscomp$4$$.value];
  }
  return $$jscomp$restIndex$jscomp$6_value$jscomp$394$$;
};
var $mr$WeaveGcmEventListener$$ = function() {
  $mr$EventListener$$.call(this, 5, "cloud.GcmEventListener", "mr.cloud.discovery.WeaveSinkDiscoveryService", chrome.gcm.onMessage);
  this.$logger_$ = $mr$Logger$getInstance$$("mr.WeaveGcmEventListener");
};
$$jscomp$inherits$$($mr$WeaveGcmEventListener$$, $mr$EventListener$$);
$mr$WeaveGcmEventListener$$.prototype.$validateEvent$ = function($message$jscomp$127_notificationJson$$) {
  if (!$message$jscomp$127_notificationJson$$ || "919648714761" != $message$jscomp$127_notificationJson$$.from) {
    return !1;
  }
  $message$jscomp$127_notificationJson$$ = $mr$ObjectUtils$getPath$$($message$jscomp$127_notificationJson$$, "data", "notification");
  if (!$message$jscomp$127_notificationJson$$) {
    return this.$logger_$.error("Notification json not found"), !1;
  }
  try {
    var $notification$jscomp$1$$ = JSON.parse($message$jscomp$127_notificationJson$$);
    return !!$notification$jscomp$1$$ && Array.isArray($notification$jscomp$1$$.events) && 0 < $notification$jscomp$1$$.events.length;
  } catch ($err$jscomp$41$$) {
    return this.$logger_$.error("Invalid json: " + $message$jscomp$127_notificationJson$$), !1;
  }
};
var $mr$WeaveGcmEventListener$get$$ = function() {
  $mr$WeaveGcmEventListener$listener_$$ || ($mr$WeaveGcmEventListener$listener_$$ = new $mr$WeaveGcmEventListener$$);
  return $mr$WeaveGcmEventListener$listener_$$;
}, $mr$WeaveGcmEventListener$listener_$$ = null;
var $mr$cloud$messaging$WeaveGcmMessageHandler$$ = function($deviceDiscoveryCallbacks$$) {
  this.$b$ = $deviceDiscoveryCallbacks$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.messaging.WeaveGcmMessageHandler");
};
$mr$cloud$messaging$WeaveGcmMessageHandler$$.prototype.onMessage = function($message$jscomp$128_notification$jscomp$2$$) {
  var $$jscomp$this$jscomp$101$$ = this;
  $message$jscomp$128_notification$jscomp$2$$ = JSON.parse($message$jscomp$128_notification$jscomp$2$$.data.notification);
  var $sinkUtils$$ = $module$contents$mr$SinkUtils_SinkUtils$getInstance$$();
  $message$jscomp$128_notification$jscomp$2$$.events.forEach(function($event$jscomp$22$$) {
    if ($event$jscomp$22$$.deviceId) {
      var $sinkId$jscomp$50$$ = $JSCompiler_StaticMethods_generateId$$($sinkUtils$$, $event$jscomp$22$$.deviceId);
      switch($event$jscomp$22$$.type) {
        case "deviceCreated":
          $JSCompiler_StaticMethods_onDeviceCreated_$$($$jscomp$this$jscomp$101$$, $event$jscomp$22$$);
          break;
        case "deviceUpdated":
          $JSCompiler_StaticMethods_onDeviceUpdated_$$($$jscomp$this$jscomp$101$$, $event$jscomp$22$$, $sinkId$jscomp$50$$);
          break;
        case "deviceDeleted":
          $JSCompiler_StaticMethods_onDeviceDeleted$$($$jscomp$this$jscomp$101$$.$b$, {sinkId:$sinkId$jscomp$50$$});
          break;
        default:
          $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($$jscomp$this$jscomp$101$$.$logger_$, function() {
            return "[unhandled event] " + JSON.stringify($event$jscomp$22$$);
          });
      }
    } else {
      $$jscomp$this$jscomp$101$$.$logger_$.error("Device ID not provided");
    }
  });
};
var $JSCompiler_StaticMethods_onDeviceCreated_$$ = function($JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_2200_JSCompiler_StaticMethods_onDeviceCreated_$self$$, $event$jscomp$23_weaveSink$$) {
  var $receiverName$$ = $mr$ObjectUtils$getPath$$($event$jscomp$23_weaveSink$$, "statePatch", "_cloudCast", "settings", "receiverName");
  "string" != typeof $receiverName$$ ? $JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_2200_JSCompiler_StaticMethods_onDeviceCreated_$self$$.$logger_$.error("Receiver name not a string: " + $receiverName$$) : ($event$jscomp$23_weaveSink$$ = new $mr$cloud$WeaveSink$$($event$jscomp$23_weaveSink$$.deviceId, $receiverName$$, "owner", "default", !0), $JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_2200_JSCompiler_StaticMethods_onDeviceCreated_$self$$ = $JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_2200_JSCompiler_StaticMethods_onDeviceCreated_$self$$.$b$, 
  $JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_2200_JSCompiler_StaticMethods_onDeviceCreated_$self$$.$b$.$b$.set($event$jscomp$23_weaveSink$$.id, $event$jscomp$23_weaveSink$$), $JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_2200_JSCompiler_StaticMethods_onDeviceCreated_$self$$.$b$.$f$ = Date.now(), $JSCompiler_StaticMethods_onSinksAdded$$($JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_2200_JSCompiler_StaticMethods_onDeviceCreated_$self$$.$f$, [$event$jscomp$23_weaveSink$$.$mrSink$]));
}, $JSCompiler_StaticMethods_onDeviceUpdated_$$ = function($JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_2204_JSCompiler_StaticMethods_onDeviceUpdated_$self$$, $JSCompiler_object_inline_isAvailable_6403_appStatus$jscomp$3_event$jscomp$24$$, $cloudSink$jscomp$inline_2206_sinkId$jscomp$52$$) {
  $JSCompiler_object_inline_isAvailable_6403_appStatus$jscomp$3_event$jscomp$24$$ = $mr$ObjectUtils$getPath$$($JSCompiler_object_inline_isAvailable_6403_appStatus$jscomp$3_event$jscomp$24$$, "statePatch", "_cloudCast", "appStatus");
  if ("string" != typeof $JSCompiler_object_inline_isAvailable_6403_appStatus$jscomp$3_event$jscomp$24$$) {
    $JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_2204_JSCompiler_StaticMethods_onDeviceUpdated_$self$$.$logger_$.error("App status not a string: " + $JSCompiler_object_inline_isAvailable_6403_appStatus$jscomp$3_event$jscomp$24$$);
  } else {
    if ($JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_2204_JSCompiler_StaticMethods_onDeviceUpdated_$self$$ = $JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_2204_JSCompiler_StaticMethods_onDeviceUpdated_$self$$.$b$, $JSCompiler_object_inline_isAvailable_6403_appStatus$jscomp$3_event$jscomp$24$$ = "available" == $JSCompiler_object_inline_isAvailable_6403_appStatus$jscomp$3_event$jscomp$24$$, $cloudSink$jscomp$inline_2206_sinkId$jscomp$52$$ = $JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_2204_JSCompiler_StaticMethods_onDeviceUpdated_$self$$.$b$.$getSinkById$($cloudSink$jscomp$inline_2206_sinkId$jscomp$52$$)) {
      $cloudSink$jscomp$inline_2206_sinkId$jscomp$52$$.isAvailable = $JSCompiler_object_inline_isAvailable_6403_appStatus$jscomp$3_event$jscomp$24$$ || !1, $JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_2204_JSCompiler_StaticMethods_onDeviceUpdated_$self$$.$b$.$f$ = Date.now(), $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksUpdated$$($JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_2204_JSCompiler_StaticMethods_onDeviceUpdated_$self$$.$f$, [$cloudSink$jscomp$inline_2206_sinkId$jscomp$52$$.$mrSink$]);
    }
  }
};
var $mr$cloud$discovery$WeaveSinkDiscoveryService$$ = function($weaveDevices$jscomp$1$$, $sinkDiscoveryCallbacks$jscomp$3$$) {
  this.$g$ = $weaveDevices$jscomp$1$$;
  this.$f$ = $sinkDiscoveryCallbacks$jscomp$3$$;
  this.$b$ = new $mr$cloud$discovery$SinkCache$$(this.$mr_cloud_discovery_WeaveSinkDiscoveryService_prototype$fetchAllSinks_$.bind(this), $sinkDiscoveryCallbacks$jscomp$3$$, 2E4);
  this.$h$ = new $mr$cloud$messaging$WeaveGcmMessageHandler$$(this);
  $mr$WeaveGcmEventListener$get$$().addListener();
  $mr$PersistentDataManager$register$$(this);
  $mr$Module$onModuleLoaded$$("mr.cloud.discovery.WeaveSinkDiscoveryService", this);
};
$$jscomp$inherits$$($mr$cloud$discovery$WeaveSinkDiscoveryService$$, $mr$Module$$);
$JSCompiler_prototypeAlias$$ = $mr$cloud$discovery$WeaveSinkDiscoveryService$$.prototype;
$JSCompiler_prototypeAlias$$.$module$exports$mr$cloud$slarti$SinkDiscoveryService_prototype$getSinks$ = function() {
  var $$jscomp$this$jscomp$102$$ = this;
  $JSCompiler_StaticMethods_registerGcm$$(this.$g$).then(function($registerId$jscomp$1$$) {
    $$jscomp$this$jscomp$102$$.$g$.subscribe($registerId$jscomp$1$$);
  }).catch(function() {
  });
  return this.$b$.$module$exports$mr$cloud$slarti$SinkDiscoveryService_prototype$getSinks$().filter(function($sink$jscomp$93$$) {
    return $sink$jscomp$93$$.isAvailable;
  });
};
$JSCompiler_prototypeAlias$$.$getSinkById$ = function($id$jscomp$77$$) {
  return this.$b$.$getSinkById$($id$jscomp$77$$);
};
$JSCompiler_prototypeAlias$$.handleEvent = function($event$jscomp$25$$, $args$jscomp$30$$) {
  for (var $$jscomp$restParams$jscomp$7$$ = [], $$jscomp$restIndex$jscomp$7$$ = 1; $$jscomp$restIndex$jscomp$7$$ < arguments.length; ++$$jscomp$restIndex$jscomp$7$$) {
    $$jscomp$restParams$jscomp$7$$[$$jscomp$restIndex$jscomp$7$$ - 1] = arguments[$$jscomp$restIndex$jscomp$7$$];
  }
  if ($event$jscomp$25$$ == chrome.gcm.onMessage) {
    this.$h$.onMessage.apply(this.$h$, $$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$7$$));
  } else {
    throw Error("Unhandled event: expected chrome.gcm.onMessage");
  }
};
$JSCompiler_prototypeAlias$$.$mr_cloud_discovery_WeaveSinkDiscoveryService_prototype$fetchAllSinks_$ = function() {
  return $JSCompiler_StaticMethods_listDevices$$(this.$g$).then(function($devices$jscomp$1$$) {
    return $devices$jscomp$1$$.map(function($device$jscomp$4$$) {
      $mr$Analytics$recordEvent$$("MediaRouter.Cloud.CloudReceiver.Sink.Discovered");
      var $isAvailable$jscomp$4$$ = $device$jscomp$4$$.isAvailable() && !($device$jscomp$4$$.$b$.invitations && 0 != $device$jscomp$4$$.$b$.invitations.length);
      return new $mr$cloud$WeaveSink$$($device$jscomp$4$$.getId(), $device$jscomp$4$$.$f$(), $device$jscomp$4$$.$b$.personalizedInfo.maxRole, "default", $isAvailable$jscomp$4$$);
    });
  }, function() {
  });
};
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "WeaveSinkDiscoveryService";
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [{cache:$JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$$(this.$b$)}];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  var $savedData$jscomp$14$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$14$$ && $JSCompiler_StaticMethods_loadFromObject$$(this.$b$, $savedData$jscomp$14$$.cache);
};
var $JSCompiler_StaticMethods_onDeviceDeleted$$ = function($JSCompiler_StaticMethods_onDeviceDeleted$self$$, $args$jscomp$33_removed$jscomp$3$$) {
  if ($args$jscomp$33_removed$jscomp$3$$ = $JSCompiler_StaticMethods_onDeviceDeleted$self$$.$b$.$getSinkById$($args$jscomp$33_removed$jscomp$3$$.sinkId)) {
    $JSCompiler_StaticMethods_onDeviceDeleted$self$$.$b$.$b$.delete($args$jscomp$33_removed$jscomp$3$$.id), $JSCompiler_StaticMethods_onDeviceDeleted$self$$.$b$.$f$ = Date.now(), $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$$($JSCompiler_StaticMethods_onDeviceDeleted$self$$.$f$, [$args$jscomp$33_removed$jscomp$3$$.$mrSink$]);
  }
};
var $goog$json$parse$$ = $goog$global$$.JSON.parse, $goog$json$serialize$$ = $goog$global$$.JSON.stringify;
var $apps$apiary$ApiaryClient$$ = function($opt_apiKey$jscomp$1$$, $opt_gaiaSessionId$$, $opt_apiRoot$$, $opt_unauthenticated$$, $opt_enableCors$$, $opt_oauthAccessToken$$, $opt_useV2Headers$$, $opt_gapiConfig$$, $opt_enableXd4$$) {
  $goog$Disposable$$.call(this);
  this.$H$ = null;
  this.$K$ = !1;
  this.$J$ = $goog$Promise$withResolver$$();
  this.$h$ = [];
  this.$g$ = $opt_apiKey$jscomp$1$$ ? encodeURIComponent(String($opt_apiKey$jscomp$1$$)) : null;
  this.$C$ = null;
  !$opt_unauthenticated$$ && $opt_gaiaSessionId$$ && (this.$C$ = $opt_gaiaSessionId$$);
  this.$O$ = $opt_apiRoot$$ || null;
  this.$m$ = !$opt_unauthenticated$$;
  this.$o$ = null != $opt_enableCors$$ ? $opt_enableCors$$ : null;
  this.$f$ = $opt_oauthAccessToken$$ || null;
  this.$G$ = !!$opt_useV2Headers$$;
  this.$L$ = $opt_gapiConfig$$ || null;
  this.$s$ = null != $opt_enableXd4$$ ? $opt_enableXd4$$ : null;
  $opt_unauthenticated$$ ? ($goog$asserts$assert$$(this.$g$, "Unauthed requests must have an API key"), $goog$asserts$assert$$(!this.$f$, "Unauthed requests should not have an OAuth token"), $goog$asserts$assert$$(!this.$G$, "Unauthed requests should not use v2 Auth headers")) : this.$f$ ? ($goog$asserts$assert$$(!this.$g$, "OAuth'd requests should not have an API key"), $goog$asserts$assert$$(!this.$C$, "OAuth'd requests should not have an Gaia session index"), $goog$asserts$assert$$(!this.$G$, 
  "OAuth'd requests should not use v2 Auth headers")) : ($goog$asserts$assert$$(this.$g$, "first party auth requests must have an API key"), $goog$asserts$assert$$(this.$C$, "first party auth requests must have a session ID"));
};
$$jscomp$inherits$$($apps$apiary$ApiaryClient$$, $goog$Disposable$$);
$apps$apiary$ApiaryClient$$.prototype.init = function() {
  var $loadCallback$$ = $goog$bind$$(function($gapi$jscomp$2$$) {
    this.$H$ = $gapi$jscomp$2$$;
    var $auth$$ = $goog$getObjectByName$$("auth", $gapi$jscomp$2$$);
    $goog$getObjectByName$$("client.request", $gapi$jscomp$2$$) && $auth$$ ? this.$M$() : $gapi$jscomp$2$$.load("client", $goog$bind$$(this.$M$, this));
  }, this), $win$jscomp$13$$ = $JSCompiler_StaticMethods_findWindowObject_$$("gapi");
  $win$jscomp$13$$ ? $loadCallback$$($win$jscomp$13$$.gapi) : $JSCompiler_StaticMethods_loadGapi_$$(this, $loadCallback$$);
  return this.$J$.$goog_Promise_Resolver_$promise$;
};
var $JSCompiler_StaticMethods_findWindowObject_$$ = function($name$jscomp$172$$) {
  for (var $win$jscomp$14$$ = window, $field$jscomp$113$$ = $goog$getObjectByName$$($name$jscomp$172$$, $win$jscomp$14$$); !$field$jscomp$113$$ && $win$jscomp$14$$ != window.top && $JSCompiler_StaticMethods_canAccessWindowProperty_$$($win$jscomp$14$$.parent, $name$jscomp$172$$);) {
    $win$jscomp$14$$ = $win$jscomp$14$$.parent, $field$jscomp$113$$ = $goog$getObjectByName$$($name$jscomp$172$$, $win$jscomp$14$$);
  }
  return $field$jscomp$113$$ ? $win$jscomp$14$$ : null;
}, $JSCompiler_StaticMethods_canAccessWindowProperty_$$ = function($win$jscomp$15$$, $property$jscomp$9$$) {
  try {
    return !!$win$jscomp$15$$ && null != $win$jscomp$15$$.location.href && $goog$reflect$canAccessProperty$$($win$jscomp$15$$, $property$jscomp$9$$);
  } catch ($err$jscomp$42$$) {
    return !1;
  }
}, $JSCompiler_StaticMethods_loadGapi_$$ = function($JSCompiler_StaticMethods_loadGapi_$self$$, $loadCallback$jscomp$1$$) {
  var $win$jscomp$16$$ = $JSCompiler_StaticMethods_findWindowObject_$$("gapi_onload");
  if ($win$jscomp$16$$) {
    var $gapiLoadCallback$$ = $win$jscomp$16$$.gapi_onload;
    $win$jscomp$16$$.gapi_onload = function() {
      $gapiLoadCallback$$();
      $loadCallback$jscomp$1$$($win$jscomp$16$$.gapi);
    };
  } else {
    window.gapi_onload = function() {
      $loadCallback$jscomp$1$$(window.gapi);
    };
    var $scriptEl$jscomp$2$$ = document.createElement("SCRIPT");
    $goog$dom$safe$setScriptSrc$$($scriptEl$jscomp$2$$, $apps$apiary$ApiaryClient$GAPI_URI_$$);
    $JSCompiler_StaticMethods_loadGapi_$self$$.$L$ && $goog$dom$setTextContent$$($scriptEl$jscomp$2$$, $goog$json$serialize$$($JSCompiler_StaticMethods_loadGapi_$self$$.$L$));
    document.getElementsByTagName("head")[0].appendChild($scriptEl$jscomp$2$$);
  }
}, $JSCompiler_StaticMethods_getGapi$$ = function($JSCompiler_StaticMethods_getGapi$self$$) {
  return $goog$asserts$assert$$($JSCompiler_StaticMethods_getGapi$self$$.$H$, "Missing gapi instance!");
};
$apps$apiary$ApiaryClient$$.prototype.$M$ = function() {
  for (var $i$jscomp$268$$ = 0; $i$jscomp$268$$ < this.$h$.length; $i$jscomp$268$$++) {
    this.$h$[$i$jscomp$268$$].$resolver$.resolve($JSCompiler_StaticMethods_sendRequestInternal_$$(this, this.$h$[$i$jscomp$268$$].requestData));
  }
  this.$K$ = !0;
  this.$J$.resolve($JSCompiler_StaticMethods_getGapi$$(this));
};
$apps$apiary$ApiaryClient$$.prototype.sendRequest = function($requestData$$) {
  if (this.$K$) {
    return $JSCompiler_StaticMethods_sendRequestInternal_$$(this, $requestData$$);
  }
  var $resolver$jscomp$13$$ = $goog$Promise$withResolver$$();
  this.$h$.push({requestData:$requestData$$, $resolver$:$resolver$jscomp$13$$});
  return $resolver$jscomp$13$$.$goog_Promise_Resolver_$promise$;
};
var $JSCompiler_StaticMethods_sendRequestInternal_$$ = function($JSCompiler_StaticMethods_sendRequestInternal_$self$$, $requestData$jscomp$1$$) {
  var $configGetFn_configUpdateFn$326$$ = $goog$getObjectByName$$("config.get", $JSCompiler_StaticMethods_getGapi$$($JSCompiler_StaticMethods_sendRequestInternal_$self$$));
  if (!$JSCompiler_StaticMethods_sendRequestInternal_$self$$.$m$) {
    var $firstPartyAuth$$ = $configGetFn_configUpdateFn$326$$("googleapis.config/auth/useFirstPartyAuth");
    var $originToken$$ = $configGetFn_configUpdateFn$326$$("googleapis.config/auth/useOriginToken");
  }
  var $cors$$;
  null != $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$o$ && ($cors$$ = $configGetFn_configUpdateFn$326$$("client/cors"));
  var $xd4$$;
  null != $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$s$ && ($xd4$$ = $configGetFn_configUpdateFn$326$$("client/xd4"));
  try {
    var $configUpdateFn$$ = $goog$getObjectByName$$("config.update", $JSCompiler_StaticMethods_getGapi$$($JSCompiler_StaticMethods_sendRequestInternal_$self$$));
    $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$m$ || ($configUpdateFn$$("googleapis.config/auth/useFirstPartyAuth", !1), $configUpdateFn$$("googleapis.config/auth/useOriginToken", !1));
    null != $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$o$ && $configUpdateFn$$("client/cors", $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$o$);
    null != $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$s$ && $configUpdateFn$$("client/xd4", $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$s$);
    var $requestHeaders$$ = $JSCompiler_StaticMethods_getAuthHeaders_$$($JSCompiler_StaticMethods_sendRequestInternal_$self$$);
    $requestData$jscomp$1$$.headers && $goog$object$extend$$($requestHeaders$$, $requestData$jscomp$1$$.headers);
    var $request$jscomp$53$$ = {headers:$requestHeaders$$, root:$JSCompiler_StaticMethods_sendRequestInternal_$self$$.$O$, path:$requestData$jscomp$1$$.path, method:$requestData$jscomp$1$$.method, body:$requestData$jscomp$1$$.body}, $params$jscomp$23$$ = $requestData$jscomp$1$$.params || {};
    $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$g$ && !$JSCompiler_StaticMethods_sendRequestInternal_$self$$.$f$ ? $goog$object$extend$$($params$jscomp$23$$, {key:$JSCompiler_StaticMethods_sendRequestInternal_$self$$.$g$}) : $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$f$ && $goog$object$extend$$($params$jscomp$23$$, {key:null});
    $goog$object$isEmpty$$($params$jscomp$23$$) || ($request$jscomp$53$$.params = $params$jscomp$23$$);
    var $requestFn$$ = $goog$getObjectByName$$("client.request", $JSCompiler_StaticMethods_getGapi$$($JSCompiler_StaticMethods_sendRequestInternal_$self$$)), $promise$jscomp$24$$ = $goog$Promise$resolve$$($requestFn$$($request$jscomp$53$$));
    $requestData$jscomp$1$$.callback && $promise$jscomp$24$$.then(function($res$jscomp$8$$) {
      $requestData$jscomp$1$$.callback.apply(null, [$res$jscomp$8$$.result, $res$jscomp$8$$]);
    }, function($res$jscomp$9$$) {
      $requestData$jscomp$1$$.callback.apply(null, [$res$jscomp$9$$.result, $res$jscomp$9$$]);
    });
    return $promise$jscomp$24$$;
  } finally {
    $configGetFn_configUpdateFn$326$$ = $goog$getObjectByName$$("config.update", $JSCompiler_StaticMethods_getGapi$$($JSCompiler_StaticMethods_sendRequestInternal_$self$$)), $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$m$ || ($configGetFn_configUpdateFn$326$$("googleapis.config/auth/useFirstPartyAuth", $firstPartyAuth$$), $configGetFn_configUpdateFn$326$$("googleapis.config/auth/useOriginToken", $originToken$$)), null != $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$o$ && $configGetFn_configUpdateFn$326$$("client/cors", 
    $cors$$), null != $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$s$ && $configGetFn_configUpdateFn$326$$("client/xd4", $xd4$$);
  }
}, $JSCompiler_StaticMethods_getAuthHeaders_$$ = function($JSCompiler_StaticMethods_getAuthHeaders_$self$$) {
  if ($JSCompiler_StaticMethods_getAuthHeaders_$self$$.$m$) {
    if ($JSCompiler_StaticMethods_getAuthHeaders_$self$$.$f$) {
      return {Authorization:"Bearer " + $JSCompiler_StaticMethods_getAuthHeaders_$self$$.$f$};
    }
    var $firstPartyAuthFn$$ = $goog$getObjectByName$$("auth.getAuthHeaderValueForFirstParty", $JSCompiler_StaticMethods_getGapi$$($JSCompiler_StaticMethods_getAuthHeaders_$self$$));
    return {Authorization:$JSCompiler_StaticMethods_getAuthHeaders_$self$$.$G$ ? $firstPartyAuthFn$$([]) : $firstPartyAuthFn$$(), "X-Goog-AuthUser":$JSCompiler_StaticMethods_getAuthHeaders_$self$$.$C$};
  }
  return {};
}, $apps$apiary$ApiaryClient$GAPI_URI_$$ = new $goog$html$TrustedResourceUrl$$($goog$html$TrustedResourceUrl$CONSTRUCTOR_TOKEN_PRIVATE_$$, $goog$string$Const$unwrap$$($goog$string$Const$from$$("https://apis.google.com/js/client.js")), null);
var $mr$cloud$gapi$GapiService$$ = function($identityService$jscomp$4$$) {
  this.$b$ = $identityService$jscomp$4$$;
}, $JSCompiler_StaticMethods_formUri$$ = function($base$jscomp$7_uri$jscomp$55$$, $pathParts$jscomp$2$$, $opt_queryParams_queryData$jscomp$12$$) {
  var $path$jscomp$40$$ = "";
  $pathParts$jscomp$2$$.forEach(function($part$jscomp$1$$) {
    $path$jscomp$40$$ += "/" + encodeURIComponent($part$jscomp$1$$);
  });
  $base$jscomp$7_uri$jscomp$55$$ = new $goog$Uri$$($base$jscomp$7_uri$jscomp$55$$ + $path$jscomp$40$$);
  $opt_queryParams_queryData$jscomp$12$$ && ($opt_queryParams_queryData$jscomp$12$$ = $goog$Uri$QueryData$createFromMap$$($opt_queryParams_queryData$jscomp$12$$), $JSCompiler_StaticMethods_setQueryData$$($base$jscomp$7_uri$jscomp$55$$, $opt_queryParams_queryData$jscomp$12$$));
  return $base$jscomp$7_uri$jscomp$55$$;
}, $JSCompiler_StaticMethods_callWithAuth$$ = function($JSCompiler_StaticMethods_callWithAuth$self$$, $uri$jscomp$57$$, $method$jscomp$15$$, $opt_body$jscomp$25$$) {
  return $JSCompiler_StaticMethods_callWithAuth$self$$.$b$.getAuthToken().then(function($token$jscomp$13$$) {
    var $client$jscomp$2$$ = $JSCompiler_StaticMethods_getAuthenticatedClient_$$($token$jscomp$13$$);
    return $JSCompiler_StaticMethods_mr_cloud_gapi_GapiService_prototype$callApi_$$($client$jscomp$2$$, $uri$jscomp$57$$, $method$jscomp$15$$, $opt_body$jscomp$25$$).catch(function($error$jscomp$58$$) {
      if ("INVALID_ACCESS_ERROR" == $error$jscomp$58$$) {
        return $JSCompiler_StaticMethods_expireTokenAndRetry_$$($JSCompiler_StaticMethods_callWithAuth$self$$, $token$jscomp$13$$, $uri$jscomp$57$$, $method$jscomp$15$$, $opt_body$jscomp$25$$);
      }
      throw $error$jscomp$58$$;
    });
  });
}, $JSCompiler_StaticMethods_expireTokenAndRetry_$$ = function($JSCompiler_StaticMethods_expireTokenAndRetry_$self$$, $tokenToExpire$$, $uri$jscomp$58$$, $method$jscomp$16$$, $opt_body$jscomp$26$$) {
  return $JSCompiler_StaticMethods_expireAuthToken$$($tokenToExpire$$).then(function() {
    return $JSCompiler_StaticMethods_callWithAuth$$($JSCompiler_StaticMethods_expireTokenAndRetry_$self$$, $uri$jscomp$58$$, $method$jscomp$16$$, $opt_body$jscomp$26$$);
  });
}, $JSCompiler_StaticMethods_mr_cloud_gapi_GapiService_prototype$callApi_$$ = function($client$jscomp$3$$, $uri$jscomp$60$$, $method$jscomp$18$$, $opt_body$jscomp$28$$) {
  return new Promise(function($resolve$jscomp$44$$, $reject$jscomp$43$$) {
    $client$jscomp$3$$.sendRequest($JSCompiler_StaticMethods_formRequest_$$($uri$jscomp$60$$, $method$jscomp$18$$, function($response$jscomp$19$$) {
      $response$jscomp$19$$ && !$response$jscomp$19$$.error ? $resolve$jscomp$44$$($response$jscomp$19$$) : $response$jscomp$19$$ && 401 == $response$jscomp$19$$.error.code ? $reject$jscomp$43$$("INVALID_ACCESS_ERROR") : $reject$jscomp$43$$($response$jscomp$19$$ && $response$jscomp$19$$.error ? $response$jscomp$19$$.error.errors ? $response$jscomp$19$$.error.errors[0] : $response$jscomp$19$$ : Error($response$jscomp$19$$));
    }, $opt_body$jscomp$28$$));
  });
}, $JSCompiler_StaticMethods_getAuthenticatedClient_$$ = function($authToken$jscomp$2_client$jscomp$5$$) {
  $authToken$jscomp$2_client$jscomp$5$$ = new $apps$apiary$ApiaryClient$$(void 0, void 0, void 0, !1, !1, $authToken$jscomp$2_client$jscomp$5$$);
  $authToken$jscomp$2_client$jscomp$5$$.init();
  return $authToken$jscomp$2_client$jscomp$5$$;
}, $JSCompiler_StaticMethods_formRequest_$$ = function($request$jscomp$55_uri$jscomp$61$$, $method$jscomp$19$$, $callback$jscomp$380$$, $opt_body$jscomp$29$$) {
  $request$jscomp$55_uri$jscomp$61$$ = {callback:$callback$jscomp$380$$, method:$method$jscomp$19$$, path:$request$jscomp$55_uri$jscomp$61$$.toString()};
  $opt_body$jscomp$29$$ && ($request$jscomp$55_uri$jscomp$61$$.body = $opt_body$jscomp$29$$);
  return $request$jscomp$55_uri$jscomp$61$$;
};
var $goog$i18n$CompactNumberFormatSymbols_en$$ = {$COMPACT_DECIMAL_SHORT_PATTERN$:{1E3:{other:"0K"}, 1E4:{other:"00K"}, 1E5:{other:"000K"}, 1E6:{other:"0M"}, 1E7:{other:"00M"}, 1E8:{other:"000M"}, 1E9:{other:"0B"}, 1E10:{other:"00B"}, 1E11:{other:"000B"}, 1E12:{other:"0T"}, 1E13:{other:"00T"}, 1E14:{other:"000T"}}, $COMPACT_DECIMAL_LONG_PATTERN$:{1E3:{other:"0 thousand"}, 1E4:{other:"00 thousand"}, 1E5:{other:"000 thousand"}, 1E6:{other:"0 million"}, 1E7:{other:"00 million"}, 1E8:{other:"000 million"}, 
1E9:{other:"0 billion"}, 1E10:{other:"00 billion"}, 1E11:{other:"000 billion"}, 1E12:{other:"0 trillion"}, 1E13:{other:"00 trillion"}, 1E14:{other:"000 trillion"}}}, $goog$i18n$CompactNumberFormatSymbols$$ = $goog$i18n$CompactNumberFormatSymbols_en$$;
$goog$i18n$CompactNumberFormatSymbols$$ = $goog$i18n$CompactNumberFormatSymbols_en$$;
var $goog$i18n$currency$CurrencyInfo$$ = {AED:[2, "dh", "\u062f.\u0625."], ALL:[0, "Lek", "Lek"], AUD:[2, "$", "AU$"], BDT:[2, "\u09f3", "Tk"], BGN:[2, "lev", "lev"], BRL:[2, "R$", "R$"], CAD:[2, "$", "C$"], CDF:[2, "FrCD", "CDF"], CHF:[2, "CHF", "CHF"], CLP:[0, "$", "CL$"], CNY:[2, "\u00a5", "RMB\u00a5"], COP:[32, "$", "COL$"], CRC:[0, "\u20a1", "CR\u20a1"], CZK:[50, "K\u010d", "K\u010d"], DKK:[50, "kr.", "kr."], DOP:[2, "RD$", "RD$"], EGP:[2, "\u00a3", "LE"], ETB:[2, "Birr", "Birr"], EUR:[2, "\u20ac", 
"\u20ac"], GBP:[2, "\u00a3", "GB\u00a3"], HKD:[2, "$", "HK$"], HRK:[2, "kn", "kn"], HUF:[34, "Ft", "Ft"], IDR:[0, "Rp", "Rp"], ILS:[34, "\u20aa", "IL\u20aa"], INR:[2, "\u20b9", "Rs"], IRR:[0, "Rial", "IRR"], ISK:[0, "kr", "kr"], JMD:[2, "$", "JA$"], JPY:[0, "\u00a5", "JP\u00a5"], KRW:[0, "\u20a9", "KR\u20a9"], LKR:[2, "Rs", "SLRs"], LTL:[2, "Lt", "Lt"], MNT:[0, "\u20ae", "MN\u20ae"], MVR:[2, "Rf", "MVR"], MXN:[2, "$", "Mex$"], MYR:[2, "RM", "RM"], NOK:[50, "kr", "NOkr"], PAB:[2, "B/.", "B/."], PEN:[2, 
"S/.", "S/."], PHP:[2, "\u20b1", "PHP"], PKR:[0, "Rs", "PKRs."], PLN:[50, "z\u0142", "z\u0142"], RON:[2, "RON", "RON"], RSD:[0, "din", "RSD"], RUB:[50, "\u20bd", "RUB"], SAR:[2, "Rial", "Rial"], SEK:[50, "kr", "kr"], SGD:[2, "$", "S$"], THB:[2, "\u0e3f", "THB"], TRY:[2, "\u20ba", "TRY"], TWD:[2, "NT$", "NT$"], TZS:[0, "TSh", "TSh"], UAH:[2, "\u0433\u0440\u043d.", "UAH"], USD:[2, "$", "US$"], UYU:[2, "$", "$U"], VND:[48, "\u20ab", "VN\u20ab"], YER:[0, "Rial", "Rial"], ZAR:[2, "R", "ZAR"]};
var $goog$i18n$NumberFormatSymbols_en$$ = {$DECIMAL_SEP$:".", $GROUP_SEP$:",", $PERCENT$:"%", $ZERO_DIGIT$:"0", $PLUS_SIGN$:"+", $MINUS_SIGN$:"-", $EXP_SYMBOL$:"E", $PERMILL$:"\u2030", $INFINITY$:"\u221e", $NAN$:"NaN", $DECIMAL_PATTERN$:"#,##0.###", $SCIENTIFIC_PATTERN$:"#E0", $PERCENT_PATTERN$:"#,##0%", $CURRENCY_PATTERN$:"\u00a4#,##0.00", $DEF_CURRENCY_CODE$:"USD"}, $goog$i18n$NumberFormatSymbols$$ = $goog$i18n$NumberFormatSymbols_en$$;
$goog$i18n$NumberFormatSymbols$$ = $goog$i18n$NumberFormatSymbols_en$$;
var $goog$i18n$NumberFormat$$ = function() {
  this.$G$ = 40;
  this.$f$ = 1;
  this.$g$ = 3;
  this.$J$ = this.$m$ = 0;
  this.$M$ = !1;
  this.$H$ = this.$s$ = "";
  this.$h$ = $goog$i18n$NumberFormatSymbols$$.$MINUS_SIGN$;
  this.$C$ = "";
  this.$b$ = 1;
  this.$o$ = !1;
  this.$l$ = [];
  this.$K$ = this.$L$ = !1;
  var $pattern$jscomp$inline_8038$$ = $goog$i18n$NumberFormatSymbols$$.$DECIMAL_PATTERN$;
  $pattern$jscomp$inline_8038$$.replace(/ /g, "\u00a0");
  var $pos$jscomp$inline_8039$$ = [0];
  this.$s$ = $JSCompiler_StaticMethods_parseAffix_$$(this, $pattern$jscomp$inline_8038$$, $pos$jscomp$inline_8039$$);
  for (var $trunkLen$jscomp$inline_8050_trunkStart$jscomp$inline_8040$$ = $pos$jscomp$inline_8039$$[0], $decimalPos$jscomp$inline_8041$$ = -1, $digitLeftCount$jscomp$inline_8042$$ = 0, $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$ = 0, $digitRightCount$jscomp$inline_8044_totalDigits$jscomp$inline_8049$$ = 0, $groupingCount$jscomp$inline_8045$$ = -1, $len$jscomp$inline_8046$$ = $pattern$jscomp$inline_8038$$.length, $loop$jscomp$inline_8047$$ = !0; $pos$jscomp$inline_8039$$[0] < $len$jscomp$inline_8046$$ && 
  $loop$jscomp$inline_8047$$; $pos$jscomp$inline_8039$$[0]++) {
    switch($pattern$jscomp$inline_8038$$.charAt($pos$jscomp$inline_8039$$[0])) {
      case "#":
        0 < $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$ ? $digitRightCount$jscomp$inline_8044_totalDigits$jscomp$inline_8049$$++ : $digitLeftCount$jscomp$inline_8042$$++;
        0 <= $groupingCount$jscomp$inline_8045$$ && 0 > $decimalPos$jscomp$inline_8041$$ && $groupingCount$jscomp$inline_8045$$++;
        break;
      case "0":
        if (0 < $digitRightCount$jscomp$inline_8044_totalDigits$jscomp$inline_8049$$) {
          throw Error('Unexpected "0" in pattern "' + $pattern$jscomp$inline_8038$$ + '"');
        }
        $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$++;
        0 <= $groupingCount$jscomp$inline_8045$$ && 0 > $decimalPos$jscomp$inline_8041$$ && $groupingCount$jscomp$inline_8045$$++;
        break;
      case ",":
        0 < $groupingCount$jscomp$inline_8045$$ && this.$l$.push($groupingCount$jscomp$inline_8045$$);
        $groupingCount$jscomp$inline_8045$$ = 0;
        break;
      case ".":
        if (0 <= $decimalPos$jscomp$inline_8041$$) {
          throw Error('Multiple decimal separators in pattern "' + $pattern$jscomp$inline_8038$$ + '"');
        }
        $decimalPos$jscomp$inline_8041$$ = $digitLeftCount$jscomp$inline_8042$$ + $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$ + $digitRightCount$jscomp$inline_8044_totalDigits$jscomp$inline_8049$$;
        break;
      case "E":
        if (this.$K$) {
          throw Error('Multiple exponential symbols in pattern "' + $pattern$jscomp$inline_8038$$ + '"');
        }
        this.$K$ = !0;
        this.$J$ = 0;
        $pos$jscomp$inline_8039$$[0] + 1 < $len$jscomp$inline_8046$$ && "+" == $pattern$jscomp$inline_8038$$.charAt($pos$jscomp$inline_8039$$[0] + 1) && ($pos$jscomp$inline_8039$$[0]++, this.$M$ = !0);
        for (; $pos$jscomp$inline_8039$$[0] + 1 < $len$jscomp$inline_8046$$ && "0" == $pattern$jscomp$inline_8038$$.charAt($pos$jscomp$inline_8039$$[0] + 1);) {
          $pos$jscomp$inline_8039$$[0]++, this.$J$++;
        }
        if (1 > $digitLeftCount$jscomp$inline_8042$$ + $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$ || 1 > this.$J$) {
          throw Error('Malformed exponential pattern "' + $pattern$jscomp$inline_8038$$ + '"');
        }
        $loop$jscomp$inline_8047$$ = !1;
        break;
      default:
        $pos$jscomp$inline_8039$$[0]--, $loop$jscomp$inline_8047$$ = !1;
    }
  }
  0 == $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$ && 0 < $digitLeftCount$jscomp$inline_8042$$ && 0 <= $decimalPos$jscomp$inline_8041$$ && ($n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$ = $decimalPos$jscomp$inline_8041$$, 0 == $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$ && $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$++, $digitRightCount$jscomp$inline_8044_totalDigits$jscomp$inline_8049$$ = $digitLeftCount$jscomp$inline_8042$$ - $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$, 
  $digitLeftCount$jscomp$inline_8042$$ = $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$ - 1, $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$ = 1);
  if (0 > $decimalPos$jscomp$inline_8041$$ && 0 < $digitRightCount$jscomp$inline_8044_totalDigits$jscomp$inline_8049$$ || 0 <= $decimalPos$jscomp$inline_8041$$ && ($decimalPos$jscomp$inline_8041$$ < $digitLeftCount$jscomp$inline_8042$$ || $decimalPos$jscomp$inline_8041$$ > $digitLeftCount$jscomp$inline_8042$$ + $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$) || 0 == $groupingCount$jscomp$inline_8045$$) {
    throw Error('Malformed pattern "' + $pattern$jscomp$inline_8038$$ + '"');
  }
  $digitRightCount$jscomp$inline_8044_totalDigits$jscomp$inline_8049$$ = $digitLeftCount$jscomp$inline_8042$$ + $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$ + $digitRightCount$jscomp$inline_8044_totalDigits$jscomp$inline_8049$$;
  this.$g$ = 0 <= $decimalPos$jscomp$inline_8041$$ ? $digitRightCount$jscomp$inline_8044_totalDigits$jscomp$inline_8049$$ - $decimalPos$jscomp$inline_8041$$ : 0;
  0 <= $decimalPos$jscomp$inline_8041$$ && (this.$m$ = $digitLeftCount$jscomp$inline_8042$$ + $n$jscomp$inline_8048_zeroDigitCount$jscomp$inline_8043$$ - $decimalPos$jscomp$inline_8041$$, 0 > this.$m$ && (this.$m$ = 0));
  this.$f$ = (0 <= $decimalPos$jscomp$inline_8041$$ ? $decimalPos$jscomp$inline_8041$$ : $digitRightCount$jscomp$inline_8044_totalDigits$jscomp$inline_8049$$) - $digitLeftCount$jscomp$inline_8042$$;
  this.$K$ && (this.$G$ = $digitLeftCount$jscomp$inline_8042$$ + this.$f$, 0 == this.$g$ && 0 == this.$f$ && (this.$f$ = 1));
  this.$l$.push(Math.max(0, $groupingCount$jscomp$inline_8045$$));
  this.$L$ = 0 == $decimalPos$jscomp$inline_8041$$ || $decimalPos$jscomp$inline_8041$$ == $digitRightCount$jscomp$inline_8044_totalDigits$jscomp$inline_8049$$;
  $trunkLen$jscomp$inline_8050_trunkStart$jscomp$inline_8040$$ = $pos$jscomp$inline_8039$$[0] - $trunkLen$jscomp$inline_8050_trunkStart$jscomp$inline_8040$$;
  this.$H$ = $JSCompiler_StaticMethods_parseAffix_$$(this, $pattern$jscomp$inline_8038$$, $pos$jscomp$inline_8039$$);
  $pos$jscomp$inline_8039$$[0] < $pattern$jscomp$inline_8038$$.length && ";" == $pattern$jscomp$inline_8038$$.charAt($pos$jscomp$inline_8039$$[0]) ? ($pos$jscomp$inline_8039$$[0]++, 1 != this.$b$ && (this.$o$ = !0), this.$h$ = $JSCompiler_StaticMethods_parseAffix_$$(this, $pattern$jscomp$inline_8038$$, $pos$jscomp$inline_8039$$), $pos$jscomp$inline_8039$$[0] += $trunkLen$jscomp$inline_8050_trunkStart$jscomp$inline_8040$$, this.$C$ = $JSCompiler_StaticMethods_parseAffix_$$(this, $pattern$jscomp$inline_8038$$, 
  $pos$jscomp$inline_8039$$)) : (this.$h$ += this.$s$, this.$C$ += this.$H$);
};
$goog$i18n$NumberFormat$$.prototype.parse = function($text$jscomp$19$$, $opt_pos_pos$jscomp$6$$) {
  $opt_pos_pos$jscomp$6$$ = $opt_pos_pos$jscomp$6$$ || [0];
  $text$jscomp$19$$ = $text$jscomp$19$$.replace(/ |\u202f/g, "\u00a0");
  var $gotPositive$$ = $text$jscomp$19$$.indexOf(this.$s$, $opt_pos_pos$jscomp$6$$[0]) == $opt_pos_pos$jscomp$6$$[0], $gotNegative$$ = $text$jscomp$19$$.indexOf(this.$h$, $opt_pos_pos$jscomp$6$$[0]) == $opt_pos_pos$jscomp$6$$[0];
  $gotPositive$$ && $gotNegative$$ && (this.$s$.length > this.$h$.length ? $gotNegative$$ = !1 : this.$s$.length < this.$h$.length && ($gotPositive$$ = !1));
  $gotPositive$$ ? $opt_pos_pos$jscomp$6$$[0] += this.$s$.length : $gotNegative$$ && ($opt_pos_pos$jscomp$6$$[0] += this.$h$.length);
  if ($text$jscomp$19$$.indexOf($goog$i18n$NumberFormatSymbols$$.$INFINITY$, $opt_pos_pos$jscomp$6$$[0]) == $opt_pos_pos$jscomp$6$$[0]) {
    $opt_pos_pos$jscomp$6$$[0] += $goog$i18n$NumberFormatSymbols$$.$INFINITY$.length;
    var $ret$jscomp$5_text$jscomp$inline_2239$$ = Infinity;
  } else {
    $ret$jscomp$5_text$jscomp$inline_2239$$ = $text$jscomp$19$$;
    var $sawDecimal$jscomp$inline_2241$$ = !1, $sawExponent$jscomp$inline_2242$$ = !1, $sawDigit$jscomp$inline_2243$$ = !1, $exponentPos$jscomp$inline_2244$$ = -1, $scale$jscomp$inline_2245$$ = 1, $decimal$jscomp$inline_2246$$ = $goog$i18n$NumberFormatSymbols$$.$DECIMAL_SEP$, $grouping$jscomp$inline_2247$$ = $goog$i18n$NumberFormatSymbols$$.$GROUP_SEP$, $exponentChar$jscomp$inline_2248$$ = $goog$i18n$NumberFormatSymbols$$.$EXP_SYMBOL$;
    $grouping$jscomp$inline_2247$$ = $grouping$jscomp$inline_2247$$.replace(/\u202f/g, "\u00a0");
    for (var $normalizedText$jscomp$inline_2249$$ = ""; $opt_pos_pos$jscomp$6$$[0] < $ret$jscomp$5_text$jscomp$inline_2239$$.length; $opt_pos_pos$jscomp$6$$[0]++) {
      var $ch$jscomp$inline_2250$$ = $ret$jscomp$5_text$jscomp$inline_2239$$.charAt($opt_pos_pos$jscomp$6$$[0]), $digit$jscomp$inline_2251$$ = $JSCompiler_StaticMethods_getDigit_$$($ch$jscomp$inline_2250$$);
      if (0 <= $digit$jscomp$inline_2251$$ && 9 >= $digit$jscomp$inline_2251$$) {
        $normalizedText$jscomp$inline_2249$$ += $digit$jscomp$inline_2251$$, $sawDigit$jscomp$inline_2243$$ = !0;
      } else {
        if ($ch$jscomp$inline_2250$$ == $decimal$jscomp$inline_2246$$.charAt(0)) {
          if ($sawDecimal$jscomp$inline_2241$$ || $sawExponent$jscomp$inline_2242$$) {
            break;
          }
          $normalizedText$jscomp$inline_2249$$ += ".";
          $sawDecimal$jscomp$inline_2241$$ = !0;
        } else {
          if ($ch$jscomp$inline_2250$$ == $grouping$jscomp$inline_2247$$.charAt(0) && ("\u00a0" != $grouping$jscomp$inline_2247$$.charAt(0) || $opt_pos_pos$jscomp$6$$[0] + 1 < $ret$jscomp$5_text$jscomp$inline_2239$$.length && 0 <= $JSCompiler_StaticMethods_getDigit_$$($ret$jscomp$5_text$jscomp$inline_2239$$.charAt($opt_pos_pos$jscomp$6$$[0] + 1)))) {
            if ($sawDecimal$jscomp$inline_2241$$ || $sawExponent$jscomp$inline_2242$$) {
              break;
            }
          } else {
            if ($ch$jscomp$inline_2250$$ == $exponentChar$jscomp$inline_2248$$.charAt(0)) {
              if ($sawExponent$jscomp$inline_2242$$) {
                break;
              }
              $normalizedText$jscomp$inline_2249$$ += "E";
              $sawExponent$jscomp$inline_2242$$ = !0;
              $exponentPos$jscomp$inline_2244$$ = $opt_pos_pos$jscomp$6$$[0];
            } else {
              if ("+" == $ch$jscomp$inline_2250$$ || "-" == $ch$jscomp$inline_2250$$) {
                if ($sawDigit$jscomp$inline_2243$$ && $exponentPos$jscomp$inline_2244$$ != $opt_pos_pos$jscomp$6$$[0] - 1) {
                  break;
                }
                $normalizedText$jscomp$inline_2249$$ += $ch$jscomp$inline_2250$$;
              } else {
                if (1 == this.$b$ && $ch$jscomp$inline_2250$$ == $goog$i18n$NumberFormatSymbols$$.$PERCENT$.charAt(0)) {
                  if (1 != $scale$jscomp$inline_2245$$) {
                    break;
                  }
                  $scale$jscomp$inline_2245$$ = 100;
                  if ($sawDigit$jscomp$inline_2243$$) {
                    $opt_pos_pos$jscomp$6$$[0]++;
                    break;
                  }
                } else {
                  if (1 == this.$b$ && $ch$jscomp$inline_2250$$ == $goog$i18n$NumberFormatSymbols$$.$PERMILL$.charAt(0)) {
                    if (1 != $scale$jscomp$inline_2245$$) {
                      break;
                    }
                    $scale$jscomp$inline_2245$$ = 1000;
                    if ($sawDigit$jscomp$inline_2243$$) {
                      $opt_pos_pos$jscomp$6$$[0]++;
                      break;
                    }
                  } else {
                    break;
                  }
                }
              }
            }
          }
        }
      }
    }
    1 != this.$b$ && ($scale$jscomp$inline_2245$$ = this.$b$);
    $ret$jscomp$5_text$jscomp$inline_2239$$ = parseFloat($normalizedText$jscomp$inline_2249$$) / $scale$jscomp$inline_2245$$;
  }
  if ($gotPositive$$) {
    if ($text$jscomp$19$$.indexOf(this.$H$, $opt_pos_pos$jscomp$6$$[0]) != $opt_pos_pos$jscomp$6$$[0]) {
      return NaN;
    }
    $opt_pos_pos$jscomp$6$$[0] += this.$H$.length;
  } else {
    if ($gotNegative$$) {
      if ($text$jscomp$19$$.indexOf(this.$C$, $opt_pos_pos$jscomp$6$$[0]) != $opt_pos_pos$jscomp$6$$[0]) {
        return NaN;
      }
      $opt_pos_pos$jscomp$6$$[0] += this.$C$.length;
    }
  }
  return $gotNegative$$ ? -$ret$jscomp$5_text$jscomp$inline_2239$$ : $ret$jscomp$5_text$jscomp$inline_2239$$;
};
$goog$i18n$NumberFormat$$.prototype.format = function($number$jscomp$2_number$jscomp$inline_2263$$) {
  if (isNaN($number$jscomp$2_number$jscomp$inline_2263$$)) {
    return $goog$i18n$NumberFormatSymbols$$.$NAN$;
  }
  var $parts$jscomp$11$$ = [];
  var $unit$jscomp$4$$ = $goog$i18n$NumberFormat$NULL_UNIT_$$;
  $number$jscomp$2_number$jscomp$inline_2263$$ = $goog$i18n$NumberFormat$decimalShift_$$($number$jscomp$2_number$jscomp$inline_2263$$, -$unit$jscomp$4$$.$divisorBase$);
  $parts$jscomp$11$$.push($unit$jscomp$4$$.prefix);
  var $isNegative$$ = 0.0 > $number$jscomp$2_number$jscomp$inline_2263$$ || 0.0 == $number$jscomp$2_number$jscomp$inline_2263$$ && 0.0 > 1 / $number$jscomp$2_number$jscomp$inline_2263$$;
  $parts$jscomp$11$$.push($isNegative$$ ? this.$h$ : this.$s$);
  if (isFinite($number$jscomp$2_number$jscomp$inline_2263$$)) {
    if ($number$jscomp$2_number$jscomp$inline_2263$$ = $number$jscomp$2_number$jscomp$inline_2263$$ * ($isNegative$$ ? -1 : 1) * this.$b$, this.$K$) {
      if (0.0 == $number$jscomp$2_number$jscomp$inline_2263$$) {
        $JSCompiler_StaticMethods_subformatFixed_$$(this, $number$jscomp$2_number$jscomp$inline_2263$$, this.$f$, $parts$jscomp$11$$), $JSCompiler_StaticMethods_addExponentPart_$$(this, 0, $parts$jscomp$11$$);
      } else {
        var $exponent$jscomp$inline_2265_num$jscomp$inline_6854$$ = Math.log($number$jscomp$2_number$jscomp$inline_2263$$) / Math.log(10);
        $goog$asserts$assert$$(!$goog$isDef$$(void 0) || !1);
        $exponent$jscomp$inline_2265_num$jscomp$inline_6854$$ = Math.floor($exponent$jscomp$inline_2265_num$jscomp$inline_6854$$ + 2e-15);
        $number$jscomp$2_number$jscomp$inline_2263$$ = $goog$i18n$NumberFormat$decimalShift_$$($number$jscomp$2_number$jscomp$inline_2263$$, -$exponent$jscomp$inline_2265_num$jscomp$inline_6854$$);
        var $minIntDigits$jscomp$inline_2266_remainder$jscomp$inline_2267$$ = this.$f$;
        1 < this.$G$ && this.$G$ > this.$f$ ? ($minIntDigits$jscomp$inline_2266_remainder$jscomp$inline_2267$$ = $exponent$jscomp$inline_2265_num$jscomp$inline_6854$$ % this.$G$, 0 > $minIntDigits$jscomp$inline_2266_remainder$jscomp$inline_2267$$ && ($minIntDigits$jscomp$inline_2266_remainder$jscomp$inline_2267$$ = this.$G$ + $minIntDigits$jscomp$inline_2266_remainder$jscomp$inline_2267$$), $number$jscomp$2_number$jscomp$inline_2263$$ = $goog$i18n$NumberFormat$decimalShift_$$($number$jscomp$2_number$jscomp$inline_2263$$, 
        $minIntDigits$jscomp$inline_2266_remainder$jscomp$inline_2267$$), $exponent$jscomp$inline_2265_num$jscomp$inline_6854$$ -= $minIntDigits$jscomp$inline_2266_remainder$jscomp$inline_2267$$, $minIntDigits$jscomp$inline_2266_remainder$jscomp$inline_2267$$ = 1) : 1 > this.$f$ ? ($exponent$jscomp$inline_2265_num$jscomp$inline_6854$$++, $number$jscomp$2_number$jscomp$inline_2263$$ = $goog$i18n$NumberFormat$decimalShift_$$($number$jscomp$2_number$jscomp$inline_2263$$, -1)) : ($exponent$jscomp$inline_2265_num$jscomp$inline_6854$$ -= 
        this.$f$ - 1, $number$jscomp$2_number$jscomp$inline_2263$$ = $goog$i18n$NumberFormat$decimalShift_$$($number$jscomp$2_number$jscomp$inline_2263$$, this.$f$ - 1));
        $JSCompiler_StaticMethods_subformatFixed_$$(this, $number$jscomp$2_number$jscomp$inline_2263$$, $minIntDigits$jscomp$inline_2266_remainder$jscomp$inline_2267$$, $parts$jscomp$11$$);
        $JSCompiler_StaticMethods_addExponentPart_$$(this, $exponent$jscomp$inline_2265_num$jscomp$inline_6854$$, $parts$jscomp$11$$);
      }
    } else {
      $JSCompiler_StaticMethods_subformatFixed_$$(this, $number$jscomp$2_number$jscomp$inline_2263$$, this.$f$, $parts$jscomp$11$$);
    }
  } else {
    $parts$jscomp$11$$.push($goog$i18n$NumberFormatSymbols$$.$INFINITY$);
  }
  $parts$jscomp$11$$.push($isNegative$$ ? this.$C$ : this.$H$);
  $parts$jscomp$11$$.push($unit$jscomp$4$$.$suffix$);
  return $parts$jscomp$11$$.join("");
};
var $JSCompiler_StaticMethods_subformatFixed_$$ = function($JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$, $JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$, $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$, $JSCompiler_temp$jscomp$537_parts$jscomp$14_parts$jscomp$inline_2270_parts$jscomp$inline_2284$$) {
  if ($JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$m$ > $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$g$) {
    throw Error("Min value must be less than max value");
  }
  $JSCompiler_temp$jscomp$537_parts$jscomp$14_parts$jscomp$inline_2270_parts$jscomp$inline_2284$$ || ($JSCompiler_temp$jscomp$537_parts$jscomp$14_parts$jscomp$inline_2270_parts$jscomp$inline_2284$$ = []);
  var $JSCompiler_object_inline_intValue_8565_minimumFractionDigits_shiftedNumber$jscomp$inline_8512$$ = $goog$i18n$NumberFormat$decimalShift_$$($JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$, $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$g$);
  $JSCompiler_object_inline_intValue_8565_minimumFractionDigits_shiftedNumber$jscomp$inline_8512$$ = Math.round($JSCompiler_object_inline_intValue_8565_minimumFractionDigits_shiftedNumber$jscomp$inline_8512$$);
  if (isFinite($JSCompiler_object_inline_intValue_8565_minimumFractionDigits_shiftedNumber$jscomp$inline_8512$$)) {
    $JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$ = Math.floor($goog$i18n$NumberFormat$decimalShift_$$($JSCompiler_object_inline_intValue_8565_minimumFractionDigits_shiftedNumber$jscomp$inline_8512$$, -$JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$g$));
    var $fracPartSplit_fracValue$jscomp$1_fracValue$jscomp$inline_8514$$ = Math.floor($JSCompiler_object_inline_intValue_8565_minimumFractionDigits_shiftedNumber$jscomp$inline_8512$$ - $goog$i18n$NumberFormat$decimalShift_$$($JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$, $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$g$));
  } else {
    $fracPartSplit_fracValue$jscomp$1_fracValue$jscomp$inline_8514$$ = 0;
  }
  $JSCompiler_object_inline_intValue_8565_minimumFractionDigits_shiftedNumber$jscomp$inline_8512$$ = $JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$;
  $JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$ = $fracPartSplit_fracValue$jscomp$1_fracValue$jscomp$inline_8514$$;
  var $grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$ = $JSCompiler_object_inline_intValue_8565_minimumFractionDigits_shiftedNumber$jscomp$inline_8512$$;
  $fracPartSplit_fracValue$jscomp$1_fracValue$jscomp$inline_8514$$ = $JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$;
  var $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$ = 0 < $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$m$ || 0 < $fracPartSplit_fracValue$jscomp$1_fracValue$jscomp$inline_8514$$ || !1;
  $JSCompiler_object_inline_intValue_8565_minimumFractionDigits_shiftedNumber$jscomp$inline_8512$$ = $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$m$;
  $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$ && ($JSCompiler_object_inline_intValue_8565_minimumFractionDigits_shiftedNumber$jscomp$inline_8512$$ = $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$m$);
  var $groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$ = "";
  for ($JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$ = $grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$; 1E20 < $JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$;) {
    $groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$ = "0" + $groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$, $JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$ = Math.round($goog$i18n$NumberFormat$decimalShift_$$($JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$, 
    -1));
  }
  $groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$ = $JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$ + $groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$;
  var $JSCompiler_inline_result$jscomp$8497_decimal$jscomp$1_number$jscomp$inline_8516$$ = $goog$i18n$NumberFormatSymbols$$.$DECIMAL_SEP$;
  $JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$ = $goog$i18n$NumberFormatSymbols$$.$ZERO_DIGIT$.charCodeAt(0);
  var $currentGroupSizeIndex$jscomp$inline_2289_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_2275$$ = $groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$.length, $currentGroupSize$jscomp$inline_2290_currentGroupSizeIndex$jscomp$inline_2276_nonRepeatedGroupCount$$ = 0;
  if (0 < $grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$ || 0 < $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$) {
    for ($grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$ = $currentGroupSizeIndex$jscomp$inline_2289_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_2275$$; $grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$ < $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$; $grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$++) {
      $JSCompiler_temp$jscomp$537_parts$jscomp$14_parts$jscomp$inline_2270_parts$jscomp$inline_2284$$.push(String.fromCharCode($JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$));
    }
    if (2 <= $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$l$.length) {
      for ($JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ = 1; $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ < $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$l$.length; $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$++) {
        $currentGroupSize$jscomp$inline_2290_currentGroupSizeIndex$jscomp$inline_2276_nonRepeatedGroupCount$$ += $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$l$[$JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$];
      }
    }
    $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ = $currentGroupSizeIndex$jscomp$inline_2289_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_2275$$ - $currentGroupSize$jscomp$inline_2290_currentGroupSizeIndex$jscomp$inline_2276_nonRepeatedGroupCount$$;
    if (0 < $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$) {
      $grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$ = $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$l$;
      $currentGroupSize$jscomp$inline_2290_currentGroupSizeIndex$jscomp$inline_2276_nonRepeatedGroupCount$$ = $currentGroupSizeIndex$jscomp$inline_2289_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_2275$$ = 0;
      for (var $currentGroupSize$jscomp$inline_2277_digitLenLeft$jscomp$inline_2291$$, $grouping$jscomp$inline_2278_rightToLeftParts$jscomp$inline_2292$$ = $goog$i18n$NumberFormatSymbols$$.$GROUP_SEP$, $digitLen$jscomp$inline_2279_rightDigitIndex$jscomp$inline_2293$$ = $groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$.length, $i$jscomp$inline_2280$$ = 0; $i$jscomp$inline_2280$$ < $digitLen$jscomp$inline_2279_rightDigitIndex$jscomp$inline_2293$$; $i$jscomp$inline_2280$$++) {
        if ($JSCompiler_temp$jscomp$537_parts$jscomp$14_parts$jscomp$inline_2270_parts$jscomp$inline_2284$$.push(String.fromCharCode($JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$ + 1 * Number($groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$.charAt($i$jscomp$inline_2280$$)))), 1 < $digitLen$jscomp$inline_2279_rightDigitIndex$jscomp$inline_2293$$ - $i$jscomp$inline_2280$$) {
          if ($currentGroupSize$jscomp$inline_2277_digitLenLeft$jscomp$inline_2291$$ = $grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$[$currentGroupSize$jscomp$inline_2290_currentGroupSizeIndex$jscomp$inline_2276_nonRepeatedGroupCount$$], $i$jscomp$inline_2280$$ < $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$) {
            var $repeatedDigitIndex$jscomp$inline_2281$$ = $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ - $i$jscomp$inline_2280$$;
            (1 === $currentGroupSize$jscomp$inline_2277_digitLenLeft$jscomp$inline_2291$$ || 0 < $currentGroupSize$jscomp$inline_2277_digitLenLeft$jscomp$inline_2291$$ && 1 === $repeatedDigitIndex$jscomp$inline_2281$$ % $currentGroupSize$jscomp$inline_2277_digitLenLeft$jscomp$inline_2291$$) && $JSCompiler_temp$jscomp$537_parts$jscomp$14_parts$jscomp$inline_2270_parts$jscomp$inline_2284$$.push($grouping$jscomp$inline_2278_rightToLeftParts$jscomp$inline_2292$$);
          } else {
            $currentGroupSize$jscomp$inline_2290_currentGroupSizeIndex$jscomp$inline_2276_nonRepeatedGroupCount$$ < $grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$.length && ($i$jscomp$inline_2280$$ === $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ ? $currentGroupSize$jscomp$inline_2290_currentGroupSizeIndex$jscomp$inline_2276_nonRepeatedGroupCount$$ += 
            1 : $currentGroupSize$jscomp$inline_2277_digitLenLeft$jscomp$inline_2291$$ === $i$jscomp$inline_2280$$ - $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ - $currentGroupSizeIndex$jscomp$inline_2289_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_2275$$ + 1 && ($JSCompiler_temp$jscomp$537_parts$jscomp$14_parts$jscomp$inline_2270_parts$jscomp$inline_2284$$.push($grouping$jscomp$inline_2278_rightToLeftParts$jscomp$inline_2292$$), 
            $currentGroupSizeIndex$jscomp$inline_2289_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_2275$$ += $currentGroupSize$jscomp$inline_2277_digitLenLeft$jscomp$inline_2291$$, $currentGroupSize$jscomp$inline_2290_currentGroupSizeIndex$jscomp$inline_2276_nonRepeatedGroupCount$$ += 1));
          }
        }
      }
    } else {
      $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ = $groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$;
      $groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$ = $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$l$;
      $grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$ = $goog$i18n$NumberFormatSymbols$$.$GROUP_SEP$;
      $currentGroupSize$jscomp$inline_2277_digitLenLeft$jscomp$inline_2291$$ = $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$.length;
      $grouping$jscomp$inline_2278_rightToLeftParts$jscomp$inline_2292$$ = [];
      for ($currentGroupSizeIndex$jscomp$inline_2289_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_2275$$ = $groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$.length - 1; 0 <= $currentGroupSizeIndex$jscomp$inline_2289_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_2275$$ && 0 < $currentGroupSize$jscomp$inline_2277_digitLenLeft$jscomp$inline_2291$$; $currentGroupSizeIndex$jscomp$inline_2289_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_2275$$--) {
        $currentGroupSize$jscomp$inline_2290_currentGroupSizeIndex$jscomp$inline_2276_nonRepeatedGroupCount$$ = $groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$[$currentGroupSizeIndex$jscomp$inline_2289_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_2275$$];
        for ($digitLen$jscomp$inline_2279_rightDigitIndex$jscomp$inline_2293$$ = 0; $digitLen$jscomp$inline_2279_rightDigitIndex$jscomp$inline_2293$$ < $currentGroupSize$jscomp$inline_2290_currentGroupSizeIndex$jscomp$inline_2276_nonRepeatedGroupCount$$ && 0 <= $currentGroupSize$jscomp$inline_2277_digitLenLeft$jscomp$inline_2291$$ - $digitLen$jscomp$inline_2279_rightDigitIndex$jscomp$inline_2293$$ - 1; $digitLen$jscomp$inline_2279_rightDigitIndex$jscomp$inline_2293$$++) {
          $grouping$jscomp$inline_2278_rightToLeftParts$jscomp$inline_2292$$.push(String.fromCharCode($JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$ + 1 * Number($JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$.charAt($currentGroupSize$jscomp$inline_2277_digitLenLeft$jscomp$inline_2291$$ - $digitLen$jscomp$inline_2279_rightDigitIndex$jscomp$inline_2293$$ - 
          1))));
        }
        $currentGroupSize$jscomp$inline_2277_digitLenLeft$jscomp$inline_2291$$ -= $currentGroupSize$jscomp$inline_2290_currentGroupSizeIndex$jscomp$inline_2276_nonRepeatedGroupCount$$;
        0 < $currentGroupSize$jscomp$inline_2277_digitLenLeft$jscomp$inline_2291$$ && $grouping$jscomp$inline_2278_rightToLeftParts$jscomp$inline_2292$$.push($grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$);
      }
      $JSCompiler_temp$jscomp$537_parts$jscomp$14_parts$jscomp$inline_2270_parts$jscomp$inline_2284$$.push.apply($JSCompiler_temp$jscomp$537_parts$jscomp$14_parts$jscomp$inline_2270_parts$jscomp$inline_2284$$, $grouping$jscomp$inline_2278_rightToLeftParts$jscomp$inline_2292$$.reverse());
    }
  } else {
    $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$ || $JSCompiler_temp$jscomp$537_parts$jscomp$14_parts$jscomp$inline_2270_parts$jscomp$inline_2284$$.push(String.fromCharCode($JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$));
  }
  ($JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$L$ || $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$) && $JSCompiler_temp$jscomp$537_parts$jscomp$14_parts$jscomp$inline_2270_parts$jscomp$inline_2284$$.push($JSCompiler_inline_result$jscomp$8497_decimal$jscomp$1_number$jscomp$inline_8516$$);
  $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$ = String($fracPartSplit_fracValue$jscomp$1_fracValue$jscomp$inline_8514$$);
  $fracPartSplit_fracValue$jscomp$1_fracValue$jscomp$inline_8514$$ = $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$.split("e+");
  if (2 == $fracPartSplit_fracValue$jscomp$1_fracValue$jscomp$inline_8514$$.length) {
    $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$ = String;
    if ($JSCompiler_inline_result$jscomp$8497_decimal$jscomp$1_number$jscomp$inline_8516$$ = parseFloat($fracPartSplit_fracValue$jscomp$1_fracValue$jscomp$inline_8514$$[0])) {
      $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ = $JSCompiler_inline_result$jscomp$8497_decimal$jscomp$1_number$jscomp$inline_8516$$;
      if (isFinite($JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$)) {
        for ($groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$ = 0; 1 <= ($JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ /= 10);) {
          $groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$++;
        }
        $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ = $groupingArray$jscomp$inline_2287_i$jscomp$inline_8552_intPart$jscomp$2_intPart$jscomp$inline_2272$$;
      } else {
        $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ = 0 < $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ ? $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ : 
        0;
      }
      $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ = 0 - $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ - 1;
      $JSCompiler_inline_result$jscomp$8497_decimal$jscomp$1_number$jscomp$inline_8516$$ = -1 > $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$ ? $goog$i18n$NumberFormat$decimalRound_$$($JSCompiler_inline_result$jscomp$8497_decimal$jscomp$1_number$jscomp$inline_8516$$, -1) : $goog$i18n$NumberFormat$decimalRound_$$($JSCompiler_inline_result$jscomp$8497_decimal$jscomp$1_number$jscomp$inline_8516$$, 
      $JSCompiler_inline_result$jscomp$8550_intPart$jscomp$inline_2286_j$jscomp$14_magnitude$jscomp$inline_8518_minIntDigits_number$jscomp$inline_8551_repeatedDigitLen$jscomp$1$$);
    }
    $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$ = $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$($JSCompiler_inline_result$jscomp$8497_decimal$jscomp$1_number$jscomp$inline_8516$$);
    $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$ = $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$.replace(".", "");
    $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$ += $goog$string$repeat$$("0", parseInt($fracPartSplit_fracValue$jscomp$1_fracValue$jscomp$inline_8514$$[1], 10) - $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$.length + 1);
  }
  $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$g$ + 1 > $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$.length && ($JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$ = "1" + $goog$string$repeat$$("0", $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$g$ - $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$.length) + $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$);
  for ($JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$ = $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$.length; "0" == $JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$.charAt($JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$ - 1) && $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$ > $JSCompiler_object_inline_intValue_8565_minimumFractionDigits_shiftedNumber$jscomp$inline_8512$$ + 1;) {
    $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$--;
  }
  for ($grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$ = 1; $grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$ < $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$; $grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$++) {
    $JSCompiler_temp$jscomp$537_parts$jscomp$14_parts$jscomp$inline_2270_parts$jscomp$inline_2284$$.push(String.fromCharCode($JSCompiler_object_inline_fracValue_8566_intValue$jscomp$inline_8513_number$jscomp$4_translatableInt_zeroCode$jscomp$2$$ + 1 * Number($JSCompiler_temp_const$jscomp$8496_fracPart_fractionPresent$$.charAt($grouping$jscomp$inline_2288_groupingArray$jscomp$inline_2273_i$jscomp$273_intValue$jscomp$3$$))));
  }
}, $JSCompiler_StaticMethods_addExponentPart_$$ = function($JSCompiler_StaticMethods_addExponentPart_$self$$, $exponent_exponentDigits$$, $parts$jscomp$15$$) {
  $parts$jscomp$15$$.push($goog$i18n$NumberFormatSymbols$$.$EXP_SYMBOL$);
  0 > $exponent_exponentDigits$$ ? ($exponent_exponentDigits$$ = -$exponent_exponentDigits$$, $parts$jscomp$15$$.push($goog$i18n$NumberFormatSymbols$$.$MINUS_SIGN$)) : $JSCompiler_StaticMethods_addExponentPart_$self$$.$M$ && $parts$jscomp$15$$.push($goog$i18n$NumberFormatSymbols$$.$PLUS_SIGN$);
  $exponent_exponentDigits$$ = "" + $exponent_exponentDigits$$;
  for (var $zeroChar$$ = $goog$i18n$NumberFormatSymbols$$.$ZERO_DIGIT$, $i$jscomp$274$$ = $exponent_exponentDigits$$.length; $i$jscomp$274$$ < $JSCompiler_StaticMethods_addExponentPart_$self$$.$J$; $i$jscomp$274$$++) {
    $parts$jscomp$15$$.push($zeroChar$$);
  }
  $parts$jscomp$15$$.push($exponent_exponentDigits$$);
}, $JSCompiler_StaticMethods_getDigit_$$ = function($ch$jscomp$8_code$jscomp$10$$) {
  $ch$jscomp$8_code$jscomp$10$$ = $ch$jscomp$8_code$jscomp$10$$.charCodeAt(0);
  if (48 <= $ch$jscomp$8_code$jscomp$10$$ && 58 > $ch$jscomp$8_code$jscomp$10$$) {
    return $ch$jscomp$8_code$jscomp$10$$ - 48;
  }
  var $zeroCode$jscomp$3$$ = $goog$i18n$NumberFormatSymbols$$.$ZERO_DIGIT$.charCodeAt(0);
  return $zeroCode$jscomp$3$$ <= $ch$jscomp$8_code$jscomp$10$$ && $ch$jscomp$8_code$jscomp$10$$ < $zeroCode$jscomp$3$$ + 10 ? $ch$jscomp$8_code$jscomp$10$$ - $zeroCode$jscomp$3$$ : -1;
}, $JSCompiler_StaticMethods_parseAffix_$$ = function($JSCompiler_StaticMethods_parseAffix_$self$$, $pattern$jscomp$8$$, $pos$jscomp$8$$) {
  for (var $affix$$ = "", $inQuote$$ = !1, $len$jscomp$3$$ = $pattern$jscomp$8$$.length; $pos$jscomp$8$$[0] < $len$jscomp$3$$; $pos$jscomp$8$$[0]++) {
    var $ch$jscomp$9_currencyCode$jscomp$inline_2295$$ = $pattern$jscomp$8$$.charAt($pos$jscomp$8$$[0]);
    if ("'" == $ch$jscomp$9_currencyCode$jscomp$inline_2295$$) {
      $pos$jscomp$8$$[0] + 1 < $len$jscomp$3$$ && "'" == $pattern$jscomp$8$$.charAt($pos$jscomp$8$$[0] + 1) ? ($pos$jscomp$8$$[0]++, $affix$$ += "'") : $inQuote$$ = !$inQuote$$;
    } else {
      if ($inQuote$$) {
        $affix$$ += $ch$jscomp$9_currencyCode$jscomp$inline_2295$$;
      } else {
        switch($ch$jscomp$9_currencyCode$jscomp$inline_2295$$) {
          case "#":
          case "0":
          case ",":
          case ".":
          case ";":
            return $affix$$;
          case "\u00a4":
            $pos$jscomp$8$$[0] + 1 < $len$jscomp$3$$ && "\u00a4" == $pattern$jscomp$8$$.charAt($pos$jscomp$8$$[0] + 1) ? ($pos$jscomp$8$$[0]++, $affix$$ += $goog$i18n$NumberFormatSymbols$$.$DEF_CURRENCY_CODE$) : ($ch$jscomp$9_currencyCode$jscomp$inline_2295$$ = $goog$i18n$NumberFormatSymbols$$.$DEF_CURRENCY_CODE$, $affix$$ += $ch$jscomp$9_currencyCode$jscomp$inline_2295$$ in $goog$i18n$currency$CurrencyInfo$$ ? $goog$i18n$currency$CurrencyInfo$$[$ch$jscomp$9_currencyCode$jscomp$inline_2295$$][1] : 
            $ch$jscomp$9_currencyCode$jscomp$inline_2295$$);
            break;
          case "%":
            if (!$JSCompiler_StaticMethods_parseAffix_$self$$.$o$ && 1 != $JSCompiler_StaticMethods_parseAffix_$self$$.$b$) {
              throw Error("Too many percent/permill");
            }
            if ($JSCompiler_StaticMethods_parseAffix_$self$$.$o$ && 100 != $JSCompiler_StaticMethods_parseAffix_$self$$.$b$) {
              throw Error("Inconsistent use of percent/permill characters");
            }
            $JSCompiler_StaticMethods_parseAffix_$self$$.$b$ = 100;
            $JSCompiler_StaticMethods_parseAffix_$self$$.$o$ = !1;
            $affix$$ += $goog$i18n$NumberFormatSymbols$$.$PERCENT$;
            break;
          case "\u2030":
            if (!$JSCompiler_StaticMethods_parseAffix_$self$$.$o$ && 1 != $JSCompiler_StaticMethods_parseAffix_$self$$.$b$) {
              throw Error("Too many percent/permill");
            }
            if ($JSCompiler_StaticMethods_parseAffix_$self$$.$o$ && 1000 != $JSCompiler_StaticMethods_parseAffix_$self$$.$b$) {
              throw Error("Inconsistent use of percent/permill characters");
            }
            $JSCompiler_StaticMethods_parseAffix_$self$$.$b$ = 1000;
            $JSCompiler_StaticMethods_parseAffix_$self$$.$o$ = !1;
            $affix$$ += $goog$i18n$NumberFormatSymbols$$.$PERMILL$;
            break;
          default:
            $affix$$ += $ch$jscomp$9_currencyCode$jscomp$inline_2295$$;
        }
      }
    }
  }
  return $affix$$;
}, $goog$i18n$NumberFormat$NULL_UNIT_$$ = {prefix:"", $suffix$:"", $divisorBase$:0}, $goog$i18n$NumberFormat$decimalShift_$$ = function($numParts_number$jscomp$7$$, $digitCount$$) {
  $goog$asserts$assert$$(0 == $digitCount$$ % 1, 'Cannot shift by fractional digits "%s".', $digitCount$$);
  if (!$numParts_number$jscomp$7$$ || !isFinite($numParts_number$jscomp$7$$) || 0 == $digitCount$$) {
    return $numParts_number$jscomp$7$$;
  }
  $numParts_number$jscomp$7$$ = String($numParts_number$jscomp$7$$).split("e");
  return parseFloat($numParts_number$jscomp$7$$[0] + "e" + (parseInt($numParts_number$jscomp$7$$[1] || 0, 10) + $digitCount$$));
}, $goog$i18n$NumberFormat$decimalRound_$$ = function($number$jscomp$8$$, $decimalCount$$) {
  $goog$asserts$assert$$(0 == $decimalCount$$ % 1, 'Cannot round to fractional digits "%s".', $decimalCount$$);
  return $number$jscomp$8$$ && isFinite($number$jscomp$8$$) ? $goog$i18n$NumberFormat$decimalShift_$$(Math.round($goog$i18n$NumberFormat$decimalShift_$$($number$jscomp$8$$, $decimalCount$$)), -$decimalCount$$) : $number$jscomp$8$$;
};
var $goog$i18n$ordinalRules$enSelect_$$ = function($n$jscomp$17$$) {
  return 1 == $n$jscomp$17$$ % 10 && 11 != $n$jscomp$17$$ % 100 ? "one" : 2 == $n$jscomp$17$$ % 10 && 12 != $n$jscomp$17$$ % 100 ? "two" : 3 == $n$jscomp$17$$ % 10 && 13 != $n$jscomp$17$$ % 100 ? "few" : "other";
}, $goog$i18n$ordinalRules$select$$ = $goog$i18n$ordinalRules$enSelect_$$;
$goog$i18n$ordinalRules$select$$ = $goog$i18n$ordinalRules$enSelect_$$;
var $goog$i18n$pluralRules$enSelect_$$ = function($n$jscomp$73$$, $JSCompiler_temp$jscomp$6442_opt_precision$jscomp$60_str$jscomp$inline_6857$$) {
  if (void 0 === $JSCompiler_temp$jscomp$6442_opt_precision$jscomp$60_str$jscomp$inline_6857$$) {
    $JSCompiler_temp$jscomp$6442_opt_precision$jscomp$60_str$jscomp$inline_6857$$ = $n$jscomp$73$$ + "";
    var $result$jscomp$inline_6858$$ = $JSCompiler_temp$jscomp$6442_opt_precision$jscomp$60_str$jscomp$inline_6857$$.indexOf(".");
    $JSCompiler_temp$jscomp$6442_opt_precision$jscomp$60_str$jscomp$inline_6857$$ = Math.min(-1 == $result$jscomp$inline_6858$$ ? 0 : $JSCompiler_temp$jscomp$6442_opt_precision$jscomp$60_str$jscomp$inline_6857$$.length - $result$jscomp$inline_6858$$ - 1, 3);
  }
  return 1 == ($n$jscomp$73$$ | 0) && 0 == $JSCompiler_temp$jscomp$6442_opt_precision$jscomp$60_str$jscomp$inline_6857$$ ? "one" : "other";
}, $goog$i18n$pluralRules$select$$ = $goog$i18n$pluralRules$enSelect_$$;
$goog$i18n$pluralRules$select$$ = $goog$i18n$pluralRules$enSelect_$$;
var $goog$i18n$MessageFormat$$ = function() {
  this.$h$ = $mr$cloud$Messages$MSG_MR_HANGOUT_TITLE_$$;
  this.$f$ = this.$b$ = this.$l$ = null;
  var $currentSymbols$jscomp$inline_2307$$ = $goog$i18n$NumberFormatSymbols$$, $currentCompactSymbols$jscomp$inline_2308$$ = $goog$i18n$CompactNumberFormatSymbols$$;
  if ($goog$i18n$MessageFormat$numberFormatterSymbols_$$ !== $currentSymbols$jscomp$inline_2307$$ || $goog$i18n$MessageFormat$compactNumberFormatterSymbols_$$ !== $currentCompactSymbols$jscomp$inline_2308$$) {
    $goog$i18n$MessageFormat$numberFormatterSymbols_$$ = $currentSymbols$jscomp$inline_2307$$, $goog$i18n$MessageFormat$compactNumberFormatterSymbols_$$ = $currentCompactSymbols$jscomp$inline_2308$$, $goog$i18n$MessageFormat$numberFormatter_$$ = new $goog$i18n$NumberFormat$$;
  }
  this.$m$ = $goog$i18n$MessageFormat$numberFormatter_$$;
}, $goog$i18n$MessageFormat$numberFormatterSymbols_$$ = null, $goog$i18n$MessageFormat$compactNumberFormatterSymbols_$$ = null, $goog$i18n$MessageFormat$numberFormatter_$$ = null, $goog$i18n$MessageFormat$REGEX_LITERAL_$$ = /'([{}#].*?)'/g, $goog$i18n$MessageFormat$REGEX_DOUBLE_APOSTROPHE_$$ = /''/g;
$goog$i18n$MessageFormat$$.prototype.format = function($JSCompiler_inline_result$jscomp$541_message$jscomp$inline_2314_namedParameters$$) {
  if (this.$h$) {
    this.$l$ = [];
    var $pattern$jscomp$inline_6861_result$jscomp$inline_2313$$ = $JSCompiler_StaticMethods_insertPlaceholders_$$(this, this.$h$);
    this.$f$ = $JSCompiler_StaticMethods_parseBlock_$$(this, $pattern$jscomp$inline_6861_result$jscomp$inline_2313$$);
    this.$h$ = null;
  }
  if (this.$f$ && 0 != this.$f$.length) {
    for (this.$b$ = $goog$array$toArray$$(this.$l$), $pattern$jscomp$inline_6861_result$jscomp$inline_2313$$ = [], $JSCompiler_StaticMethods_formatBlock_$$(this, this.$f$, $JSCompiler_inline_result$jscomp$541_message$jscomp$inline_2314_namedParameters$$, !1, $pattern$jscomp$inline_6861_result$jscomp$inline_2313$$), $JSCompiler_inline_result$jscomp$541_message$jscomp$inline_2314_namedParameters$$ = $pattern$jscomp$inline_6861_result$jscomp$inline_2313$$.join(""), $goog$asserts$assert$$(-1 == $JSCompiler_inline_result$jscomp$541_message$jscomp$inline_2314_namedParameters$$.search("#"), 
    "Not all # were replaced."); 0 < this.$b$.length;) {
      $JSCompiler_inline_result$jscomp$541_message$jscomp$inline_2314_namedParameters$$ = $JSCompiler_inline_result$jscomp$541_message$jscomp$inline_2314_namedParameters$$.replace(this.$g$(this.$b$), this.$b$.pop());
    }
  } else {
    $JSCompiler_inline_result$jscomp$541_message$jscomp$inline_2314_namedParameters$$ = "";
  }
  return $JSCompiler_inline_result$jscomp$541_message$jscomp$inline_2314_namedParameters$$;
};
var $JSCompiler_StaticMethods_formatBlock_$$ = function($JSCompiler_StaticMethods_formatBlock_$self$$, $parsedPattern$$, $namedParameters$jscomp$3$$, $ignorePound$jscomp$1$$, $result$jscomp$68$$) {
  for (var $i$jscomp$299$$ = 0; $i$jscomp$299$$ < $parsedPattern$$.length; $i$jscomp$299$$++) {
    switch($parsedPattern$$[$i$jscomp$299$$].type) {
      case 4:
        $result$jscomp$68$$.push($parsedPattern$$[$i$jscomp$299$$].value);
        break;
      case 3:
        var $parsedPattern$jscomp$inline_2317_pattern$jscomp$12$$ = $parsedPattern$$[$i$jscomp$299$$].value, $JSCompiler_StaticMethods_formatSelectBlock_$self$jscomp$inline_2322_JSCompiler_StaticMethods_formatSimplePlaceholder_$self$jscomp$inline_2316$$ = $JSCompiler_StaticMethods_formatBlock_$self$$, $namedParameters$jscomp$inline_2324_result$jscomp$inline_2319$$ = $result$jscomp$68$$, $ignorePound$jscomp$inline_2325_value$jscomp$inline_2320$$ = $namedParameters$jscomp$3$$[$parsedPattern$jscomp$inline_2317_pattern$jscomp$12$$];
        $goog$isDef$$($ignorePound$jscomp$inline_2325_value$jscomp$inline_2320$$) ? ($JSCompiler_StaticMethods_formatSelectBlock_$self$jscomp$inline_2322_JSCompiler_StaticMethods_formatSimplePlaceholder_$self$jscomp$inline_2316$$.$b$.push($ignorePound$jscomp$inline_2325_value$jscomp$inline_2320$$), $namedParameters$jscomp$inline_2324_result$jscomp$inline_2319$$.push($JSCompiler_StaticMethods_formatSelectBlock_$self$jscomp$inline_2322_JSCompiler_StaticMethods_formatSimplePlaceholder_$self$jscomp$inline_2316$$.$g$($JSCompiler_StaticMethods_formatSelectBlock_$self$jscomp$inline_2322_JSCompiler_StaticMethods_formatSimplePlaceholder_$self$jscomp$inline_2316$$.$b$))) : 
        $namedParameters$jscomp$inline_2324_result$jscomp$inline_2319$$.push("Undefined parameter - " + $parsedPattern$jscomp$inline_2317_pattern$jscomp$12$$);
        break;
      case 2:
        $parsedPattern$jscomp$inline_2317_pattern$jscomp$12$$ = $parsedPattern$$[$i$jscomp$299$$].value;
        $JSCompiler_StaticMethods_formatSelectBlock_$self$jscomp$inline_2322_JSCompiler_StaticMethods_formatSimplePlaceholder_$self$jscomp$inline_2316$$ = $JSCompiler_StaticMethods_formatBlock_$self$$;
        $namedParameters$jscomp$inline_2324_result$jscomp$inline_2319$$ = $namedParameters$jscomp$3$$;
        $ignorePound$jscomp$inline_2325_value$jscomp$inline_2320$$ = $ignorePound$jscomp$1$$;
        var $result$jscomp$inline_2326$$ = $result$jscomp$68$$, $argumentIndex$jscomp$inline_2327_option$jscomp$inline_2328$$ = $parsedPattern$jscomp$inline_2317_pattern$jscomp$12$$.$argumentIndex$;
        $goog$isDef$$($namedParameters$jscomp$inline_2324_result$jscomp$inline_2319$$[$argumentIndex$jscomp$inline_2327_option$jscomp$inline_2328$$]) ? ($argumentIndex$jscomp$inline_2327_option$jscomp$inline_2328$$ = $parsedPattern$jscomp$inline_2317_pattern$jscomp$12$$[$namedParameters$jscomp$inline_2324_result$jscomp$inline_2319$$[$argumentIndex$jscomp$inline_2327_option$jscomp$inline_2328$$]], $goog$isDef$$($argumentIndex$jscomp$inline_2327_option$jscomp$inline_2328$$) || ($argumentIndex$jscomp$inline_2327_option$jscomp$inline_2328$$ = 
        $parsedPattern$jscomp$inline_2317_pattern$jscomp$12$$.other, $goog$asserts$assertArray$$($argumentIndex$jscomp$inline_2327_option$jscomp$inline_2328$$, "Invalid option or missing other option for select block.")), $JSCompiler_StaticMethods_formatBlock_$$($JSCompiler_StaticMethods_formatSelectBlock_$self$jscomp$inline_2322_JSCompiler_StaticMethods_formatSimplePlaceholder_$self$jscomp$inline_2316$$, $argumentIndex$jscomp$inline_2327_option$jscomp$inline_2328$$, $namedParameters$jscomp$inline_2324_result$jscomp$inline_2319$$, 
        $ignorePound$jscomp$inline_2325_value$jscomp$inline_2320$$, $result$jscomp$inline_2326$$)) : $result$jscomp$inline_2326$$.push("Undefined parameter - " + $argumentIndex$jscomp$inline_2327_option$jscomp$inline_2328$$);
        break;
      case 0:
        $parsedPattern$jscomp$inline_2317_pattern$jscomp$12$$ = $parsedPattern$$[$i$jscomp$299$$].value;
        $JSCompiler_StaticMethods_formatPluralOrdinalBlock_$$($JSCompiler_StaticMethods_formatBlock_$self$$, $parsedPattern$jscomp$inline_2317_pattern$jscomp$12$$, $namedParameters$jscomp$3$$, $goog$i18n$pluralRules$select$$, $ignorePound$jscomp$1$$, $result$jscomp$68$$);
        break;
      case 1:
        $parsedPattern$jscomp$inline_2317_pattern$jscomp$12$$ = $parsedPattern$$[$i$jscomp$299$$].value;
        $JSCompiler_StaticMethods_formatPluralOrdinalBlock_$$($JSCompiler_StaticMethods_formatBlock_$self$$, $parsedPattern$jscomp$inline_2317_pattern$jscomp$12$$, $namedParameters$jscomp$3$$, $goog$i18n$ordinalRules$select$$, $ignorePound$jscomp$1$$, $result$jscomp$68$$);
        break;
      default:
        $goog$asserts$fail$$("Unrecognized block type: " + $parsedPattern$$[$i$jscomp$299$$].type);
    }
  }
}, $JSCompiler_StaticMethods_formatPluralOrdinalBlock_$$ = function($JSCompiler_StaticMethods_formatPluralOrdinalBlock_$self_localeAwareDiff$$, $parsedPattern$jscomp$3_pluralResult$$, $namedParameters$jscomp$6_plural$$, $item$jscomp$12_pluralSelector$$, $ignorePound$jscomp$3$$, $result$jscomp$71$$) {
  var $argumentIndex$jscomp$1_option$jscomp$4$$ = $parsedPattern$jscomp$3_pluralResult$$.$argumentIndex$, $argumentOffset_diff$$ = $parsedPattern$jscomp$3_pluralResult$$.$argumentOffset$, $pluralValue$$ = +$namedParameters$jscomp$6_plural$$[$argumentIndex$jscomp$1_option$jscomp$4$$];
  isNaN($pluralValue$$) ? $result$jscomp$71$$.push("Undefined or invalid parameter - " + $argumentIndex$jscomp$1_option$jscomp$4$$) : ($argumentOffset_diff$$ = $pluralValue$$ - $argumentOffset_diff$$, $argumentIndex$jscomp$1_option$jscomp$4$$ = $parsedPattern$jscomp$3_pluralResult$$[$namedParameters$jscomp$6_plural$$[$argumentIndex$jscomp$1_option$jscomp$4$$]], $goog$isDef$$($argumentIndex$jscomp$1_option$jscomp$4$$) || ($goog$asserts$assert$$(0 <= $argumentOffset_diff$$, "Argument index smaller than offset."), 
  $item$jscomp$12_pluralSelector$$ = $item$jscomp$12_pluralSelector$$($argumentOffset_diff$$), $goog$asserts$assertString$$($item$jscomp$12_pluralSelector$$, "Invalid plural key."), $argumentIndex$jscomp$1_option$jscomp$4$$ = $parsedPattern$jscomp$3_pluralResult$$[$item$jscomp$12_pluralSelector$$], $goog$isDef$$($argumentIndex$jscomp$1_option$jscomp$4$$) || ($argumentIndex$jscomp$1_option$jscomp$4$$ = $parsedPattern$jscomp$3_pluralResult$$.other), $goog$asserts$assertArray$$($argumentIndex$jscomp$1_option$jscomp$4$$, 
  "Invalid option or missing other option for plural block.")), $parsedPattern$jscomp$3_pluralResult$$ = [], $JSCompiler_StaticMethods_formatBlock_$$($JSCompiler_StaticMethods_formatPluralOrdinalBlock_$self_localeAwareDiff$$, $argumentIndex$jscomp$1_option$jscomp$4$$, $namedParameters$jscomp$6_plural$$, $ignorePound$jscomp$3$$, $parsedPattern$jscomp$3_pluralResult$$), $namedParameters$jscomp$6_plural$$ = $parsedPattern$jscomp$3_pluralResult$$.join(""), $goog$asserts$assertString$$($namedParameters$jscomp$6_plural$$, 
  "Empty block in plural."), $ignorePound$jscomp$3$$ ? $result$jscomp$71$$.push($namedParameters$jscomp$6_plural$$) : ($JSCompiler_StaticMethods_formatPluralOrdinalBlock_$self_localeAwareDiff$$ = $JSCompiler_StaticMethods_formatPluralOrdinalBlock_$self_localeAwareDiff$$.$m$.format($argumentOffset_diff$$), $result$jscomp$71$$.push($namedParameters$jscomp$6_plural$$.replace(/#/g, $JSCompiler_StaticMethods_formatPluralOrdinalBlock_$self_localeAwareDiff$$))));
}, $JSCompiler_StaticMethods_insertPlaceholders_$$ = function($JSCompiler_StaticMethods_insertPlaceholders_$self$$, $pattern$jscomp$14$$) {
  var $literals$$ = $JSCompiler_StaticMethods_insertPlaceholders_$self$$.$l$, $buildPlaceholder$$ = $goog$bind$$($JSCompiler_StaticMethods_insertPlaceholders_$self$$.$g$, $JSCompiler_StaticMethods_insertPlaceholders_$self$$);
  $pattern$jscomp$14$$ = $pattern$jscomp$14$$.replace($goog$i18n$MessageFormat$REGEX_DOUBLE_APOSTROPHE_$$, function() {
    $literals$$.push("'");
    return $buildPlaceholder$$($literals$$);
  });
  return $pattern$jscomp$14$$ = $pattern$jscomp$14$$.replace($goog$i18n$MessageFormat$REGEX_LITERAL_$$, function($match$jscomp$15$$, $text$jscomp$21$$) {
    $literals$$.push($text$jscomp$21$$);
    return $buildPlaceholder$$($literals$$);
  });
}, $JSCompiler_StaticMethods_extractParts_$$ = function($pattern$jscomp$15$$) {
  var $prevPos_substring$$ = 0, $braceStack$$ = [], $results$jscomp$1$$ = [], $braces$$ = /[{}]/g;
  $braces$$.lastIndex = 0;
  for (var $brace_match$jscomp$16_part$jscomp$2$$; $brace_match$jscomp$16_part$jscomp$2$$ = $braces$$.exec($pattern$jscomp$15$$);) {
    var $pos$jscomp$10$$ = $brace_match$jscomp$16_part$jscomp$2$$.index;
    "}" == $brace_match$jscomp$16_part$jscomp$2$$[0] ? ($brace_match$jscomp$16_part$jscomp$2$$ = $braceStack$$.pop(), $goog$asserts$assert$$($goog$isDef$$($brace_match$jscomp$16_part$jscomp$2$$) && "{" == $brace_match$jscomp$16_part$jscomp$2$$, "No matching { for }."), 0 == $braceStack$$.length && ($brace_match$jscomp$16_part$jscomp$2$$ = {type:1}, $brace_match$jscomp$16_part$jscomp$2$$.value = $pattern$jscomp$15$$.substring($prevPos_substring$$, $pos$jscomp$10$$), $results$jscomp$1$$.push($brace_match$jscomp$16_part$jscomp$2$$), 
    $prevPos_substring$$ = $pos$jscomp$10$$ + 1)) : (0 == $braceStack$$.length && ($prevPos_substring$$ = $pattern$jscomp$15$$.substring($prevPos_substring$$, $pos$jscomp$10$$), "" != $prevPos_substring$$ && $results$jscomp$1$$.push({type:0, value:$prevPos_substring$$}), $prevPos_substring$$ = $pos$jscomp$10$$ + 1), $braceStack$$.push("{"));
  }
  $goog$asserts$assert$$(0 == $braceStack$$.length, "There are mismatched { or } in the pattern.");
  $prevPos_substring$$ = $pattern$jscomp$15$$.substring($prevPos_substring$$);
  "" != $prevPos_substring$$ && $results$jscomp$1$$.push({type:0, value:$prevPos_substring$$});
  return $results$jscomp$1$$;
}, $goog$i18n$MessageFormat$PLURAL_BLOCK_RE_$$ = /^\s*(\w+)\s*,\s*plural\s*,(?:\s*offset:(\d+))?/, $goog$i18n$MessageFormat$ORDINAL_BLOCK_RE_$$ = /^\s*(\w+)\s*,\s*selectordinal\s*,/, $goog$i18n$MessageFormat$SELECT_BLOCK_RE_$$ = /^\s*(\w+)\s*,\s*select\s*,/, $JSCompiler_StaticMethods_parseBlock_$$ = function($JSCompiler_StaticMethods_parseBlock_$self$$, $parts$jscomp$18_pattern$jscomp$17$$) {
  var $result$jscomp$72$$ = [];
  $parts$jscomp$18_pattern$jscomp$17$$ = $JSCompiler_StaticMethods_extractParts_$$($parts$jscomp$18_pattern$jscomp$17$$);
  for (var $i$jscomp$300$$ = 0; $i$jscomp$300$$ < $parts$jscomp$18_pattern$jscomp$17$$.length; $i$jscomp$300$$++) {
    var $block$jscomp$1$$ = {};
    if (0 == $parts$jscomp$18_pattern$jscomp$17$$[$i$jscomp$300$$].type) {
      $block$jscomp$1$$.type = 4, $block$jscomp$1$$.value = $parts$jscomp$18_pattern$jscomp$17$$[$i$jscomp$300$$].value;
    } else {
      if (1 == $parts$jscomp$18_pattern$jscomp$17$$[$i$jscomp$300$$].type) {
        var $pattern$jscomp$inline_2331$$ = $parts$jscomp$18_pattern$jscomp$17$$[$i$jscomp$300$$].value;
        switch($goog$i18n$MessageFormat$PLURAL_BLOCK_RE_$$.test($pattern$jscomp$inline_2331$$) ? 0 : $goog$i18n$MessageFormat$ORDINAL_BLOCK_RE_$$.test($pattern$jscomp$inline_2331$$) ? 1 : $goog$i18n$MessageFormat$SELECT_BLOCK_RE_$$.test($pattern$jscomp$inline_2331$$) ? 2 : /^\s*\w+\s*/.test($pattern$jscomp$inline_2331$$) ? 3 : 5) {
          case 2:
            $block$jscomp$1$$.type = 2;
            $block$jscomp$1$$.value = $JSCompiler_StaticMethods_parseSelectBlock_$$($JSCompiler_StaticMethods_parseBlock_$self$$, $parts$jscomp$18_pattern$jscomp$17$$[$i$jscomp$300$$].value);
            break;
          case 0:
            $block$jscomp$1$$.type = 0;
            $block$jscomp$1$$.value = $JSCompiler_StaticMethods_parsePluralBlock_$$($JSCompiler_StaticMethods_parseBlock_$self$$, $parts$jscomp$18_pattern$jscomp$17$$[$i$jscomp$300$$].value);
            break;
          case 1:
            $block$jscomp$1$$.type = 1;
            $block$jscomp$1$$.value = $JSCompiler_StaticMethods_parseOrdinalBlock_$$($JSCompiler_StaticMethods_parseBlock_$self$$, $parts$jscomp$18_pattern$jscomp$17$$[$i$jscomp$300$$].value);
            break;
          case 3:
            $block$jscomp$1$$.type = 3;
            $block$jscomp$1$$.value = $parts$jscomp$18_pattern$jscomp$17$$[$i$jscomp$300$$].value;
            break;
          default:
            $goog$asserts$fail$$("Unknown block type for pattern: " + $parts$jscomp$18_pattern$jscomp$17$$[$i$jscomp$300$$].value);
        }
      } else {
        $goog$asserts$fail$$("Unknown part of the pattern.");
      }
    }
    $result$jscomp$72$$.push($block$jscomp$1$$);
  }
  return $result$jscomp$72$$;
}, $JSCompiler_StaticMethods_parseSelectBlock_$$ = function($JSCompiler_StaticMethods_parseSelectBlock_$self$$, $parts$jscomp$19_pattern$jscomp$18$$) {
  var $argumentIndex$jscomp$2$$ = "";
  $parts$jscomp$19_pattern$jscomp$18$$ = $parts$jscomp$19_pattern$jscomp$18$$.replace($goog$i18n$MessageFormat$SELECT_BLOCK_RE_$$, function($string$jscomp$6$$, $name$jscomp$173$$) {
    $argumentIndex$jscomp$2$$ = $name$jscomp$173$$;
    return "";
  });
  var $result$jscomp$73$$ = {};
  $result$jscomp$73$$.$argumentIndex$ = $argumentIndex$jscomp$2$$;
  $parts$jscomp$19_pattern$jscomp$18$$ = $JSCompiler_StaticMethods_extractParts_$$($parts$jscomp$19_pattern$jscomp$18$$);
  for (var $pos$jscomp$11$$ = 0; $pos$jscomp$11$$ < $parts$jscomp$19_pattern$jscomp$18$$.length;) {
    var $key$jscomp$167$$ = $parts$jscomp$19_pattern$jscomp$18$$[$pos$jscomp$11$$].value;
    $goog$asserts$assertString$$($key$jscomp$167$$, "Missing select key element.");
    $pos$jscomp$11$$++;
    $goog$asserts$assert$$($pos$jscomp$11$$ < $parts$jscomp$19_pattern$jscomp$18$$.length, "Missing or invalid select value element.");
    var $value$jscomp$399$$;
    1 == $parts$jscomp$19_pattern$jscomp$18$$[$pos$jscomp$11$$].type ? $value$jscomp$399$$ = $JSCompiler_StaticMethods_parseBlock_$$($JSCompiler_StaticMethods_parseSelectBlock_$self$$, $parts$jscomp$19_pattern$jscomp$18$$[$pos$jscomp$11$$].value) : $goog$asserts$fail$$("Expected block type.");
    $result$jscomp$73$$[$key$jscomp$167$$.replace(/\s/g, "")] = $value$jscomp$399$$;
    $pos$jscomp$11$$++;
  }
  $goog$asserts$assertArray$$($result$jscomp$73$$.other, "Missing other key in select statement.");
  return $result$jscomp$73$$;
}, $JSCompiler_StaticMethods_parsePluralBlock_$$ = function($JSCompiler_StaticMethods_parsePluralBlock_$self$$, $parts$jscomp$20_pattern$jscomp$19$$) {
  var $argumentIndex$jscomp$3$$ = "", $argumentOffset$jscomp$1$$ = 0;
  $parts$jscomp$20_pattern$jscomp$19$$ = $parts$jscomp$20_pattern$jscomp$19$$.replace($goog$i18n$MessageFormat$PLURAL_BLOCK_RE_$$, function($string$jscomp$7$$, $name$jscomp$174$$, $offset$jscomp$25$$) {
    $argumentIndex$jscomp$3$$ = $name$jscomp$174$$;
    $offset$jscomp$25$$ && ($argumentOffset$jscomp$1$$ = parseInt($offset$jscomp$25$$, 10));
    return "";
  });
  var $result$jscomp$74$$ = {};
  $result$jscomp$74$$.$argumentIndex$ = $argumentIndex$jscomp$3$$;
  $result$jscomp$74$$.$argumentOffset$ = $argumentOffset$jscomp$1$$;
  $parts$jscomp$20_pattern$jscomp$19$$ = $JSCompiler_StaticMethods_extractParts_$$($parts$jscomp$20_pattern$jscomp$19$$);
  for (var $pos$jscomp$12$$ = 0; $pos$jscomp$12$$ < $parts$jscomp$20_pattern$jscomp$19$$.length;) {
    var $key$jscomp$168$$ = $parts$jscomp$20_pattern$jscomp$19$$[$pos$jscomp$12$$].value;
    $goog$asserts$assertString$$($key$jscomp$168$$, "Missing plural key element.");
    $pos$jscomp$12$$++;
    $goog$asserts$assert$$($pos$jscomp$12$$ < $parts$jscomp$20_pattern$jscomp$19$$.length, "Missing or invalid plural value element.");
    var $value$jscomp$400$$;
    1 == $parts$jscomp$20_pattern$jscomp$19$$[$pos$jscomp$12$$].type ? $value$jscomp$400$$ = $JSCompiler_StaticMethods_parseBlock_$$($JSCompiler_StaticMethods_parsePluralBlock_$self$$, $parts$jscomp$20_pattern$jscomp$19$$[$pos$jscomp$12$$].value) : $goog$asserts$fail$$("Expected block type.");
    $result$jscomp$74$$[$key$jscomp$168$$.replace(/\s*(?:=)?(\w+)\s*/, "$1")] = $value$jscomp$400$$;
    $pos$jscomp$12$$++;
  }
  $goog$asserts$assertArray$$($result$jscomp$74$$.other, "Missing other key in plural statement.");
  return $result$jscomp$74$$;
}, $JSCompiler_StaticMethods_parseOrdinalBlock_$$ = function($JSCompiler_StaticMethods_parseOrdinalBlock_$self$$, $parts$jscomp$21_pattern$jscomp$20$$) {
  var $argumentIndex$jscomp$4$$ = "";
  $parts$jscomp$21_pattern$jscomp$20$$ = $parts$jscomp$21_pattern$jscomp$20$$.replace($goog$i18n$MessageFormat$ORDINAL_BLOCK_RE_$$, function($string$jscomp$8$$, $name$jscomp$175$$) {
    $argumentIndex$jscomp$4$$ = $name$jscomp$175$$;
    return "";
  });
  var $result$jscomp$75$$ = {};
  $result$jscomp$75$$.$argumentIndex$ = $argumentIndex$jscomp$4$$;
  $result$jscomp$75$$.$argumentOffset$ = 0;
  $parts$jscomp$21_pattern$jscomp$20$$ = $JSCompiler_StaticMethods_extractParts_$$($parts$jscomp$21_pattern$jscomp$20$$);
  for (var $pos$jscomp$13$$ = 0; $pos$jscomp$13$$ < $parts$jscomp$21_pattern$jscomp$20$$.length;) {
    var $key$jscomp$169$$ = $parts$jscomp$21_pattern$jscomp$20$$[$pos$jscomp$13$$].value;
    $goog$asserts$assertString$$($key$jscomp$169$$, "Missing ordinal key element.");
    $pos$jscomp$13$$++;
    $goog$asserts$assert$$($pos$jscomp$13$$ < $parts$jscomp$21_pattern$jscomp$20$$.length, "Missing or invalid ordinal value element.");
    if (1 == $parts$jscomp$21_pattern$jscomp$20$$[$pos$jscomp$13$$].type) {
      var $value$jscomp$401$$ = $JSCompiler_StaticMethods_parseBlock_$$($JSCompiler_StaticMethods_parseOrdinalBlock_$self$$, $parts$jscomp$21_pattern$jscomp$20$$[$pos$jscomp$13$$].value);
    } else {
      $goog$asserts$fail$$("Expected block type.");
    }
    $result$jscomp$75$$[$key$jscomp$169$$.replace(/\s*(?:=)?(\w+)\s*/, "$1")] = $value$jscomp$401$$;
    $pos$jscomp$13$$++;
  }
  $goog$asserts$assertArray$$($result$jscomp$75$$.other, "Missing other key in selectordinal statement.");
  return $result$jscomp$75$$;
};
$goog$i18n$MessageFormat$$.prototype.$g$ = function($literals$jscomp$1$$) {
  $goog$asserts$assert$$(0 < $literals$jscomp$1$$.length, "Literal array is empty.");
  return "\ufddf_" + ($literals$jscomp$1$$.length - 1).toString(10) + "_";
};
var $mr$cloud$Messages$MSG_MR_CONNECT_FAILED$$ = chrome.i18n.getMessage("1522140683318860351"), $mr$cloud$Messages$MSG_KNOCK_DENIED$$ = chrome.i18n.getMessage("4246483347873264186"), $mr$cloud$Messages$MSG_KNOCK_TIMEOUT$$ = chrome.i18n.getMessage("5991427458288444010"), $mr$cloud$Messages$MSG_MR_HANGOUT_PRIVACY$$ = chrome.i18n.getMessage("6063910461797960050"), $mr$cloud$Messages$MSG_MR_HANGOUT_INACTIVE$$ = chrome.i18n.getMessage("7735695102441495789"), $mr$cloud$Messages$MSG_MR_HANGOUT_INVALID$$ = 
chrome.i18n.getMessage("4575332923598659024"), $mr$cloud$Messages$MSG_MR_HANGOUT_TITLE_$$ = chrome.i18n.getMessage("2297080986956220930"), $mr$cloud$Messages$MR_HANGOUT_TITLE_FMT_$$ = new $goog$i18n$MessageFormat$$, $mr$cloud$Messages$generateHangoutTitleWithParticipants$$ = function($organizer$$, $numParticipants$$) {
  return $mr$cloud$Messages$MR_HANGOUT_TITLE_FMT_$$.format({ORGANIZER:$organizer$$, PARTICIPANTS:$numParticipants$$});
};
var $mr$cloud$mesi$MesiService$$ = function($gapiService$jscomp$2$$) {
  this.$b$ = $gapiService$jscomp$2$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.mesi.MesiService");
}, $JSCompiler_StaticMethods_findActiveHangouts$$ = function($JSCompiler_StaticMethods_findActiveHangouts$self$$) {
  var $configUrl_path$jscomp$41$$ = $mr$cloud$MESI_CONFIG$$.$b$;
  $configUrl_path$jscomp$41$$ = $configUrl_path$jscomp$41$$.replace("v1", "v1_today");
  $configUrl_path$jscomp$41$$ = $JSCompiler_StaticMethods_formUri$$($configUrl_path$jscomp$41$$, ["hangouts", "search"]);
  $JSCompiler_StaticMethods_findActiveHangouts$self$$.$logger_$.info("Retrieving Hangouts from MESI: " + $configUrl_path$jscomp$41$$);
  return $JSCompiler_StaticMethods_callWithAuth$$($JSCompiler_StaticMethods_findActiveHangouts$self$$.$b$, $configUrl_path$jscomp$41$$, "POST", $mr$cloud$mesi$MesiService$SEARCH_REQUEST_$$).then(function($resp$jscomp$1$$) {
    var $results$jscomp$2$$ = [];
    $resp$jscomp$1$$.result && ($results$jscomp$2$$ = $resp$jscomp$1$$.result.map(function($hangoutResult_participantList$$) {
      var $hangout$jscomp$8$$ = $hangoutResult_participantList$$.hangout, $hangoutName$jscomp$1$$ = $hangout$jscomp$8$$.meeting_room_name, $domain$jscomp$12$$;
      $hangout$jscomp$8$$.meeting_domain ? $domain$jscomp$12$$ = $hangout$jscomp$8$$.meeting_domain : "BUSINESS" == $hangout$jscomp$8$$.type && $hangout$jscomp$8$$.company_title && ($domain$jscomp$12$$ = $hangout$jscomp$8$$.company_title.toLowerCase());
      var $hangoutTitle_partSet$$ = $mr$cloud$Messages$generateHangoutTitleWithParticipants$$("", 0);
      if (($hangoutResult_participantList$$ = $hangoutResult_participantList$$.participant) && 0 < $hangoutResult_participantList$$.length) {
        var $organizer$jscomp$1$$ = $hangoutResult_participantList$$[0].display_name;
        $hangoutTitle_partSet$$ = $hangoutResult_participantList$$.reduce(function($result$jscomp$76$$, $participant$$) {
          $result$jscomp$76$$.add($participant$$.user_id);
          "ORGANIZER" == $participant$$.role && ($organizer$jscomp$1$$ = $participant$$.display_name);
          return $result$jscomp$76$$;
        }, new Set);
        $hangoutTitle_partSet$$ = $mr$cloud$Messages$generateHangoutTitleWithParticipants$$($goog$asserts$assert$$($organizer$jscomp$1$$), $hangoutTitle_partSet$$.size);
      }
      return $hangoutName$jscomp$1$$ && $domain$jscomp$12$$ ? $mr$cloud$mesi$HangoutInfo$fromKeyAndService$$(!1, $hangoutName$jscomp$1$$, $domain$jscomp$12$$, $domain$jscomp$12$$, $hangoutName$jscomp$1$$, $hangoutTitle_partSet$$, $hangout$jscomp$8$$.hangout_id) : new $mr$cloud$mesi$HangoutInfo$$(!1, $goog$asserts$assert$$($hangout$jscomp$8$$.hangout_id), $domain$jscomp$12$$, $hangoutName$jscomp$1$$, $hangoutTitle_partSet$$, $hangout$jscomp$8$$.hangout_id);
    }));
    return $results$jscomp$2$$;
  });
}, $mr$cloud$mesi$MesiService$SEARCH_REQUEST_$$ = {request_header:{client_version:{client_id:"39"}}, search_sources:["0"]};
var $mr$cloud$messaging$HangoutMessageHandler$$ = function($identityService$jscomp$5$$, $provider$jscomp$18$$) {
  this.$f$ = $identityService$jscomp$5$$;
  this.$b$ = $provider$jscomp$18$$;
}, $JSCompiler_StaticMethods_handleMesiMessage$$ = function($JSCompiler_StaticMethods_handleMesiMessage$self$$, $message$jscomp$130$$, $route$jscomp$57$$, $cloudSink$jscomp$6$$) {
  switch($message$jscomp$130$$.type) {
    case "REFRESH_AUTH":
      var $isMeeting$jscomp$2$$ = $cloudSink$jscomp$6$$.$isMeeting$, $hangoutId$jscomp$1$$ = $cloudSink$jscomp$6$$.deviceId, $resolvedId$jscomp$1$$ = $cloudSink$jscomp$6$$.$resolvedId$;
      return $JSCompiler_StaticMethods_refreshGapiToken$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$f$).then(function() {
        $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$b$, new $mr$webrtc$Message$$("AUTH_READY", {$isMeeting$:$isMeeting$jscomp$2$$, $hangoutId$:$hangoutId$jscomp$1$$, $resolvedId$:$resolvedId$jscomp$1$$}), $route$jscomp$57$$.id);
      });
    case "STATUS_REQUEST":
      return $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$b$, $message$jscomp$130$$, $route$jscomp$57$$.id), Promise.resolve();
    case "STATUS_RESPONSE":
      return $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$b$, $message$jscomp$130$$, $route$jscomp$57$$.id, !0), $message$jscomp$130$$.data.routeDescription || $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$b$, $message$jscomp$130$$, $route$jscomp$57$$.id), Promise.resolve();
    case "HANGOUT_INACTIVE":
      return $JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$b$, $route$jscomp$57$$, 4, $JSCompiler_StaticMethods_mr_Issue_prototype$setSinkId$$(new $mr$Issue$$($mr$cloud$Messages$MSG_MR_HANGOUT_INACTIVE$$, "warning"), $route$jscomp$57$$.sinkId));
    case "HANGOUT_INVALID":
      return $JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$b$, $route$jscomp$57$$, 3, $JSCompiler_StaticMethods_mr_Issue_prototype$setSinkId$$(new $mr$Issue$$($mr$cloud$Messages$MSG_MR_HANGOUT_INVALID$$, "warning"), $route$jscomp$57$$.sinkId));
    default:
      return Promise.reject(Error("Unknown type: " + $message$jscomp$130$$.type));
  }
};
var $module$contents$mr$cloud$slarti$CommandsService_VALID_COMMAND_FIELDS$$ = new Map([["status", "status"], ["results", "result"], ["expirationTime", "expiration_time"]]), $module$exports$mr$cloud$slarti$CommandsService$$ = function($identityService$jscomp$6$$, $fetcher$jscomp$2$$) {
  $module$exports$mr$cloud$slarti$Api$$.call(this, $identityService$jscomp$6$$, $fetcher$jscomp$2$$);
  this.$logger_$ = $goog$debug$LogManager$getLogger$$("mr.cloud.slarti.CommandsService");
};
$$jscomp$inherits$$($module$exports$mr$cloud$slarti$CommandsService$$, $module$exports$mr$cloud$slarti$Api$$);
$module$exports$mr$cloud$slarti$CommandsService$$.prototype.get = function($commandId$jscomp$2_request$jscomp$56$$) {
  $commandId$jscomp$2_request$jscomp$56$$ = new $module$exports$mr$cloud$slarti$FetchRequest$$({method:"GET", baseUrl:this.$b$, $pathParts$:["commands", $commandId$jscomp$2_request$jscomp$56$$], $identityService$:this.$identityService$});
  return this.$f$.execute($commandId$jscomp$2_request$jscomp$56$$).then(function($response$jscomp$22$$) {
    return $response$jscomp$22$$;
  });
};
$module$exports$mr$cloud$slarti$CommandsService$$.prototype.list = function($deviceId$jscomp$9_request$jscomp$57$$) {
  $deviceId$jscomp$9_request$jscomp$57$$ = new $module$exports$mr$cloud$slarti$FetchRequest$$({method:"GET", baseUrl:this.$b$, $pathParts$:["commands"], $queryParams$:{deviceId:$deviceId$jscomp$9_request$jscomp$57$$}, $identityService$:this.$identityService$});
  return this.$f$.execute($deviceId$jscomp$9_request$jscomp$57$$).then(function($response$jscomp$23$$) {
    return $response$jscomp$23$$.command || [];
  });
};
$module$exports$mr$cloud$slarti$CommandsService$$.prototype.send = function($deviceId$jscomp$10_request$jscomp$58$$, $command$jscomp$2$$) {
  var $$jscomp$this$jscomp$107$$ = this;
  $deviceId$jscomp$10_request$jscomp$58$$ = new $module$exports$mr$cloud$slarti$FetchRequest$$({method:"POST", baseUrl:this.$b$, $pathParts$:["commands:send"], $identityService$:this.$identityService$, body:{command:$command$jscomp$2$$, deviceId:$deviceId$jscomp$10_request$jscomp$58$$}});
  return this.$f$.execute($deviceId$jscomp$10_request$jscomp$58$$).then(function($response$jscomp$24$$) {
    $$jscomp$this$jscomp$107$$.$logger_$.info("Sent Slarti command with ID " + $response$jscomp$24$$.id);
    return $response$jscomp$24$$;
  });
};
$module$exports$mr$cloud$slarti$CommandsService$$.prototype.update = function($commandId$jscomp$3_request$jscomp$59$$, $changes$jscomp$1$$) {
  for (var $updateMask$$ = [], $command$jscomp$3$$ = {}, $$jscomp$iter$244$$ = $$jscomp$makeIterator$$($module$contents$mr$cloud$slarti$CommandsService_VALID_COMMAND_FIELDS$$.keys()), $$jscomp$key$field_field$jscomp$114$$ = $$jscomp$iter$244$$.next(); !$$jscomp$key$field_field$jscomp$114$$.done; $$jscomp$key$field_field$jscomp$114$$ = $$jscomp$iter$244$$.next()) {
    $$jscomp$key$field_field$jscomp$114$$ = $$jscomp$key$field_field$jscomp$114$$.value, $changes$jscomp$1$$[$$jscomp$key$field_field$jscomp$114$$] && ($command$jscomp$3$$[$$jscomp$key$field_field$jscomp$114$$] = $changes$jscomp$1$$[$$jscomp$key$field_field$jscomp$114$$], $updateMask$$.push($module$contents$mr$cloud$slarti$CommandsService_VALID_COMMAND_FIELDS$$.get($$jscomp$key$field_field$jscomp$114$$)));
  }
  $goog$asserts$assert$$($updateMask$$.length, "No valid changes: " + $commandId$jscomp$3_request$jscomp$59$$ + ", " + JSON.stringify($changes$jscomp$1$$, null, 2));
  $command$jscomp$3$$.id = $commandId$jscomp$3_request$jscomp$59$$;
  $commandId$jscomp$3_request$jscomp$59$$ = new $module$exports$mr$cloud$slarti$FetchRequest$$({method:"PUT", baseUrl:this.$b$, $pathParts$:["commands", $commandId$jscomp$3_request$jscomp$59$$], $identityService$:this.$identityService$, body:{command:$command$jscomp$3$$, updateMask:$updateMask$$}});
  return this.$f$.execute($commandId$jscomp$3_request$jscomp$59$$).then(function($response$jscomp$25$$) {
    return $response$jscomp$25$$;
  });
};
var $goog$json$hybrid$parse$$ = $goog$global$$.JSON.parse;
var $goog$net$XmlHttpFactory$$ = function() {
};
$goog$net$XmlHttpFactory$$.prototype.$b$ = null;
$goog$net$XmlHttpFactory$$.prototype.getOptions = function() {
  var $JSCompiler_temp$jscomp$543_options$jscomp$inline_2334$$;
  ($JSCompiler_temp$jscomp$543_options$jscomp$inline_2334$$ = this.$b$) || ($JSCompiler_temp$jscomp$543_options$jscomp$inline_2334$$ = {}, $JSCompiler_StaticMethods_getProgId_$$(this) && ($JSCompiler_temp$jscomp$543_options$jscomp$inline_2334$$[0] = !0, $JSCompiler_temp$jscomp$543_options$jscomp$inline_2334$$[1] = !0), $JSCompiler_temp$jscomp$543_options$jscomp$inline_2334$$ = this.$b$ = $JSCompiler_temp$jscomp$543_options$jscomp$inline_2334$$);
  return $JSCompiler_temp$jscomp$543_options$jscomp$inline_2334$$;
};
var $goog$net$XmlHttp$factory_$$, $goog$net$DefaultXmlHttpFactory$$ = function() {
};
$goog$inherits$$($goog$net$DefaultXmlHttpFactory$$, $goog$net$XmlHttpFactory$$);
var $JSCompiler_StaticMethods_createInstance$$ = function($JSCompiler_StaticMethods_createInstance$self_progId$jscomp$1$$) {
  return ($JSCompiler_StaticMethods_createInstance$self_progId$jscomp$1$$ = $JSCompiler_StaticMethods_getProgId_$$($JSCompiler_StaticMethods_createInstance$self_progId$jscomp$1$$)) ? new ActiveXObject($JSCompiler_StaticMethods_createInstance$self_progId$jscomp$1$$) : new XMLHttpRequest;
}, $JSCompiler_StaticMethods_getProgId_$$ = function($JSCompiler_StaticMethods_getProgId_$self$$) {
  if (!$JSCompiler_StaticMethods_getProgId_$self$$.$f$ && "undefined" == typeof XMLHttpRequest && "undefined" != typeof ActiveXObject) {
    for (var $ACTIVE_X_IDENTS$$ = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], $i$jscomp$301$$ = 0; $i$jscomp$301$$ < $ACTIVE_X_IDENTS$$.length; $i$jscomp$301$$++) {
      var $candidate$jscomp$1$$ = $ACTIVE_X_IDENTS$$[$i$jscomp$301$$];
      try {
        return new ActiveXObject($candidate$jscomp$1$$), $JSCompiler_StaticMethods_getProgId_$self$$.$f$ = $candidate$jscomp$1$$;
      } catch ($e$jscomp$85$$) {
      }
    }
    throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");
  }
  return $JSCompiler_StaticMethods_getProgId_$self$$.$f$;
};
$goog$net$XmlHttp$factory_$$ = new $goog$net$DefaultXmlHttpFactory$$;
var $goog$net$XhrIo$$ = function($opt_xmlHttpFactory$$) {
  $goog$events$EventTarget$$.call(this);
  this.headers = new $goog$structs$Map$$;
  this.$T$ = $opt_xmlHttpFactory$$ || null;
  this.$g$ = !1;
  this.$R$ = this.$f$ = null;
  this.$Z$ = this.$M$ = "";
  this.$s$ = 0;
  this.$h$ = "";
  this.$m$ = this.$Y$ = this.$L$ = this.$W$ = !1;
  this.$o$ = 0;
  this.$J$ = null;
  this.$C$ = "";
  this.$O$ = this.$K$ = !1;
};
$goog$inherits$$($goog$net$XhrIo$$, $goog$events$EventTarget$$);
$goog$net$XhrIo$$.prototype.$logger_$ = $goog$debug$LogManager$getLogger$$("goog.net.XhrIo");
var $goog$net$XhrIo$HTTP_SCHEME_PATTERN$$ = /^https?$/i, $goog$net$XhrIo$METHODS_WITH_FORM_DATA$$ = ["POST", "PUT"], $goog$net$XhrIo$sendInstances_$$ = [], $goog$net$XhrIo$send$$ = function($url$jscomp$125$$, $opt_callback$jscomp$166$$, $opt_method$$, $opt_content$jscomp$8$$, $opt_headers$jscomp$14$$, $opt_timeoutInterval$$, $opt_withCredentials$$) {
  var $x$jscomp$104$$ = new $goog$net$XhrIo$$;
  $goog$net$XhrIo$sendInstances_$$.push($x$jscomp$104$$);
  $opt_callback$jscomp$166$$ && $x$jscomp$104$$.listen("complete", $opt_callback$jscomp$166$$);
  $JSCompiler_StaticMethods_goog_events_EventTarget_prototype$listenOnce$$($x$jscomp$104$$, "ready", $x$jscomp$104$$.$ea$);
  $opt_timeoutInterval$$ && ($x$jscomp$104$$.$o$ = Math.max(0, $opt_timeoutInterval$$));
  $opt_withCredentials$$ && ($x$jscomp$104$$.$K$ = $opt_withCredentials$$);
  $x$jscomp$104$$.send($url$jscomp$125$$, $opt_method$$, $opt_content$jscomp$8$$, $opt_headers$jscomp$14$$);
  return $x$jscomp$104$$;
};
$goog$net$XhrIo$$.prototype.$ea$ = function() {
  this.$dispose$();
  $goog$array$remove$$($goog$net$XhrIo$sendInstances_$$, this);
};
$goog$net$XhrIo$$.prototype.send = function($content$jscomp$15_url$jscomp$126$$, $method$jscomp$21_opt_method$jscomp$1$$, $contentIsFormData_opt_content$jscomp$9$$, $contentTypeKey_opt_headers$jscomp$15$$) {
  if (this.$f$) {
    throw Error("[goog.net.XhrIo] Object is active with another request=" + this.$M$ + "; newUri=" + $content$jscomp$15_url$jscomp$126$$);
  }
  $method$jscomp$21_opt_method$jscomp$1$$ = $method$jscomp$21_opt_method$jscomp$1$$ ? $method$jscomp$21_opt_method$jscomp$1$$.toUpperCase() : "GET";
  this.$M$ = $content$jscomp$15_url$jscomp$126$$;
  this.$h$ = "";
  this.$s$ = 0;
  this.$Z$ = $method$jscomp$21_opt_method$jscomp$1$$;
  this.$W$ = !1;
  this.$g$ = !0;
  this.$f$ = this.$T$ ? $JSCompiler_StaticMethods_createInstance$$(this.$T$) : $JSCompiler_StaticMethods_createInstance$$($goog$net$XmlHttp$factory_$$);
  this.$R$ = this.$T$ ? this.$T$.getOptions() : $goog$net$XmlHttp$factory_$$.getOptions();
  this.$f$.onreadystatechange = $goog$bind$$(this.$ca$, this);
  try {
    $goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, "Opening Xhr")), this.$Y$ = !0, this.$f$.open($method$jscomp$21_opt_method$jscomp$1$$, String($content$jscomp$15_url$jscomp$126$$), !0), this.$Y$ = !1;
  } catch ($err$jscomp$43$$) {
    $goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, "Error opening Xhr: " + $err$jscomp$43$$.message));
    $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$$(this, $err$jscomp$43$$);
    return;
  }
  $content$jscomp$15_url$jscomp$126$$ = $contentIsFormData_opt_content$jscomp$9$$ || "";
  var $headers$jscomp$2$$ = this.headers.clone();
  $contentTypeKey_opt_headers$jscomp$15$$ && $goog$structs$forEach$$($contentTypeKey_opt_headers$jscomp$15$$, function($value$jscomp$403$$, $key$jscomp$170$$) {
    $headers$jscomp$2$$.set($key$jscomp$170$$, $value$jscomp$403$$);
  });
  $contentTypeKey_opt_headers$jscomp$15$$ = $goog$array$find$$($headers$jscomp$2$$.$getKeys$(), $goog$net$XhrIo$isContentTypeHeader_$$);
  $contentIsFormData_opt_content$jscomp$9$$ = $goog$global$$.FormData && $content$jscomp$15_url$jscomp$126$$ instanceof $goog$global$$.FormData;
  !$goog$array$contains$$($goog$net$XhrIo$METHODS_WITH_FORM_DATA$$, $method$jscomp$21_opt_method$jscomp$1$$) || $contentTypeKey_opt_headers$jscomp$15$$ || $contentIsFormData_opt_content$jscomp$9$$ || $headers$jscomp$2$$.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
  $headers$jscomp$2$$.forEach(function($value$jscomp$404$$, $key$jscomp$171$$) {
    this.$f$.setRequestHeader($key$jscomp$171$$, $value$jscomp$404$$);
  }, this);
  this.$C$ && (this.$f$.responseType = this.$C$);
  "withCredentials" in this.$f$ && this.$f$.withCredentials !== this.$K$ && (this.$f$.withCredentials = this.$K$);
  try {
    $JSCompiler_StaticMethods_cleanUpTimeoutTimer_$$(this), 0 < this.$o$ && (this.$O$ = $goog$net$XhrIo$shouldUseXhr2Timeout_$$(this.$f$), $goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, "Will abort after " + this.$o$ + "ms if incomplete, xhr2 " + this.$O$)), this.$O$ ? (this.$f$.timeout = this.$o$, this.$f$.ontimeout = $goog$bind$$(this.$da$, this)) : this.$J$ = $goog$Timer$callOnce$$(this.$da$, this.$o$, this)), $goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, 
    "Sending request")), this.$L$ = !0, this.$f$.send($content$jscomp$15_url$jscomp$126$$), this.$L$ = !1;
  } catch ($err$327$$) {
    $goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, "Send error: " + $err$327$$.message)), $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$$(this, $err$327$$);
  }
};
var $goog$net$XhrIo$shouldUseXhr2Timeout_$$ = function($xhr$jscomp$9$$) {
  return $goog$userAgent$IE$$ && $goog$userAgent$isVersionOrHigher$$(9) && $goog$isNumber$$($xhr$jscomp$9$$.timeout) && $goog$isDef$$($xhr$jscomp$9$$.ontimeout);
}, $goog$net$XhrIo$isContentTypeHeader_$$ = function($header$jscomp$6$$) {
  return $goog$string$internal$caseInsensitiveEquals$$("Content-Type", $header$jscomp$6$$);
};
$goog$net$XhrIo$$.prototype.$da$ = function() {
  "undefined" != typeof $goog$$ && this.$f$ && (this.$h$ = "Timed out after " + this.$o$ + "ms, aborting", this.$s$ = 8, $goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, this.$h$)), this.$goog_events_EventTarget_prototype$dispatchEvent$("timeout"), this.abort(8));
};
var $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$$ = function($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$, $err$jscomp$44$$) {
  $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$g$ = !1;
  $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$f$ && ($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$m$ = !0, $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$f$.abort(), $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$m$ = !1);
  $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$h$ = $err$jscomp$44$$;
  $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$s$ = 5;
  $JSCompiler_StaticMethods_dispatchErrors_$$($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$);
  $JSCompiler_StaticMethods_cleanUpXhr_$$($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$);
}, $JSCompiler_StaticMethods_dispatchErrors_$$ = function($JSCompiler_StaticMethods_dispatchErrors_$self$$) {
  $JSCompiler_StaticMethods_dispatchErrors_$self$$.$W$ || ($JSCompiler_StaticMethods_dispatchErrors_$self$$.$W$ = !0, $JSCompiler_StaticMethods_dispatchErrors_$self$$.$goog_events_EventTarget_prototype$dispatchEvent$("complete"), $JSCompiler_StaticMethods_dispatchErrors_$self$$.$goog_events_EventTarget_prototype$dispatchEvent$("error"));
};
$goog$net$XhrIo$$.prototype.abort = function($opt_failureCode$$) {
  this.$f$ && this.$g$ && ($goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, "Aborting")), this.$g$ = !1, this.$m$ = !0, this.$f$.abort(), this.$m$ = !1, this.$s$ = $opt_failureCode$$ || 7, this.$goog_events_EventTarget_prototype$dispatchEvent$("complete"), this.$goog_events_EventTarget_prototype$dispatchEvent$("abort"), $JSCompiler_StaticMethods_cleanUpXhr_$$(this));
};
$goog$net$XhrIo$$.prototype.$goog_Disposable_prototype$disposeInternal$ = function() {
  this.$f$ && (this.$g$ && (this.$g$ = !1, this.$m$ = !0, this.$f$.abort(), this.$m$ = !1), $JSCompiler_StaticMethods_cleanUpXhr_$$(this, !0));
  $goog$net$XhrIo$$.$superClass_$.$goog_Disposable_prototype$disposeInternal$.call(this);
};
$goog$net$XhrIo$$.prototype.$ca$ = function() {
  this.$l$() || (this.$Y$ || this.$L$ || this.$m$ ? $JSCompiler_StaticMethods_onReadyStateChangeHelper_$$(this) : this.$fa$());
};
$goog$net$XhrIo$$.prototype.$fa$ = function() {
  $JSCompiler_StaticMethods_onReadyStateChangeHelper_$$(this);
};
var $JSCompiler_StaticMethods_onReadyStateChangeHelper_$$ = function($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$) {
  if ($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$g$ && "undefined" != typeof $goog$$) {
    if ($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$R$[1] && 4 == $JSCompiler_StaticMethods_getReadyState$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$) && 2 == $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$getStatus$()) {
      $goog$log$fine$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$, "Local request error detected and ignored"));
    } else {
      if ($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$L$ && 4 == $JSCompiler_StaticMethods_getReadyState$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$)) {
        $goog$Timer$callOnce$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$ca$, 0, $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$);
      } else {
        if ($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$goog_events_EventTarget_prototype$dispatchEvent$("readystatechange"), 4 == $JSCompiler_StaticMethods_getReadyState$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$)) {
          $goog$log$fine$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$, "Request complete"));
          $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$g$ = !1;
          try {
            if ($JSCompiler_StaticMethods_isSuccess$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$)) {
              $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$goog_events_EventTarget_prototype$dispatchEvent$("complete"), $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$goog_events_EventTarget_prototype$dispatchEvent$("success");
            } else {
              $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$s$ = 6;
              try {
                var $JSCompiler_inline_result$jscomp$552$$ = 2 < $JSCompiler_StaticMethods_getReadyState$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$) ? $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$f$.statusText : "";
              } catch ($e$jscomp$inline_2345$$) {
                $goog$log$fine$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$logger_$, "Can not get status: " + $e$jscomp$inline_2345$$.message), $JSCompiler_inline_result$jscomp$552$$ = "";
              }
              $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$h$ = $JSCompiler_inline_result$jscomp$552$$ + " [" + $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$getStatus$() + "]";
              $JSCompiler_StaticMethods_dispatchErrors_$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$);
            }
          } finally {
            $JSCompiler_StaticMethods_cleanUpXhr_$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$);
          }
        }
      }
    }
  }
}, $JSCompiler_StaticMethods_cleanUpXhr_$$ = function($JSCompiler_StaticMethods_cleanUpXhr_$self$$, $opt_fromDispose$$) {
  if ($JSCompiler_StaticMethods_cleanUpXhr_$self$$.$f$) {
    $JSCompiler_StaticMethods_cleanUpTimeoutTimer_$$($JSCompiler_StaticMethods_cleanUpXhr_$self$$);
    var $xhr$jscomp$10$$ = $JSCompiler_StaticMethods_cleanUpXhr_$self$$.$f$, $clearedOnReadyStateChange$$ = $JSCompiler_StaticMethods_cleanUpXhr_$self$$.$R$[0] ? $goog$nullFunction$$ : null;
    $JSCompiler_StaticMethods_cleanUpXhr_$self$$.$f$ = null;
    $JSCompiler_StaticMethods_cleanUpXhr_$self$$.$R$ = null;
    $opt_fromDispose$$ || $JSCompiler_StaticMethods_cleanUpXhr_$self$$.$goog_events_EventTarget_prototype$dispatchEvent$("ready");
    try {
      $xhr$jscomp$10$$.onreadystatechange = $clearedOnReadyStateChange$$;
    } catch ($e$jscomp$89$$) {
      $goog$log$error$$($JSCompiler_StaticMethods_cleanUpXhr_$self$$.$logger_$, "Problem encountered resetting onreadystatechange: " + $e$jscomp$89$$.message);
    }
  }
}, $JSCompiler_StaticMethods_cleanUpTimeoutTimer_$$ = function($JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$) {
  $JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$.$f$ && $JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$.$O$ && ($JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$.$f$.ontimeout = null);
  $JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$.$J$ && ($goog$Timer$clear$$($JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$.$J$), $JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$.$J$ = null);
}, $JSCompiler_StaticMethods_isSuccess$$ = function($JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_6865_scheme$jscomp$inline_6864$$) {
  var $JSCompiler_temp$jscomp$549_status$jscomp$8$$ = $JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_6865_scheme$jscomp$inline_6864$$.$getStatus$();
  a: {
    switch($JSCompiler_temp$jscomp$549_status$jscomp$8$$) {
      case 200:
      case 201:
      case 202:
      case 204:
      case 206:
      case 304:
      case 1223:
        var $JSCompiler_inline_result$jscomp$526_JSCompiler_temp$jscomp$548$$ = !0;
        break a;
      default:
        $JSCompiler_inline_result$jscomp$526_JSCompiler_temp$jscomp$548$$ = !1;
    }
  }
  if (!$JSCompiler_inline_result$jscomp$526_JSCompiler_temp$jscomp$548$$) {
    if ($JSCompiler_temp$jscomp$549_status$jscomp$8$$ = 0 === $JSCompiler_temp$jscomp$549_status$jscomp$8$$) {
      $JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_6865_scheme$jscomp$inline_6864$$ = String($JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_6865_scheme$jscomp$inline_6864$$.$M$).match($goog$uri$utils$splitRe_$$)[1] || null, !$JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_6865_scheme$jscomp$inline_6864$$ && $goog$global$$.self && $goog$global$$.self.location && ($JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_6865_scheme$jscomp$inline_6864$$ = 
      $goog$global$$.self.location.protocol, $JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_6865_scheme$jscomp$inline_6864$$ = $JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_6865_scheme$jscomp$inline_6864$$.substr(0, $JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_6865_scheme$jscomp$inline_6864$$.length - 1)), $JSCompiler_temp$jscomp$549_status$jscomp$8$$ = !$goog$net$XhrIo$HTTP_SCHEME_PATTERN$$.test($JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_6865_scheme$jscomp$inline_6864$$ ? 
      $JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_6865_scheme$jscomp$inline_6864$$.toLowerCase() : "");
    }
    $JSCompiler_inline_result$jscomp$526_JSCompiler_temp$jscomp$548$$ = $JSCompiler_temp$jscomp$549_status$jscomp$8$$;
  }
  return $JSCompiler_inline_result$jscomp$526_JSCompiler_temp$jscomp$548$$;
}, $JSCompiler_StaticMethods_getReadyState$$ = function($JSCompiler_StaticMethods_getReadyState$self$$) {
  return $JSCompiler_StaticMethods_getReadyState$self$$.$f$ ? $JSCompiler_StaticMethods_getReadyState$self$$.$f$.readyState : 0;
};
$goog$net$XhrIo$$.prototype.$getStatus$ = function() {
  try {
    return 2 < $JSCompiler_StaticMethods_getReadyState$$(this) ? this.$f$.status : -1;
  } catch ($e$jscomp$90$$) {
    return -1;
  }
};
var $JSCompiler_StaticMethods_getResponseText$$ = function($JSCompiler_StaticMethods_getResponseText$self$$) {
  try {
    return $JSCompiler_StaticMethods_getResponseText$self$$.$f$ ? $JSCompiler_StaticMethods_getResponseText$self$$.$f$.responseText : "";
  } catch ($e$jscomp$92$$) {
    return $goog$log$fine$$($JSCompiler_StaticMethods_getResponseText$self$$.$logger_$, "Can not get responseText: " + $e$jscomp$92$$.message), "";
  }
}, $JSCompiler_StaticMethods_getResponseJson$$ = function($JSCompiler_StaticMethods_getResponseJson$self$$) {
  if ($JSCompiler_StaticMethods_getResponseJson$self$$.$f$) {
    return $goog$json$hybrid$parse$$($JSCompiler_StaticMethods_getResponseJson$self$$.$f$.responseText);
  }
}, $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$$ = function($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$) {
  try {
    if (!$JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$f$) {
      return null;
    }
    if ("response" in $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$f$) {
      return $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$f$.response;
    }
    switch($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$C$) {
      case "":
      case "text":
        return $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$f$.responseText;
      case "arraybuffer":
        if ("mozResponseArrayBuffer" in $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$f$) {
          return $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$f$.mozResponseArrayBuffer;
        }
    }
    $goog$log$error$$($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$logger_$, "Response type " + $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$C$ + " is not supported on this browser");
    return null;
  } catch ($e$jscomp$95$$) {
    return $goog$log$fine$$($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$logger_$, "Can not get response: " + $e$jscomp$95$$.message), null;
  }
};
$goog$net$XhrIo$$.prototype.getResponseHeader = function($key$jscomp$172_value$jscomp$405$$) {
  if (this.$f$ && 4 == $JSCompiler_StaticMethods_getReadyState$$(this)) {
    return $key$jscomp$172_value$jscomp$405$$ = this.$f$.getResponseHeader($key$jscomp$172_value$jscomp$405$$), null === $key$jscomp$172_value$jscomp$405$$ ? void 0 : $key$jscomp$172_value$jscomp$405$$;
  }
};
var $JSCompiler_StaticMethods_getResponseHeaders$$ = function($JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$) {
  var $headersObject$$ = {};
  $JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$ = ($JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$.$f$ && 4 == $JSCompiler_StaticMethods_getReadyState$$($JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$) ? $JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$.$f$.getAllResponseHeaders() || "" : "").split("\r\n");
  for (var $i$jscomp$302$$ = 0; $i$jscomp$302$$ < $JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$.length; $i$jscomp$302$$++) {
    if (!$goog$string$internal$isEmptyOrWhitespace$$($JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$[$i$jscomp$302$$])) {
      var $keyValue$jscomp$4_value$jscomp$406$$ = $goog$string$splitLimit$$($JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$[$i$jscomp$302$$], ":", 1), $key$jscomp$173$$ = $keyValue$jscomp$4_value$jscomp$406$$[0];
      $keyValue$jscomp$4_value$jscomp$406$$ = $keyValue$jscomp$4_value$jscomp$406$$[1];
      if ($goog$isString$$($keyValue$jscomp$4_value$jscomp$406$$)) {
        $keyValue$jscomp$4_value$jscomp$406$$ = $keyValue$jscomp$4_value$jscomp$406$$.trim();
        var $values$jscomp$35$$ = $headersObject$$[$key$jscomp$173$$] || [];
        $headersObject$$[$key$jscomp$173$$] = $values$jscomp$35$$;
        $values$jscomp$35$$.push($keyValue$jscomp$4_value$jscomp$406$$);
      }
    }
  }
  return $goog$object$map$$($headersObject$$, function($values$jscomp$36$$) {
    return $values$jscomp$36$$.join(", ");
  });
}, $JSCompiler_StaticMethods_formatMsg_$$ = function($JSCompiler_StaticMethods_formatMsg_$self$$, $msg$jscomp$83$$) {
  return $msg$jscomp$83$$ + " [" + $JSCompiler_StaticMethods_formatMsg_$self$$.$Z$ + " " + $JSCompiler_StaticMethods_formatMsg_$self$$.$M$ + " " + $JSCompiler_StaticMethods_formatMsg_$self$$.$getStatus$() + "]";
};
var $module$exports$mr$cloud$turn$CredentialService$$ = function() {
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.CredentialService");
}, $JSCompiler_StaticMethods_getCredentials$$ = function($JSCompiler_StaticMethods_getCredentials$self$$) {
  var $resolver$jscomp$14$$ = new $mr$PromiseResolver$$, $url$jscomp$127$$ = $mr$cloud$TURN_CREDS_CONFIG$$.$b$ + "/iceconfig?key=" + $mr$cloud$TURN_CREDS_CONFIG$$.$f$;
  $JSCompiler_StaticMethods_getCredentials$self$$.$logger_$.info("Requesting TURN credentials from " + $url$jscomp$127$$);
  var $xhr$jscomp$11$$ = $goog$net$XhrIo$send$$($url$jscomp$127$$, function() {
    $JSCompiler_StaticMethods_isSuccess$$($xhr$jscomp$11$$) ? ($JSCompiler_StaticMethods_getCredentials$self$$.$logger_$.info("Got TURN credentials: " + $JSCompiler_StaticMethods_getResponseText$$($xhr$jscomp$11$$)), $resolver$jscomp$14$$.resolve($JSCompiler_StaticMethods_onHttpCallComplete_$$($JSCompiler_StaticMethods_getCredentials$self$$, $JSCompiler_StaticMethods_getResponseJson$$($xhr$jscomp$11$$)))) : $resolver$jscomp$14$$.resolve($JSCompiler_StaticMethods_onHttpCallFailed_$$($JSCompiler_StaticMethods_getCredentials$self$$));
  }, "POST", void 0, {"Content-Type":"application/json"});
  return $resolver$jscomp$14$$.$b$;
}, $JSCompiler_StaticMethods_onHttpCallComplete_$$ = function($JSCompiler_StaticMethods_onHttpCallComplete_$self$$, $response$jscomp$27$$) {
  try {
    $goog$asserts$assertObject$$($response$jscomp$27$$);
    var $result$jscomp$77$$ = [];
    $goog$asserts$assertArray$$($response$jscomp$27$$.iceServers).forEach(function($server$jscomp$1$$) {
      $goog$asserts$assertArray$$($server$jscomp$1$$.urls).forEach(function($url$jscomp$128$$) {
        0 == $url$jscomp$128$$.indexOf("turn:") && $result$jscomp$77$$.push({url:$goog$asserts$assertString$$($url$jscomp$128$$), credential:$goog$asserts$assertString$$($server$jscomp$1$$.credential), username:$goog$asserts$assertString$$($server$jscomp$1$$.username)});
      });
    });
    return $result$jscomp$77$$;
  } catch ($e$jscomp$96$$) {
    return $JSCompiler_StaticMethods_onHttpCallComplete_$self$$.$logger_$.error("Error parsing TURN credentials.", $e$jscomp$96$$), [];
  }
}, $JSCompiler_StaticMethods_onHttpCallFailed_$$ = function($JSCompiler_StaticMethods_onHttpCallFailed_$self$$) {
  $JSCompiler_StaticMethods_onHttpCallFailed_$self$$.$logger_$.error("XHR failed fetching TURN credentials.", null);
  return [];
};
var $module$exports$mr$cloud$slarti$MessageHandler$$ = function($commandsService$$, $turnCredentialService$$, $provider$jscomp$19$$) {
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.slarti.MessageHandler");
  this.$g$ = $commandsService$$;
  this.$h$ = $turnCredentialService$$;
  this.$b$ = $provider$jscomp$19$$;
  this.$f$ = new Map;
}, $JSCompiler_StaticMethods_getParametersInfo_$$ = function($route$jscomp$58$$) {
  if ($mr$MediaSourceUtils$isDesktopMirrorSource$$($mr$Assertions$assertString$$($route$jscomp$58$$.mediaSource))) {
    return Promise.resolve({title:"screen"});
  }
  var $tabId$jscomp$31$$ = $route$jscomp$58$$.$mirrorInitData$ && $route$jscomp$58$$.$mirrorInitData$.tabId;
  return null == $tabId$jscomp$31$$ ? Promise.resolve({title:"", url:""}) : new Promise(function($resolve$jscomp$45$$) {
    chrome.tabs.get($tabId$jscomp$31$$, function($tab$jscomp$6$$) {
      $resolve$jscomp$45$$({title:$tab$jscomp$6$$ && $tab$jscomp$6$$.title || "", url:$tab$jscomp$6$$ && $tab$jscomp$6$$.url || ""});
    });
  });
}, $JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$MessageHandler_prototype$handleOffer$$ = function($JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$MessageHandler_prototype$handleOffer$self$$, $message$jscomp$131$$, $route$jscomp$59$$, $sink$jscomp$94$$) {
  var $deviceId$jscomp$11$$ = $sink$jscomp$94$$.deviceId, $messageData$$ = $message$jscomp$131$$.data;
  return $JSCompiler_StaticMethods_getParametersInfo_$$($route$jscomp$59$$).then(function($command$jscomp$4_info$jscomp$15$$) {
    $command$jscomp$4_info$jscomp$15$$ = {id:null, issuer:null, name:"stream", status:null, results:null, expirationTime:null, parameters:JSON.stringify({info:$command$jscomp$4_info$jscomp$15$$, sessionDescription:$messageData$$.description, mediaConstraints:$messageData$$.mediaConstraints, settings:$messageData$$.settings})};
    return $JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$MessageHandler_prototype$handleOffer$self$$.$g$.send($deviceId$jscomp$11$$, $command$jscomp$4_info$jscomp$15$$).then(function($command$jscomp$5$$) {
      return new Promise(function($resolve$jscomp$46$$, $reject$jscomp$44$$) {
        $JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$MessageHandler_prototype$handleOffer$self$$.$f$.set($goog$asserts$assert$$($command$jscomp$5$$.id), {routeId:$route$jscomp$59$$.id, sinkId:$sink$jscomp$94$$.id, resolve:$resolve$jscomp$46$$, reject:$reject$jscomp$44$$, $isKnockingRequest$:"PENDING_APPROVAL" == $command$jscomp$5$$.status});
      });
    }, function() {
      $JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$MessageHandler_prototype$handleOffer$self$$.$b$, $route$jscomp$59$$.id, 7, $JSCompiler_StaticMethods_mr_Issue_prototype$setSinkId$$($JSCompiler_StaticMethods_setRouteId$$($JSCompiler_StaticMethods_setIsBlocking$$(new $mr$Issue$$($mr$cloud$Messages$MSG_MR_CONNECT_FAILED$$, "warning")), $route$jscomp$59$$.id), $sink$jscomp$94$$.id));
    });
  });
}, $JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$MessageHandler_prototype$handleGetTurnCredentials$$ = function($JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$MessageHandler_prototype$handleGetTurnCredentials$self$$, $route$jscomp$60$$) {
  return $JSCompiler_StaticMethods_getCredentials$$($JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$MessageHandler_prototype$handleGetTurnCredentials$self$$.$h$).then(function($creds$$) {
    $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$MessageHandler_prototype$handleGetTurnCredentials$self$$.$b$, new $mr$webrtc$Message$$("TURN_CREDENTIALS", {credentials:$creds$$}), $route$jscomp$60$$.id);
  });
};
var $mr$cloud$messaging$MessageDispatcher$$ = function($slartiMessageHandler$$, $weaveMessageHandler$$, $hangoutMessageHandler$$, $provider$jscomp$20$$) {
  this.$f$ = $slartiMessageHandler$$;
  this.$g$ = $weaveMessageHandler$$;
  this.$h$ = $hangoutMessageHandler$$;
  this.$b$ = $provider$jscomp$20$$;
}, $JSCompiler_StaticMethods_handleMessage$$ = function($JSCompiler_StaticMethods_handleMessage$self$$, $channelType$jscomp$2$$, $message$jscomp$132$$, $opt_route$jscomp$2$$, $opt_cloudSink$$) {
  return new Promise(function($resolve$jscomp$48$$) {
    switch($channelType$jscomp$2$$) {
      case "slarti":
      case "weave":
      case "mesi":
        break;
      default:
        throw Error("Unrecognized channel type: " + $channelType$jscomp$2$$);
    }
    if (!$message$jscomp$132$$.type) {
      throw Error("Message has no type");
    }
    switch($message$jscomp$132$$.type) {
      case "STOP":
        $resolve$jscomp$48$$($JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_handleMessage$self$$.$b$, $goog$asserts$assert$$($opt_route$jscomp$2$$), 1, null));
        return;
      case "SESSION_START_SUCCESS":
        $module$exports$mr$cloud$CloudAnalytics$recordSessionStarted$$(0);
        break;
      case "SESSION_END":
        break;
      case "SESSION_FAILURE":
        $module$exports$mr$cloud$CloudAnalytics$recordSessionStarted$$(1);
        $resolve$jscomp$48$$($JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_handleMessage$self$$.$b$, $goog$asserts$assert$$($opt_route$jscomp$2$$), 2, $JSCompiler_StaticMethods_mr_Issue_prototype$setSinkId$$(new $mr$Issue$$($mr$cloud$Messages$MSG_MR_CONNECT_FAILED$$, "warning"), $opt_route$jscomp$2$$ ? $opt_route$jscomp$2$$.sinkId : "")));
        return;
      case "__webrtc_stats__":
        break;
      case "PRESENTATION_CONNECTION_MESSAGE":
        $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleMessage$self$$.$b$, $message$jscomp$132$$.data, $opt_route$jscomp$2$$.id, !0);
        break;
      case "OFFER":
        switch($channelType$jscomp$2$$) {
          case "slarti":
            $resolve$jscomp$48$$($JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$MessageHandler_prototype$handleOffer$$($JSCompiler_StaticMethods_handleMessage$self$$.$f$, $message$jscomp$132$$, $goog$asserts$assert$$($opt_route$jscomp$2$$), $goog$asserts$assert$$($opt_cloudSink$$)));
            return;
          case "weave":
            $resolve$jscomp$48$$($JSCompiler_StaticMethods_mr_cloud_messaging_WeaveMessageHandler_prototype$handleOffer$$($JSCompiler_StaticMethods_handleMessage$self$$.$g$, $message$jscomp$132$$, $goog$asserts$assert$$($opt_route$jscomp$2$$), $goog$asserts$assert$$($opt_cloudSink$$)));
            return;
          default:
            throw Error("Unexpected channel type: " + $channelType$jscomp$2$$);
        }case "GET_TURN_CREDENTIALS":
        switch($channelType$jscomp$2$$) {
          case "slarti":
            $resolve$jscomp$48$$($JSCompiler_StaticMethods_module$exports$mr$cloud$slarti$MessageHandler_prototype$handleGetTurnCredentials$$($JSCompiler_StaticMethods_handleMessage$self$$.$f$, $goog$asserts$assert$$($opt_route$jscomp$2$$)));
            return;
          case "weave":
            $resolve$jscomp$48$$($JSCompiler_StaticMethods_mr_cloud_messaging_WeaveMessageHandler_prototype$handleGetTurnCredentials$$($JSCompiler_StaticMethods_handleMessage$self$$.$g$, $goog$asserts$assert$$($opt_route$jscomp$2$$)));
            return;
          default:
            throw Error("Unexpected channel type: " + $channelType$jscomp$2$$);
        }case "REFRESH_AUTH":
      case "LOCAL_PRESENT":
      case "MUTE":
      case "STATUS_REQUEST":
      case "STATUS_RESPONSE":
      case "HANGOUT_INACTIVE":
      case "HANGOUT_INVALID":
        $goog$asserts$assert$$("mesi" == $channelType$jscomp$2$$);
        $resolve$jscomp$48$$($JSCompiler_StaticMethods_handleMesiMessage$$($JSCompiler_StaticMethods_handleMessage$self$$.$h$, $message$jscomp$132$$, $goog$asserts$assert$$($opt_route$jscomp$2$$), $goog$asserts$assert$$($opt_cloudSink$$)));
        return;
      case "new_session":
        $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleMessage$self$$.$b$, $message$jscomp$132$$, $goog$asserts$assert$$($opt_route$jscomp$2$$).id, !0);
        break;
      case "remove_session":
        $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleMessage$self$$.$b$, $message$jscomp$132$$, $goog$asserts$assert$$($opt_route$jscomp$2$$).id, !0);
        $JSCompiler_StaticMethods_handleMessage$self$$.$b$.terminateRoute($goog$asserts$assert$$($opt_route$jscomp$2$$).id);
        break;
      default:
        throw Error("Unknown type: " + $message$jscomp$132$$.type);
    }
    $resolve$jscomp$48$$();
  });
};
var $mr$cloud$messaging$weave$OfferResponse$$ = function($state$jscomp$11$$, $opt_type$jscomp$20$$, $opt_results$$) {
  this.state = $state$jscomp$11$$;
  this.type = null != $opt_type$jscomp$20$$ ? $opt_type$jscomp$20$$ : null;
  this.results = null != $opt_results$$ ? $opt_results$$ : null;
}, $mr$cloud$messaging$weave$MessageSender$$ = function($gapiService$jscomp$4$$) {
  this.$b$ = $gapiService$jscomp$4$$;
}, $JSCompiler_StaticMethods_sendKnockingOffer$$ = function($JSCompiler_StaticMethods_sendKnockingOffer$self$$, $deviceId$jscomp$12$$, $message$jscomp$133$$, $opt_user$jscomp$3$$) {
  return $JSCompiler_StaticMethods_sendOffer_$$($JSCompiler_StaticMethods_sendKnockingOffer$self$$, $mr$cloud$messaging$weave$KNOCKING_START_WEBRTC_SESSION_MESSAGE_$$, $deviceId$jscomp$12$$, $message$jscomp$133$$, $opt_user$jscomp$3$$, 35000).then(function($command$jscomp$7$$) {
    return $JSCompiler_StaticMethods_handleKnockingResponse_$$($JSCompiler_StaticMethods_sendKnockingOffer$self$$, $command$jscomp$7$$);
  });
}, $JSCompiler_StaticMethods_sendOffer$$ = function($JSCompiler_StaticMethods_sendOffer$self$$, $deviceId$jscomp$13$$, $message$jscomp$134$$, $opt_user$jscomp$4$$) {
  return $JSCompiler_StaticMethods_sendOffer_$$($JSCompiler_StaticMethods_sendOffer$self$$, $mr$cloud$messaging$weave$START_WEBRTC_SESSION_MESSAGE_$$, $deviceId$jscomp$13$$, $message$jscomp$134$$, $opt_user$jscomp$4$$, 23000).then(function($command$jscomp$8_results$jscomp$3$$) {
    var $state$jscomp$12$$ = $command$jscomp$8_results$jscomp$3$$.state;
    return "done" == $state$jscomp$12$$ ? ($command$jscomp$8_results$jscomp$3$$ = $JSCompiler_StaticMethods_parseMessageResults_$$($command$jscomp$8_results$jscomp$3$$), new $mr$cloud$messaging$weave$OfferResponse$$($state$jscomp$12$$, $command$jscomp$8_results$jscomp$3$$.type, new $mr$cloud$messaging$weave$CloudWebRtcSessionMessage$$($command$jscomp$8_results$jscomp$3$$.sessionDescription))) : new $mr$cloud$messaging$weave$OfferResponse$$($state$jscomp$12$$);
  });
}, $JSCompiler_StaticMethods_sendOffer_$$ = function($JSCompiler_StaticMethods_sendOffer_$self$$, $offerType$$, $deviceId$jscomp$15$$, $message$jscomp$135$$, $opt_user$jscomp$5$$, $opt_commandExpirationMs$$) {
  var $gcdOfferMessage_webrtcMessage$$ = $message$jscomp$135$$.presentationUrl ? new $mr$cloud$messaging$weave$CloudWebRtcSessionMessage$$($goog$asserts$assert$$($message$jscomp$135$$.description), null, $message$jscomp$135$$.presentationUrl, $message$jscomp$135$$.presentationId) : new $mr$cloud$messaging$weave$CloudWebRtcSessionMessage$$($goog$asserts$assert$$($message$jscomp$135$$.description));
  $gcdOfferMessage_webrtcMessage$$ = {_webrtcMessage:JSON.stringify($gcdOfferMessage_webrtcMessage$$)};
  $message$jscomp$135$$.settings && ($gcdOfferMessage_webrtcMessage$$._settings = $JSCompiler_StaticMethods_toJsonString$$($message$jscomp$135$$.settings));
  $message$jscomp$135$$.mediaConstraints && ($gcdOfferMessage_webrtcMessage$$._optMediaConstraints = JSON.stringify($message$jscomp$135$$.mediaConstraints));
  $opt_user$jscomp$5$$ && ($gcdOfferMessage_webrtcMessage$$._user = JSON.stringify($opt_user$jscomp$5$$));
  return $JSCompiler_StaticMethods_mr_cloud_messaging_weave_MessageSender_prototype$sendMessage_$$($JSCompiler_StaticMethods_sendOffer_$self$$, $deviceId$jscomp$15$$, $offerType$$, $gcdOfferMessage_webrtcMessage$$, $opt_commandExpirationMs$$);
}, $JSCompiler_StaticMethods_handleKnockingResponse_$$ = function($JSCompiler_StaticMethods_handleKnockingResponse_$self$$, $command$jscomp$9$$) {
  var $state$jscomp$13$$ = $command$jscomp$9$$.state;
  switch($state$jscomp$13$$) {
    case "done":
      return Promise.resolve($JSCompiler_StaticMethods_parseCompletedKnockingCommand_$$($command$jscomp$9$$));
    case "queued":
    case "inProgress":
      return $JSCompiler_StaticMethods_waitForCommandCompletion_$$($JSCompiler_StaticMethods_handleKnockingResponse_$self$$, $command$jscomp$9$$).then(function($completed$$) {
        return $JSCompiler_StaticMethods_handleKnockingResponse_$$($JSCompiler_StaticMethods_handleKnockingResponse_$self$$, $completed$$);
      });
    default:
      return Promise.resolve(new $mr$cloud$messaging$weave$OfferResponse$$($state$jscomp$13$$));
  }
}, $JSCompiler_StaticMethods_waitForCommandCompletion_$$ = function($JSCompiler_StaticMethods_waitForCommandCompletion_$self$$, $command$jscomp$10$$) {
  return new Promise(function($resolve$jscomp$49$$) {
    var $intervalId$$ = setInterval(function() {
      var $commandId$jscomp$5$$ = $goog$asserts$assert$$($command$jscomp$10$$.id);
      $JSCompiler_StaticMethods_fetchCommand_$$($JSCompiler_StaticMethods_waitForCommandCompletion_$self$$, $commandId$jscomp$5$$).then(function($updatedCommand$$) {
        "queued" != $updatedCommand$$.state && "inProgress" != $updatedCommand$$.state && (clearInterval($intervalId$$), $resolve$jscomp$49$$($updatedCommand$$));
      });
    }, 2000);
  });
}, $JSCompiler_StaticMethods_parseCompletedKnockingCommand_$$ = function($command$jscomp$11_results$jscomp$4$$) {
  $command$jscomp$11_results$jscomp$4$$ = $JSCompiler_StaticMethods_parseMessageResults_$$($command$jscomp$11_results$jscomp$4$$);
  return "__cloud_webrtc_session_message__" == $command$jscomp$11_results$jscomp$4$$.type ? new $mr$cloud$messaging$weave$OfferResponse$$("done", "knocking_cloud_webrtc_session_message", new $mr$cloud$messaging$weave$CloudWebRtcSessionMessage$$($command$jscomp$11_results$jscomp$4$$.sessionDescription)) : new $mr$cloud$messaging$weave$OfferResponse$$("done", $command$jscomp$11_results$jscomp$4$$.type);
}, $JSCompiler_StaticMethods_mr_cloud_messaging_weave_MessageSender_prototype$sendMessage_$$ = function($JSCompiler_StaticMethods_mr_cloud_messaging_weave_MessageSender_prototype$sendMessage_$self$$, $deviceId$jscomp$16_request$jscomp$60$$, $messageType$jscomp$1_queryData$jscomp$13$$, $params$jscomp$24$$, $opt_commandExpirationMs$jscomp$1_path$jscomp$42$$) {
  $deviceId$jscomp$16_request$jscomp$60$$ = {deviceId:$deviceId$jscomp$16_request$jscomp$60$$, name:"_cloudCast." + $messageType$jscomp$1_queryData$jscomp$13$$.name, parameters:$params$jscomp$24$$, expirationTimeoutMs:$opt_commandExpirationMs$jscomp$1_path$jscomp$42$$ || 10000};
  $messageType$jscomp$1_queryData$jscomp$13$$ = {};
  $opt_commandExpirationMs$jscomp$1_path$jscomp$42$$ && ($messageType$jscomp$1_queryData$jscomp$13$$.responseAwaitMs = Math.min($opt_commandExpirationMs$jscomp$1_path$jscomp$42$$ + 5000, 25000));
  $opt_commandExpirationMs$jscomp$1_path$jscomp$42$$ = $JSCompiler_StaticMethods_formUri$$($mr$cloud$WEAVE_CONFIG$$.$b$, ["commands"], $messageType$jscomp$1_queryData$jscomp$13$$);
  return $JSCompiler_StaticMethods_callWithAuth$$($JSCompiler_StaticMethods_mr_cloud_messaging_weave_MessageSender_prototype$sendMessage_$self$$.$b$, $opt_commandExpirationMs$jscomp$1_path$jscomp$42$$, "POST", $deviceId$jscomp$16_request$jscomp$60$$);
}, $JSCompiler_StaticMethods_parseMessageResults_$$ = function($message$jscomp$136$$) {
  return $message$jscomp$136$$.results && $message$jscomp$136$$.results.results ? JSON.parse($message$jscomp$136$$.results.results) : null;
}, $JSCompiler_StaticMethods_fetchCommand_$$ = function($JSCompiler_StaticMethods_fetchCommand_$self$$, $commandId$jscomp$6_path$jscomp$43$$) {
  $commandId$jscomp$6_path$jscomp$43$$ = $JSCompiler_StaticMethods_formUri$$($mr$cloud$WEAVE_CONFIG$$.$b$, ["commands", $commandId$jscomp$6_path$jscomp$43$$]);
  return $JSCompiler_StaticMethods_callWithAuth$$($JSCompiler_StaticMethods_fetchCommand_$self$$.$b$, $commandId$jscomp$6_path$jscomp$43$$, "GET");
};
$mr$cloud$messaging$weave$MessageSender$$.$inject = ["gapiService"];
var $mr$cloud$messaging$WeaveMessageHandler$$ = function($gcdMessageSender$$, $identityService$jscomp$7$$, $turnCredentialService$jscomp$1$$, $provider$jscomp$21$$) {
  this.$f$ = $gcdMessageSender$$;
  this.$g$ = $identityService$jscomp$7$$;
  this.$h$ = $turnCredentialService$jscomp$1$$;
  this.$b$ = $provider$jscomp$21$$;
}, $JSCompiler_StaticMethods_mr_cloud_messaging_WeaveMessageHandler_prototype$handleOffer$$ = function($JSCompiler_StaticMethods_mr_cloud_messaging_WeaveMessageHandler_prototype$handleOffer$self$$, $message$jscomp$137$$, $route$jscomp$61$$, $weaveSink$jscomp$1$$) {
  return $JSCompiler_StaticMethods_sendCloudOffer_$$($JSCompiler_StaticMethods_mr_cloud_messaging_WeaveMessageHandler_prototype$handleOffer$self$$, $message$jscomp$137$$, $weaveSink$jscomp$1$$).then(function($response$jscomp$28_responseMessage$jscomp$inline_2359$$) {
    a: {
      var $JSCompiler_inline_result$jscomp$554_routeId$jscomp$inline_2358$$ = $route$jscomp$61$$.id;
      if ("done" != $response$jscomp$28_responseMessage$jscomp$inline_2359$$.state) {
        $JSCompiler_inline_result$jscomp$554_routeId$jscomp$inline_2358$$ = Promise.reject(Error("Offer not executed by receiver. State: " + $response$jscomp$28_responseMessage$jscomp$inline_2359$$.state));
      } else {
        switch($response$jscomp$28_responseMessage$jscomp$inline_2359$$.type) {
          case "__cloud_webrtc_session_message__":
            $response$jscomp$28_responseMessage$jscomp$inline_2359$$ = new $mr$webrtc$Message$$("ANSWER", $response$jscomp$28_responseMessage$jscomp$inline_2359$$.results.sessionDescription);
            $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_mr_cloud_messaging_WeaveMessageHandler_prototype$handleOffer$self$$.$b$, $response$jscomp$28_responseMessage$jscomp$inline_2359$$, $JSCompiler_inline_result$jscomp$554_routeId$jscomp$inline_2358$$);
            break;
          case "knocking_cloud_webrtc_session_message":
            $module$exports$mr$cloud$CloudAnalytics$recordKnockResult$$(0);
            $response$jscomp$28_responseMessage$jscomp$inline_2359$$ = new $mr$webrtc$Message$$("KNOCK_ANSWER", $response$jscomp$28_responseMessage$jscomp$inline_2359$$.results.sessionDescription);
            $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_mr_cloud_messaging_WeaveMessageHandler_prototype$handleOffer$self$$.$b$, $response$jscomp$28_responseMessage$jscomp$inline_2359$$, $JSCompiler_inline_result$jscomp$554_routeId$jscomp$inline_2358$$);
            break;
          case "knock_denied":
            $module$exports$mr$cloud$CloudAnalytics$recordKnockResult$$(1);
            $JSCompiler_StaticMethods_handleKnockFailed_$$($JSCompiler_StaticMethods_mr_cloud_messaging_WeaveMessageHandler_prototype$handleOffer$self$$, $mr$cloud$Messages$MSG_KNOCK_DENIED$$, $JSCompiler_inline_result$jscomp$554_routeId$jscomp$inline_2358$$);
            break;
          case "knock_timeout":
            $module$exports$mr$cloud$CloudAnalytics$recordKnockResult$$(2);
            $JSCompiler_StaticMethods_handleKnockFailed_$$($JSCompiler_StaticMethods_mr_cloud_messaging_WeaveMessageHandler_prototype$handleOffer$self$$, $mr$cloud$Messages$MSG_KNOCK_TIMEOUT$$, $JSCompiler_inline_result$jscomp$554_routeId$jscomp$inline_2358$$);
            break;
          default:
            $JSCompiler_inline_result$jscomp$554_routeId$jscomp$inline_2358$$ = Promise.reject(Error("Invalid message type: " + $response$jscomp$28_responseMessage$jscomp$inline_2359$$.type));
            break a;
        }
        $JSCompiler_inline_result$jscomp$554_routeId$jscomp$inline_2358$$ = Promise.resolve();
      }
    }
    return $JSCompiler_inline_result$jscomp$554_routeId$jscomp$inline_2358$$;
  });
}, $JSCompiler_StaticMethods_mr_cloud_messaging_WeaveMessageHandler_prototype$handleGetTurnCredentials$$ = function($JSCompiler_StaticMethods_mr_cloud_messaging_WeaveMessageHandler_prototype$handleGetTurnCredentials$self$$, $route$jscomp$62$$) {
  return $JSCompiler_StaticMethods_getCredentials$$($JSCompiler_StaticMethods_mr_cloud_messaging_WeaveMessageHandler_prototype$handleGetTurnCredentials$self$$.$h$).then(function($creds$jscomp$1$$) {
    $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_mr_cloud_messaging_WeaveMessageHandler_prototype$handleGetTurnCredentials$self$$.$b$, new $mr$webrtc$Message$$("TURN_CREDENTIALS", {credentials:$creds$jscomp$1$$}), $route$jscomp$62$$.id);
  });
}, $JSCompiler_StaticMethods_sendCloudOffer_$$ = function($JSCompiler_StaticMethods_sendCloudOffer_$self$$, $message$jscomp$138_messageData$jscomp$1$$, $weaveSink$jscomp$2$$) {
  var $deviceId$jscomp$17$$ = $weaveSink$jscomp$2$$.deviceId, $email$jscomp$1_user$$ = $JSCompiler_StaticMethods_sendCloudOffer_$self$$.$g$.$f$;
  $email$jscomp$1_user$$ = $email$jscomp$1_user$$ ? new $mr$cloud$messaging$weave$MessageUser$$($email$jscomp$1_user$$) : void 0;
  $message$jscomp$138_messageData$jscomp$1$$ = $message$jscomp$138_messageData$jscomp$1$$.data;
  switch($weaveSink$jscomp$2$$.$aclLevel$) {
    case "owner":
      $module$exports$mr$cloud$CloudAnalytics$recordUserRole$$(0);
      break;
    case "manager":
      $module$exports$mr$cloud$CloudAnalytics$recordUserRole$$(1);
      break;
    case "user":
      $module$exports$mr$cloud$CloudAnalytics$recordUserRole$$(2);
      break;
    case "viewer":
      $module$exports$mr$cloud$CloudAnalytics$recordUserRole$$(3);
  }
  return "viewer" == $weaveSink$jscomp$2$$.$aclLevel$ ? $JSCompiler_StaticMethods_sendKnockingOffer$$($JSCompiler_StaticMethods_sendCloudOffer_$self$$.$f$, $deviceId$jscomp$17$$, $message$jscomp$138_messageData$jscomp$1$$, $email$jscomp$1_user$$) : $JSCompiler_StaticMethods_sendOffer$$($JSCompiler_StaticMethods_sendCloudOffer_$self$$.$f$, $deviceId$jscomp$17$$, $message$jscomp$138_messageData$jscomp$1$$, $email$jscomp$1_user$$);
}, $JSCompiler_StaticMethods_handleKnockFailed_$$ = function($JSCompiler_StaticMethods_handleKnockFailed_$self$$, $issue$jscomp$3_issueMessage$jscomp$1$$, $routeId$jscomp$79$$) {
  $issue$jscomp$3_issueMessage$jscomp$1$$ = new $mr$Issue$$($issue$jscomp$3_issueMessage$jscomp$1$$, "warning");
  $JSCompiler_StaticMethods_setIsBlocking$$($issue$jscomp$3_issueMessage$jscomp$1$$);
  $JSCompiler_StaticMethods_handleKnockFailed_$self$$.$b$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$sendIssue$($issue$jscomp$3_issueMessage$jscomp$1$$);
  $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleKnockFailed_$self$$.$b$, new $mr$webrtc$Message$$("STOP"), $routeId$jscomp$79$$);
};
var $mr$cloud$settings$SettingsService$$ = function() {
  var $$jscomp$this$jscomp$118$$ = this;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.settings.SettingsService");
  this.$b$ = null;
  chrome.settingsPrivate.onPrefsChanged.addListener(function($$jscomp$iter$245_prefs$$) {
    $mr$EventAnalytics$recordEvent$$(13);
    if ($$jscomp$this$jscomp$118$$.$b$) {
      $$jscomp$iter$245_prefs$$ = $$jscomp$makeIterator$$($$jscomp$iter$245_prefs$$);
      for (var $$jscomp$key$pref_pref$$ = $$jscomp$iter$245_prefs$$.next(); !$$jscomp$key$pref_pref$$.done; $$jscomp$key$pref_pref$$ = $$jscomp$iter$245_prefs$$.next()) {
        if ($$jscomp$key$pref_pref$$ = $$jscomp$key$pref_pref$$.value, "media_router.cloudservices.enabled" == $$jscomp$key$pref_pref$$.key) {
          $$jscomp$this$jscomp$118$$.$b$.call(null, $$jscomp$key$pref_pref$$.value);
          break;
        }
      }
    }
  });
}, $JSCompiler_StaticMethods_setOnCloudSettingChangedCallback$$ = function($JSCompiler_StaticMethods_setOnCloudSettingChangedCallback$self$$, $callback$jscomp$381$$) {
  $JSCompiler_StaticMethods_setOnCloudSettingChangedCallback$self$$.$b$ = $callback$jscomp$381$$;
}, $JSCompiler_StaticMethods_turnOnCloudSetting$$ = function($JSCompiler_StaticMethods_turnOnCloudSetting$self$$) {
  var $logger$jscomp$13$$ = $JSCompiler_StaticMethods_turnOnCloudSetting$self$$.$logger_$;
  chrome.storage.sync.set({"mr.cloud.cloudEnabled":!0}, function() {
    chrome.runtime.lastError && $logger$jscomp$13$$.$warning$("Error setting cloud setting: " + JSON.stringify(chrome.runtime.lastError));
  });
}, $JSCompiler_StaticMethods_getCloudOnSetting$$ = function($JSCompiler_StaticMethods_getCloudOnSetting$self$$) {
  return $JSCompiler_StaticMethods_getCloudOnSetting_$$().catch(function() {
    return $JSCompiler_StaticMethods_getCloudOnSetting_$$().catch(function($error$jscomp$64$$) {
      $JSCompiler_StaticMethods_getCloudOnSetting$self$$.$logger_$.$warning$("Error retrieving cloud on setting.", $error$jscomp$64$$);
      return !1;
    });
  });
}, $JSCompiler_StaticMethods_getCloudOnSetting_$$ = function() {
  return $JSCompiler_StaticMethods_getItem_$$("mr.cloud.cloudEnabled").then(function($items$jscomp$3$$) {
    return !!$items$jscomp$3$$["mr.cloud.cloudEnabled"];
  });
}, $JSCompiler_StaticMethods_getItem_$$ = function($key$jscomp$175$$) {
  return new Promise(function($resolve$jscomp$50$$, $reject$jscomp$48$$) {
    chrome.storage.sync.get($key$jscomp$175$$, function($items$jscomp$4$$) {
      chrome.runtime.lastError ? $reject$jscomp$48$$(chrome.runtime.lastError) : $resolve$jscomp$50$$($items$jscomp$4$$);
    });
  });
}, $JSCompiler_StaticMethods_getCloudEnabledSetting$$ = function($JSCompiler_StaticMethods_getCloudEnabledSetting$self$$) {
  return $JSCompiler_StaticMethods_getCloudEnabledSetting_$$().catch(function() {
    return $JSCompiler_StaticMethods_getCloudEnabledSetting_$$().catch(function($error$jscomp$66$$) {
      $JSCompiler_StaticMethods_getCloudEnabledSetting$self$$.$logger_$.$warning$("Error retrieving cloud enabled setting.", $error$jscomp$66$$);
      return !1;
    });
  });
}, $JSCompiler_StaticMethods_getCloudEnabledSetting_$$ = function() {
  return $JSCompiler_StaticMethods_getPref_$$().then(function($pref$jscomp$1$$) {
    $goog$asserts$assert$$("media_router.cloudservices.enabled" == $pref$jscomp$1$$.key);
    $goog$asserts$assert$$($pref$jscomp$1$$.type == chrome.settingsPrivate.PrefType.BOOLEAN);
    return !!$pref$jscomp$1$$.value;
  });
}, $JSCompiler_StaticMethods_getPref_$$ = function() {
  return new Promise(function($resolve$jscomp$51$$, $reject$jscomp$49$$) {
    chrome.settingsPrivate.getPref("media_router.cloudservices.enabled", function($pref$jscomp$2$$) {
      chrome.runtime.lastError ? $reject$jscomp$49$$(chrome.runtime.lastError) : $resolve$jscomp$51$$($pref$jscomp$2$$);
    });
  });
}, $JSCompiler_StaticMethods_setNotifiedHangoutPrivacySetting$$ = function($JSCompiler_StaticMethods_setNotifiedHangoutPrivacySetting$self$$) {
  var $logger$jscomp$14$$ = $JSCompiler_StaticMethods_setNotifiedHangoutPrivacySetting$self$$.$logger_$;
  chrome.storage.sync.set({"mr.cloud.notifiedHangouts":!0}, function() {
    chrome.runtime.lastError && $logger$jscomp$14$$.$warning$("Error setting notified Hangout privacy.", chrome.runtime.lastError);
  });
}, $JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting$$ = function($JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting$self$$) {
  return $JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting_$$().catch(function() {
    return $JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting_$$().catch(function($error$jscomp$68$$) {
      $JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting$self$$.$logger_$.$warning$("Error retrieving hangouts notified setting.", $error$jscomp$68$$);
      return !1;
    });
  });
}, $JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting_$$ = function() {
  return $JSCompiler_StaticMethods_getItem_$$("mr.cloud.notifiedHangouts").then(function($items$jscomp$5$$) {
    return !!$items$jscomp$5$$["mr.cloud.notifiedHangouts"];
  });
};
var $module$contents$mr$cloud$slarti$DevicesService_VALID_DEVICE_FIELDS$$ = new Map([["displayName", "display_name"], ["description", "description"], ["type", "type"], ["status", "status"], ["state", "state"], ["commandDefs", "command_defs"]]), $module$exports$mr$cloud$slarti$DevicesService$$ = function($identityService$jscomp$8$$, $fetcher$jscomp$3$$) {
  $module$exports$mr$cloud$slarti$Api$$.call(this, $identityService$jscomp$8$$, $fetcher$jscomp$3$$);
};
$$jscomp$inherits$$($module$exports$mr$cloud$slarti$DevicesService$$, $module$exports$mr$cloud$slarti$Api$$);
$JSCompiler_prototypeAlias$$ = $module$exports$mr$cloud$slarti$DevicesService$$.prototype;
$JSCompiler_prototypeAlias$$.act = function($deviceId$jscomp$18_request$jscomp$61$$, $gcmRegId$jscomp$4$$) {
  $deviceId$jscomp$18_request$jscomp$61$$ = new $module$exports$mr$cloud$slarti$FetchRequest$$({method:"POST", baseUrl:this.$b$, $pathParts$:["devices:act"], $identityService$:this.$identityService$, body:{gcmId:$gcmRegId$jscomp$4$$, id:$deviceId$jscomp$18_request$jscomp$61$$}});
  return this.$f$.execute($deviceId$jscomp$18_request$jscomp$61$$).then(function($response$jscomp$30$$) {
    return $response$jscomp$30$$;
  });
};
$JSCompiler_prototypeAlias$$.create = function($device$jscomp$5_request$jscomp$62$$) {
  $device$jscomp$5_request$jscomp$62$$ = new $module$exports$mr$cloud$slarti$FetchRequest$$({method:"POST", baseUrl:this.$b$, $pathParts$:["devices"], $identityService$:this.$identityService$, body:$device$jscomp$5_request$jscomp$62$$});
  return this.$f$.execute($device$jscomp$5_request$jscomp$62$$).then(function($response$jscomp$31$$) {
    return $response$jscomp$31$$;
  });
};
$JSCompiler_prototypeAlias$$.delete = function($deviceId$jscomp$19_request$jscomp$63$$) {
  $deviceId$jscomp$19_request$jscomp$63$$ = new $module$exports$mr$cloud$slarti$FetchRequest$$({method:"DELETE", baseUrl:this.$b$, $pathParts$:["devices", $deviceId$jscomp$19_request$jscomp$63$$], $identityService$:this.$identityService$});
  return this.$f$.execute($deviceId$jscomp$19_request$jscomp$63$$);
};
$JSCompiler_prototypeAlias$$.get = function($deviceId$jscomp$20_request$jscomp$64$$) {
  $deviceId$jscomp$20_request$jscomp$64$$ = new $module$exports$mr$cloud$slarti$FetchRequest$$({method:"GET", baseUrl:this.$b$, $pathParts$:["devices", $deviceId$jscomp$20_request$jscomp$64$$], $identityService$:this.$identityService$});
  return this.$f$.execute($deviceId$jscomp$20_request$jscomp$64$$).then(function($response$jscomp$32$$) {
    return $response$jscomp$32$$;
  });
};
$JSCompiler_prototypeAlias$$.list = function($$jscomp$destructuring$var21_permission$jscomp$1$$) {
  var $request$jscomp$65_type$jscomp$222$$ = $$jscomp$destructuring$var21_permission$jscomp$1$$.type, $status$jscomp$9$$ = $$jscomp$destructuring$var21_permission$jscomp$1$$.status;
  $$jscomp$destructuring$var21_permission$jscomp$1$$ = $$jscomp$destructuring$var21_permission$jscomp$1$$.permission;
  var $params$jscomp$25$$ = {};
  $request$jscomp$65_type$jscomp$222$$ && ($params$jscomp$25$$.type = $request$jscomp$65_type$jscomp$222$$);
  $status$jscomp$9$$ && ($params$jscomp$25$$.status = $status$jscomp$9$$);
  $$jscomp$destructuring$var21_permission$jscomp$1$$ && ($params$jscomp$25$$.permission = $$jscomp$destructuring$var21_permission$jscomp$1$$);
  $request$jscomp$65_type$jscomp$222$$ = new $module$exports$mr$cloud$slarti$FetchRequest$$({method:"GET", baseUrl:this.$b$, $pathParts$:["devices"], $queryParams$:$params$jscomp$25$$, $identityService$:this.$identityService$});
  return this.$f$.execute($request$jscomp$65_type$jscomp$222$$).then(function($response$jscomp$33$$) {
    return $response$jscomp$33$$.device || [];
  });
};
$JSCompiler_prototypeAlias$$.update = function($deviceId$jscomp$21_request$jscomp$66$$, $changes$jscomp$2$$) {
  for (var $updateMask$jscomp$1$$ = [], $device$jscomp$6$$ = {}, $$jscomp$iter$246$$ = $$jscomp$makeIterator$$($module$contents$mr$cloud$slarti$DevicesService_VALID_DEVICE_FIELDS$$.keys()), $$jscomp$key$field$jscomp$1_field$jscomp$115$$ = $$jscomp$iter$246$$.next(); !$$jscomp$key$field$jscomp$1_field$jscomp$115$$.done; $$jscomp$key$field$jscomp$1_field$jscomp$115$$ = $$jscomp$iter$246$$.next()) {
    $$jscomp$key$field$jscomp$1_field$jscomp$115$$ = $$jscomp$key$field$jscomp$1_field$jscomp$115$$.value, $changes$jscomp$2$$[$$jscomp$key$field$jscomp$1_field$jscomp$115$$] && ($device$jscomp$6$$[$$jscomp$key$field$jscomp$1_field$jscomp$115$$] = $changes$jscomp$2$$[$$jscomp$key$field$jscomp$1_field$jscomp$115$$], $updateMask$jscomp$1$$.push($module$contents$mr$cloud$slarti$DevicesService_VALID_DEVICE_FIELDS$$.get($$jscomp$key$field$jscomp$1_field$jscomp$115$$)));
  }
  $goog$asserts$assert$$($updateMask$jscomp$1$$.length, "No valid changes: " + $deviceId$jscomp$21_request$jscomp$66$$ + ", " + JSON.stringify($changes$jscomp$2$$, null, 2));
  $device$jscomp$6$$.id = $deviceId$jscomp$21_request$jscomp$66$$;
  $deviceId$jscomp$21_request$jscomp$66$$ = new $module$exports$mr$cloud$slarti$FetchRequest$$({method:"PUT", baseUrl:this.$b$, $pathParts$:["devices", $deviceId$jscomp$21_request$jscomp$66$$], $identityService$:this.$identityService$, body:{device:$device$jscomp$6$$, updateMask:$updateMask$jscomp$1$$}});
  return this.$f$.execute($deviceId$jscomp$21_request$jscomp$66$$).then(function($response$jscomp$34$$) {
    return $response$jscomp$34$$;
  });
};
var $module$exports$mr$cloud$slarti$SinkDiscoveryService$$ = function($commandsService$jscomp$1$$, $devicesService$$, $sinkDiscoveryCallbacks$jscomp$4$$, $messageHandler$$, $gcmRegistration$$, $sinkCache$$) {
  $sinkCache$$ = void 0 === $sinkCache$$ ? null : $sinkCache$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.slarti.SinkDiscoveryService");
  this.$m$ = $commandsService$jscomp$1$$;
  this.$g$ = $devicesService$$;
  this.$f$ = $sinkDiscoveryCallbacks$jscomp$4$$;
  this.$l$ = $messageHandler$$;
  this.$h$ = $gcmRegistration$$;
  this.$b$ = $sinkCache$$ || new $mr$cloud$discovery$SinkCache$$(this.$o$.bind(this), $sinkDiscoveryCallbacks$jscomp$4$$, 36E5);
  $module$exports$mr$cloud$slarti$GcmEventListener$get$$().addListener();
  $mr$PersistentDataManager$register$$(this);
  $mr$Module$onModuleLoaded$$("mr.cloud.slarti.SinkDiscoveryService", this);
};
$$jscomp$inherits$$($module$exports$mr$cloud$slarti$SinkDiscoveryService$$, $mr$Module$$);
$module$exports$mr$cloud$slarti$SinkDiscoveryService$$.prototype.$module$exports$mr$cloud$slarti$SinkDiscoveryService_prototype$getSinks$ = function() {
  $JSCompiler_StaticMethods_ensureRegistered$$(this.$h$).catch(function() {
  });
  return this.$b$.$module$exports$mr$cloud$slarti$SinkDiscoveryService_prototype$getSinks$().filter(function($sink$jscomp$95$$) {
    return $sink$jscomp$95$$.isAvailable;
  });
};
$module$exports$mr$cloud$slarti$SinkDiscoveryService$$.prototype.$getSinkById$ = function($id$jscomp$78$$) {
  return this.$b$.$getSinkById$($id$jscomp$78$$);
};
$module$exports$mr$cloud$slarti$SinkDiscoveryService$$.prototype.handleEvent = function($event$jscomp$26$$, $content$jscomp$16$$) {
  if ($event$jscomp$26$$ != chrome.gcm.onMessage) {
    throw Error("Unhandled event: expected chrome.gcm.onMessage");
  }
  $goog$asserts$assert$$("307539924703" == $content$jscomp$16$$.from);
  $JSCompiler_StaticMethods_handleEventAsync_$$(this, $content$jscomp$16$$);
};
var $JSCompiler_StaticMethods_handleEventAsync_$$ = function($JSCompiler_StaticMethods_handleEventAsync_$self$$, $content$jscomp$17$$) {
  var $notification$jscomp$3$$ = JSON.parse($content$jscomp$17$$.data.data);
  $JSCompiler_StaticMethods_handleEventAsync_$self$$.$logger_$.info("Received Slarti GCM notification: " + $notification$jscomp$3$$.type);
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_handleEventAsync_$self$$.$logger_$, function() {
    return "Got notification: " + JSON.stringify($notification$jscomp$3$$);
  });
  switch($notification$jscomp$3$$.type) {
    case "DEVICE_ADDED":
      $JSCompiler_StaticMethods_resolveDevice_$$($JSCompiler_StaticMethods_handleEventAsync_$self$$, $notification$jscomp$3$$).then(function($device$jscomp$7_sink$jscomp$inline_2366$$) {
        "cast-receiver" == $device$jscomp$7_sink$jscomp$inline_2366$$.type && ($device$jscomp$7_sink$jscomp$inline_2366$$ = $JSCompiler_StaticMethods_deviceToSink_$$($device$jscomp$7_sink$jscomp$inline_2366$$), $JSCompiler_StaticMethods_handleEventAsync_$self$$.$b$.$b$.set($device$jscomp$7_sink$jscomp$inline_2366$$.id, $device$jscomp$7_sink$jscomp$inline_2366$$), $JSCompiler_StaticMethods_onSinksAdded$$($JSCompiler_StaticMethods_handleEventAsync_$self$$.$f$, [$device$jscomp$7_sink$jscomp$inline_2366$$.$mrSink$]));
      });
      break;
    case "DEVICE_CHANGED":
      $JSCompiler_StaticMethods_resolveDevice_$$($JSCompiler_StaticMethods_handleEventAsync_$self$$, $notification$jscomp$3$$).then(function($device$jscomp$8$$) {
        if ("cast-receiver" == $device$jscomp$8$$.type) {
          var $sinkId$jscomp$inline_2370$$ = $JSCompiler_StaticMethods_generateId$$($module$contents$mr$SinkUtils_SinkUtils$getInstance$$(), $goog$asserts$assert$$($device$jscomp$8$$.id)), $sink$jscomp$inline_2371$$ = $JSCompiler_StaticMethods_handleEventAsync_$self$$.$b$.$getSinkById$($sinkId$jscomp$inline_2370$$);
          $sink$jscomp$inline_2371$$ && ($goog$asserts$assert$$($sink$jscomp$inline_2371$$.deviceId == $device$jscomp$8$$.id), $goog$asserts$assert$$($sink$jscomp$inline_2371$$.id == $sinkId$jscomp$inline_2370$$), $sink$jscomp$inline_2371$$.displayName = $goog$asserts$assert$$($device$jscomp$8$$.displayName), $sink$jscomp$inline_2371$$.isAvailable = "ONLINE" == $device$jscomp$8$$.status, $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksUpdated$$($JSCompiler_StaticMethods_handleEventAsync_$self$$.$f$, 
          [$sink$jscomp$inline_2371$$.$mrSink$]));
        }
      });
      break;
    case "DEVICE_REMOVED":
      $JSCompiler_StaticMethods_onDeviceRemoved_$$($JSCompiler_StaticMethods_handleEventAsync_$self$$, $JSCompiler_StaticMethods_getDeviceId_$$($notification$jscomp$3$$));
      Promise.resolve();
      break;
    case "COMMAND_CHANGED":
      $JSCompiler_StaticMethods_resolveCommand_$$($JSCompiler_StaticMethods_handleEventAsync_$self$$, $notification$jscomp$3$$).then(function($command$jscomp$12$$) {
        var $JSCompiler_StaticMethods_onCommandChanged$self$jscomp$inline_2373$$ = $JSCompiler_StaticMethods_handleEventAsync_$self$$.$l$, $commandId$jscomp$inline_2375$$ = $goog$asserts$assert$$($command$jscomp$12$$.id), $commandInfo$jscomp$inline_2376_inFinalState$jscomp$inline_2382$$ = $JSCompiler_StaticMethods_onCommandChanged$self$jscomp$inline_2373$$.$f$.get($commandId$jscomp$inline_2375$$);
        if ($commandInfo$jscomp$inline_2376_inFinalState$jscomp$inline_2382$$) {
          $goog$asserts$assert$$("stream" == $command$jscomp$12$$.name);
          var $routeId$jscomp$inline_2377$$ = $commandInfo$jscomp$inline_2376_inFinalState$jscomp$inline_2382$$.routeId, $sinkId$jscomp$inline_2378$$ = $commandInfo$jscomp$inline_2376_inFinalState$jscomp$inline_2382$$.sinkId, $issueMessage$jscomp$inline_2388_resolve$jscomp$inline_2379$$ = $commandInfo$jscomp$inline_2376_inFinalState$jscomp$inline_2382$$.resolve, $reject$jscomp$inline_2380$$ = $commandInfo$jscomp$inline_2376_inFinalState$jscomp$inline_2382$$.reject, $isKnockingRequest$jscomp$inline_2381$$ = 
          $commandInfo$jscomp$inline_2376_inFinalState$jscomp$inline_2382$$.$isKnockingRequest$;
          $commandInfo$jscomp$inline_2376_inFinalState$jscomp$inline_2382$$ = !0;
          try {
            var $$jscomp$inline_2383$$ = JSON.parse($command$jscomp$12$$.results || "{}"), $sessionDescription$jscomp$inline_2384$$ = $$jscomp$inline_2383$$.sessionDescription, $errorCode$jscomp$inline_2385$$ = $$jscomp$inline_2383$$.errorCode, $errorText$jscomp$inline_2386$$ = $$jscomp$inline_2383$$.errorText;
            switch($command$jscomp$12$$.status) {
              case "SUCCESS":
                $issueMessage$jscomp$inline_2388_resolve$jscomp$inline_2379$$($JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_onCommandChanged$self$jscomp$inline_2373$$.$b$, new $mr$webrtc$Message$$("ANSWER", $goog$asserts$assert$$($sessionDescription$jscomp$inline_2384$$)), $routeId$jscomp$inline_2377$$));
                $isKnockingRequest$jscomp$inline_2381$$ && $module$exports$mr$cloud$CloudAnalytics$recordKnockResult$$(0);
                break;
              case "ERROR":
              case "TIMEOUT":
                var $isTimeout$jscomp$inline_2387$$ = "TIMEOUT" == $command$jscomp$12$$.status;
                $issueMessage$jscomp$inline_2388_resolve$jscomp$inline_2379$$ = $mr$cloud$Messages$MSG_MR_CONNECT_FAILED$$;
                "KNOCK_DENIED" == $errorCode$jscomp$inline_2385$$ && ($module$exports$mr$cloud$CloudAnalytics$recordKnockResult$$($isTimeout$jscomp$inline_2387$$ ? 2 : 1), $issueMessage$jscomp$inline_2388_resolve$jscomp$inline_2379$$ = $isTimeout$jscomp$inline_2387$$ ? $mr$cloud$Messages$MSG_KNOCK_TIMEOUT$$ : $mr$cloud$Messages$MSG_KNOCK_DENIED$$);
                $JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_onCommandChanged$self$jscomp$inline_2373$$.$b$, $routeId$jscomp$inline_2377$$, 7, $JSCompiler_StaticMethods_mr_Issue_prototype$setSinkId$$($JSCompiler_StaticMethods_setRouteId$$($JSCompiler_StaticMethods_setIsBlocking$$(new $mr$Issue$$($issueMessage$jscomp$inline_2388_resolve$jscomp$inline_2379$$, "warning")), $routeId$jscomp$inline_2377$$), $sinkId$jscomp$inline_2378$$));
                throw Error("Slarti command " + $commandId$jscomp$inline_2375$$ + " failed with status: " + ($command$jscomp$12$$.status + ", errorCode: " + $errorCode$jscomp$inline_2385$$ + ", errorText: ") + $errorText$jscomp$inline_2386$$);
              default:
                $commandInfo$jscomp$inline_2376_inFinalState$jscomp$inline_2382$$ = !1;
            }
          } catch ($error$jscomp$inline_2389$$) {
            $reject$jscomp$inline_2380$$($error$jscomp$inline_2389$$);
          } finally {
            $commandInfo$jscomp$inline_2376_inFinalState$jscomp$inline_2382$$ && $JSCompiler_StaticMethods_onCommandChanged$self$jscomp$inline_2373$$.$f$.delete($commandId$jscomp$inline_2375$$);
          }
        } else {
          $JSCompiler_StaticMethods_onCommandChanged$self$jscomp$inline_2373$$.$logger_$.$warning$("Received update to unknown command with name = " + ($command$jscomp$12$$.name + " and id = " + $commandId$jscomp$inline_2375$$));
        }
      });
      break;
    default:
      Promise.resolve();
  }
};
$module$exports$mr$cloud$slarti$SinkDiscoveryService$$.prototype.$o$ = function() {
  return this.$g$.list({type:"cast-receiver"}).then(function($devices$jscomp$2$$) {
    return $devices$jscomp$2$$.map(function($device$jscomp$9$$) {
      return $JSCompiler_StaticMethods_deviceToSink_$$($device$jscomp$9$$);
    });
  });
};
$module$exports$mr$cloud$slarti$SinkDiscoveryService$$.prototype.$getStorageKey$ = function() {
  return "SlartiSinkDiscoveryService";
};
$module$exports$mr$cloud$slarti$SinkDiscoveryService$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [{cache:$JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$$(this.$b$)}];
};
$module$exports$mr$cloud$slarti$SinkDiscoveryService$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$15$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$15$$ && $JSCompiler_StaticMethods_loadFromObject$$(this.$b$, $savedData$jscomp$15$$.cache);
};
var $JSCompiler_StaticMethods_onDeviceRemoved_$$ = function($JSCompiler_StaticMethods_onDeviceRemoved_$self$$, $deviceId$jscomp$22$$) {
  var $sinkId$jscomp$56$$ = $JSCompiler_StaticMethods_generateId$$($module$contents$mr$SinkUtils_SinkUtils$getInstance$$(), $deviceId$jscomp$22$$), $sink$jscomp$98$$ = $JSCompiler_StaticMethods_onDeviceRemoved_$self$$.$b$.$getSinkById$($sinkId$jscomp$56$$);
  $sink$jscomp$98$$ && ($goog$asserts$assert$$($sink$jscomp$98$$.deviceId == $deviceId$jscomp$22$$), $goog$asserts$assert$$($sink$jscomp$98$$.id == $sinkId$jscomp$56$$), $JSCompiler_StaticMethods_onDeviceRemoved_$self$$.$b$.$b$.delete($sinkId$jscomp$56$$), $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$$($JSCompiler_StaticMethods_onDeviceRemoved_$self$$.$f$, [$sink$jscomp$98$$.$mrSink$]));
}, $JSCompiler_StaticMethods_getDeviceId_$$ = function($deviceInfo_notification$jscomp$4$$) {
  $deviceInfo_notification$jscomp$4$$ = $goog$asserts$assert$$($deviceInfo_notification$jscomp$4$$.deviceInfo);
  return $deviceInfo_notification$jscomp$4$$.device ? $goog$asserts$assert$$($deviceInfo_notification$jscomp$4$$.device.id) : $goog$asserts$assert$$($deviceInfo_notification$jscomp$4$$.deviceId);
}, $JSCompiler_StaticMethods_resolveDevice_$$ = function($JSCompiler_StaticMethods_resolveDevice_$self$$, $deviceInfo$jscomp$1_notification$jscomp$5$$) {
  $deviceInfo$jscomp$1_notification$jscomp$5$$ = $goog$asserts$assert$$($deviceInfo$jscomp$1_notification$jscomp$5$$.deviceInfo);
  return $deviceInfo$jscomp$1_notification$jscomp$5$$.device ? Promise.resolve($deviceInfo$jscomp$1_notification$jscomp$5$$.device) : $JSCompiler_StaticMethods_resolveDevice_$self$$.$g$.get($goog$asserts$assert$$($deviceInfo$jscomp$1_notification$jscomp$5$$.deviceId));
}, $JSCompiler_StaticMethods_resolveCommand_$$ = function($JSCompiler_StaticMethods_resolveCommand_$self$$, $commandInfo$jscomp$1_notification$jscomp$6$$) {
  $commandInfo$jscomp$1_notification$jscomp$6$$ = $goog$asserts$assert$$($commandInfo$jscomp$1_notification$jscomp$6$$.commandInfo);
  return $commandInfo$jscomp$1_notification$jscomp$6$$.command ? Promise.resolve($commandInfo$jscomp$1_notification$jscomp$6$$.command) : $JSCompiler_StaticMethods_resolveCommand_$self$$.$m$.get($goog$asserts$assert$$($commandInfo$jscomp$1_notification$jscomp$6$$.commandId));
}, $JSCompiler_StaticMethods_deviceToSink_$$ = function($device$jscomp$12$$) {
  return new $module$exports$mr$cloud$slarti$Sink$$($goog$asserts$assert$$($device$jscomp$12$$.id), $goog$asserts$assert$$($device$jscomp$12$$.displayName), "ONLINE" == $device$jscomp$12$$.status);
};
var $realtime$network$CookieStorage$$ = function() {
  this.$b$ = null;
}, $JSCompiler_StaticMethods_updateFromHangoutCookie_$$ = function($JSCompiler_StaticMethods_updateFromHangoutCookie_$self$$, $hangoutCookie$jscomp$2$$) {
  if (!$JSCompiler_StaticMethods_updateFromHangoutCookie_$self$$.$b$ || $jspb$Message$getField$$($JSCompiler_StaticMethods_updateFromHangoutCookie_$self$$.$b$, 2) < $jspb$Message$getField$$($hangoutCookie$jscomp$2$$, 2)) {
    $JSCompiler_StaticMethods_updateFromHangoutCookie_$self$$.$b$ = $jspb$Message$cloneMessage$$($hangoutCookie$jscomp$2$$);
  }
}, $JSCompiler_StaticMethods_getAsMeetingToken$$ = function($JSCompiler_StaticMethods_getAsMeetingToken$self$$) {
  return $JSCompiler_StaticMethods_getAsMeetingToken$self$$.$b$ ? $jspb$Message$getField$$($JSCompiler_StaticMethods_getAsMeetingToken$self$$.$b$, 2) + ";" + $jspb$Message$getField$$($JSCompiler_StaticMethods_getAsMeetingToken$self$$.$b$, 1) : null;
};
var $mr$cloud$CloudComponentProvider$$ = function() {
  this.$G$ = this.$m$ = this.$M$ = this.$K$ = this.$J$ = this.$H$ = this.$g$ = this.$C$ = this.$h$ = this.$f$ = this.$l$ = this.$Z$ = this.$Y$ = this.$T$ = this.$L$ = this.$V$ = this.$W$ = this.$R$ = this.$O$ = this.$o$ = this.$s$ = this.$b$ = null;
}, $JSCompiler_StaticMethods_getCookieStorage$$ = function() {
  var $JSCompiler_StaticMethods_getCookieStorage$self$$ = $mr$cloud$CloudComponentProvider$$.$getInstance$();
  null == $JSCompiler_StaticMethods_getCookieStorage$self$$.$m$ && ($JSCompiler_StaticMethods_getCookieStorage$self$$.$m$ = new $realtime$network$CookieStorage$$);
  return $JSCompiler_StaticMethods_getCookieStorage$self$$.$m$;
}, $JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$ = function($JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$self$$) {
  null == $JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$self$$.$b$ && ($JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$self$$.$b$ = new $mr$cloud$identity$IdentityService$$);
  return $JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$self$$.$b$;
}, $JSCompiler_StaticMethods_getGapiService$$ = function($JSCompiler_StaticMethods_getGapiService$self$$) {
  null == $JSCompiler_StaticMethods_getGapiService$self$$.$s$ && ($JSCompiler_StaticMethods_getGapiService$self$$.$s$ = new $mr$cloud$gapi$GapiService$$($JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$($JSCompiler_StaticMethods_getGapiService$self$$)));
  return $JSCompiler_StaticMethods_getGapiService$self$$.$s$;
}, $JSCompiler_StaticMethods_getFetcher$$ = function($JSCompiler_StaticMethods_getFetcher$self$$) {
  null == $JSCompiler_StaticMethods_getFetcher$self$$.$o$ && ($JSCompiler_StaticMethods_getFetcher$self$$.$o$ = new $module$exports$mr$cloud$slarti$Fetcher$$);
  return $JSCompiler_StaticMethods_getFetcher$self$$.$o$;
}, $JSCompiler_StaticMethods_getSlartiCommandsService$$ = function($JSCompiler_StaticMethods_getSlartiCommandsService$self$$) {
  null == $JSCompiler_StaticMethods_getSlartiCommandsService$self$$.$O$ && ($JSCompiler_StaticMethods_getSlartiCommandsService$self$$.$O$ = new $module$exports$mr$cloud$slarti$CommandsService$$($JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$($JSCompiler_StaticMethods_getSlartiCommandsService$self$$), $JSCompiler_StaticMethods_getFetcher$$($JSCompiler_StaticMethods_getSlartiCommandsService$self$$)));
  return $JSCompiler_StaticMethods_getSlartiCommandsService$self$$.$O$;
}, $JSCompiler_StaticMethods_getSlartiMessageHandler$$ = function($JSCompiler_StaticMethods_getSlartiMessageHandler$self$$, $provider$jscomp$23$$) {
  null == $JSCompiler_StaticMethods_getSlartiMessageHandler$self$$.$L$ && ($JSCompiler_StaticMethods_getSlartiMessageHandler$self$$.$L$ = new $module$exports$mr$cloud$slarti$MessageHandler$$($JSCompiler_StaticMethods_getSlartiCommandsService$$($JSCompiler_StaticMethods_getSlartiMessageHandler$self$$), $JSCompiler_StaticMethods_getTurnCredentialService$$($JSCompiler_StaticMethods_getSlartiMessageHandler$self$$), $provider$jscomp$23$$));
  return $JSCompiler_StaticMethods_getSlartiMessageHandler$self$$.$L$;
}, $JSCompiler_StaticMethods_getGcdMessageSender$$ = function($JSCompiler_StaticMethods_getGcdMessageSender$self$$) {
  null == $JSCompiler_StaticMethods_getGcdMessageSender$self$$.$C$ && ($JSCompiler_StaticMethods_getGcdMessageSender$self$$.$C$ = new $mr$cloud$messaging$weave$MessageSender$$($JSCompiler_StaticMethods_getGapiService$$($JSCompiler_StaticMethods_getGcdMessageSender$self$$)));
  return $JSCompiler_StaticMethods_getGcdMessageSender$self$$.$C$;
}, $JSCompiler_StaticMethods_getTurnCredentialService$$ = function($JSCompiler_StaticMethods_getTurnCredentialService$self$$) {
  null == $JSCompiler_StaticMethods_getTurnCredentialService$self$$.$M$ && ($JSCompiler_StaticMethods_getTurnCredentialService$self$$.$M$ = new $module$exports$mr$cloud$turn$CredentialService$$($JSCompiler_StaticMethods_getGapiService$$($JSCompiler_StaticMethods_getTurnCredentialService$self$$)));
  return $JSCompiler_StaticMethods_getTurnCredentialService$self$$.$M$;
}, $JSCompiler_StaticMethods_getGcmRegistrationSerializer$$ = function($JSCompiler_StaticMethods_getGcmRegistrationSerializer$self$$) {
  null == $JSCompiler_StaticMethods_getGcmRegistrationSerializer$self$$.$G$ && ($JSCompiler_StaticMethods_getGcmRegistrationSerializer$self$$.$G$ = new $module$exports$mr$cloud$GcmRegistrationSerializer$$);
  return $JSCompiler_StaticMethods_getGcmRegistrationSerializer$self$$.$G$;
};
$goog$addSingletonGetter$$($mr$cloud$CloudComponentProvider$$);
var $mr$presentation$webrtc$CloudWebRtcSession$$ = function($route$jscomp$64$$, $sourceUrn$jscomp$75$$) {
  this.$g$ = $route$jscomp$64$$;
  this.$m$ = $sourceUrn$jscomp$75$$;
  this.$l$ = new $mr$PromiseResolver$$;
  this.$peerConnection_$ = this.$l$.$b$;
  this.$b$ = $JSCompiler_StaticMethods_getInternalMessenger$$($route$jscomp$64$$.id);
  this.$f$ = new $mr$PromiseResolver$$;
  this.$h$ = !1;
  $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$$(this);
  $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$$(this);
  this.$b$.sendMessage(new $mr$webrtc$Message$$("GET_TURN_CREDENTIALS"));
};
$mr$presentation$webrtc$CloudWebRtcSession$$.prototype.start = function() {
  var $$jscomp$this$jscomp$124$$ = this;
  return this.$peerConnection_$.then(function($pc$$) {
    if ($pc$$.$b$) {
      return Promise.reject(Error("Presentation already started"));
    }
    $pc$$.start();
    return $$jscomp$this$jscomp$124$$.$f$.$b$;
  });
};
$mr$presentation$webrtc$CloudWebRtcSession$$.prototype.stop = function() {
  var $$jscomp$this$jscomp$125$$ = this;
  this.$h$ = !1;
  return this.$peerConnection_$.then(function($pc$jscomp$1$$) {
    $pc$jscomp$1$$.stop();
    $$jscomp$this$jscomp$125$$.$peerConnection_$ = Promise.reject(Error("Peer connection has already been stopped"));
  });
};
var $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$$ = function($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$) {
  $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$b$.onMessage = function($message$jscomp$139$$) {
    if ($message$jscomp$139$$.type) {
      switch($message$jscomp$139$$.type) {
        case "TURN_CREDENTIALS":
          $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$l$.resolve(new $mr$webrtc$PeerConnection$$($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$g$.id, $message$jscomp$139$$.data.credentials));
          break;
        case "ANSWER":
          $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$peerConnection_$.then(function($pc$jscomp$3$$) {
            $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$$($pc$jscomp$3$$, $message$jscomp$139$$.data);
          });
          break;
        case "STOP":
          $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$f$.reject("Stop signal received");
          $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.stop();
          break;
        default:
          throw Error("Unknown message type: " + $message$jscomp$139$$.type);
      }
    } else {
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$peerConnection_$.then(function($pc$jscomp$2$$) {
        var $message$jscomp$inline_2397$$ = {type:"PRESENTATION_CONNECTION_MESSAGE", data:$message$jscomp$139$$};
        "string" == typeof $message$jscomp$inline_2397$$ ? $pc$jscomp$2$$.$h$.send($message$jscomp$inline_2397$$) : $pc$jscomp$2$$.$h$.send(JSON.stringify($message$jscomp$inline_2397$$));
      });
    }
  };
}, $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$$ = function($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$) {
  $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$peerConnection_$.then(function($pc$jscomp$4$$) {
    $JSCompiler_StaticMethods_setOnOfferDescriptionReady$$($pc$jscomp$4$$, function($description$jscomp$18$$) {
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$b$.sendMessage(new $mr$webrtc$Message$$("OFFER", new $mr$webrtc$OfferMessageData$$($description$jscomp$18$$, null, null, $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$m$, $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$g$.id)));
    });
    $JSCompiler_StaticMethods_setOnDataChannelMessage$$($pc$jscomp$4$$, function($message$jscomp$141_webRtcMessage$$) {
      $message$jscomp$141_webRtcMessage$$ = $mr$webrtc$Message$fromString$$($message$jscomp$141_webRtcMessage$$);
      "STOP" == $message$jscomp$141_webRtcMessage$$.type && $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.stop();
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$b$.sendMessage($message$jscomp$141_webRtcMessage$$);
    });
    $JSCompiler_StaticMethods_setOnConnectionSuccess$$($pc$jscomp$4$$, function() {
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$h$ = !0;
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$b$.sendMessage(new $mr$webrtc$Message$$("SESSION_START_SUCCESS"));
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$f$.resolve($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$g$);
    });
    $JSCompiler_StaticMethods_setOnConnectionClosed$$($pc$jscomp$4$$, function() {
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$b$.sendMessage(new $mr$webrtc$Message$$("SESSION_END"));
    });
    $JSCompiler_StaticMethods_setOnConnectionFailure$$($pc$jscomp$4$$, function($error$jscomp$69$$) {
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$h$ || $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$f$.reject($error$jscomp$69$$);
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$b$.sendMessage(new $mr$webrtc$Message$$("SESSION_FAILURE"));
    });
  });
};
var $mr$CloudProvider$$ = function() {
  this.$b$ = $mr$Init$providerManager_$$;
  this.$f$ = new Map;
  this.$J$ = new Map;
  this.$K$ = new Map;
  this.$o$ = [];
  this.$h$ = this.$M$ = this.$H$ = this.$L$ = this.$l$ = null;
  this.$m$ = this.$C$ = this.$g$ = !1;
  this.$G$ = new Map;
  this.$s$ = new Map;
  $mr$PersistentDataManager$register$$(this);
};
$mr$CloudProvider$$.prototype.getName = function() {
  return "cloud";
};
$mr$CloudProvider$$.prototype.initialize = function() {
  var $$jscomp$this$jscomp$128$$ = this;
  this.$logger_$.info("Initializing Cloud MRP");
  var $componentProvider$$ = $mr$cloud$CloudComponentProvider$$.$getInstance$();
  null == $componentProvider$$.$Z$ && (null == $componentProvider$$.$Y$ && ($componentProvider$$.$Y$ = new $mr$cloud$devices$WeaveDevicesService$$($JSCompiler_StaticMethods_getGapiService$$($componentProvider$$), $JSCompiler_StaticMethods_getGcmRegistrationSerializer$$($componentProvider$$))), $componentProvider$$.$Z$ = new $mr$cloud$discovery$WeaveSinkDiscoveryService$$($componentProvider$$.$Y$, this));
  this.$o$.push($componentProvider$$.$Z$);
  if (null == $componentProvider$$.$V$) {
    var $JSCompiler_temp_const$jscomp$6444_JSCompiler_temp_const$jscomp$6447_JSCompiler_temp_const$jscomp$6449$$ = $JSCompiler_StaticMethods_getSlartiCommandsService$$($componentProvider$$);
    null == $componentProvider$$.$R$ && ($componentProvider$$.$R$ = new $module$exports$mr$cloud$slarti$DevicesService$$($JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$($componentProvider$$), $JSCompiler_StaticMethods_getFetcher$$($componentProvider$$)));
    var $JSCompiler_inline_result$jscomp$6450_JSCompiler_temp_const$jscomp$7932$$ = $componentProvider$$.$R$, $JSCompiler_temp_const$jscomp$7931$$ = $JSCompiler_StaticMethods_getSlartiMessageHandler$$($componentProvider$$, this);
    null == $componentProvider$$.$T$ && (null == $componentProvider$$.$W$ && ($componentProvider$$.$W$ = new $module$exports$mr$cloud$slarti$UserService$$($JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$($componentProvider$$), $JSCompiler_StaticMethods_getFetcher$$($componentProvider$$))), $componentProvider$$.$T$ = new $module$exports$mr$cloud$slarti$GcmRegistration$$($componentProvider$$.$W$, $goog$asserts$assert$$(window.localStorage), $JSCompiler_StaticMethods_getGcmRegistrationSerializer$$($componentProvider$$)));
    $componentProvider$$.$V$ = new $module$exports$mr$cloud$slarti$SinkDiscoveryService$$($JSCompiler_temp_const$jscomp$6444_JSCompiler_temp_const$jscomp$6447_JSCompiler_temp_const$jscomp$6449$$, $JSCompiler_inline_result$jscomp$6450_JSCompiler_temp_const$jscomp$7932$$, this, $JSCompiler_temp_const$jscomp$7931$$, $componentProvider$$.$T$);
  }
  this.$o$.push($componentProvider$$.$V$);
  null == $componentProvider$$.$h$ && (null == $componentProvider$$.$f$ && ($componentProvider$$.$f$ = new $mr$cloud$calendar$CalendarService$$($JSCompiler_StaticMethods_getGapiService$$($componentProvider$$), $JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$($componentProvider$$))), $JSCompiler_temp_const$jscomp$6444_JSCompiler_temp_const$jscomp$6447_JSCompiler_temp_const$jscomp$6449$$ = $componentProvider$$.$f$, null == $componentProvider$$.$l$ && ($componentProvider$$.$l$ = 
  new $mr$cloud$mesi$MesiService$$($JSCompiler_StaticMethods_getGapiService$$($componentProvider$$))), $componentProvider$$.$h$ = new $mr$cloud$discovery$HangoutSinkDiscoveryService$$($JSCompiler_temp_const$jscomp$6444_JSCompiler_temp_const$jscomp$6447_JSCompiler_temp_const$jscomp$6449$$, $componentProvider$$.$l$, this));
  this.$l$ = $componentProvider$$.$h$;
  this.$o$.push(this.$l$);
  this.$L$ = $JSCompiler_StaticMethods_getGcdMessageSender$$($componentProvider$$);
  $JSCompiler_StaticMethods_getSlartiMessageHandler$$($componentProvider$$, this);
  this.$H$ = $JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$($componentProvider$$);
  null == $componentProvider$$.$J$ && ($JSCompiler_temp_const$jscomp$6444_JSCompiler_temp_const$jscomp$6447_JSCompiler_temp_const$jscomp$6449$$ = $JSCompiler_StaticMethods_getSlartiMessageHandler$$($componentProvider$$, this), null == $componentProvider$$.$g$ && ($componentProvider$$.$g$ = new $mr$cloud$messaging$WeaveMessageHandler$$($JSCompiler_StaticMethods_getGcdMessageSender$$($componentProvider$$), $JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$($componentProvider$$), 
  $JSCompiler_StaticMethods_getTurnCredentialService$$($componentProvider$$), this)), $JSCompiler_inline_result$jscomp$6450_JSCompiler_temp_const$jscomp$7932$$ = $componentProvider$$.$g$, null == $componentProvider$$.$H$ && ($componentProvider$$.$H$ = new $mr$cloud$messaging$HangoutMessageHandler$$($JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$($componentProvider$$), this)), $componentProvider$$.$J$ = new $mr$cloud$messaging$MessageDispatcher$$($JSCompiler_temp_const$jscomp$6444_JSCompiler_temp_const$jscomp$6447_JSCompiler_temp_const$jscomp$6449$$, 
  $JSCompiler_inline_result$jscomp$6450_JSCompiler_temp_const$jscomp$7932$$, $componentProvider$$.$H$, this));
  this.$M$ = $componentProvider$$.$J$;
  null == $componentProvider$$.$K$ && ($componentProvider$$.$K$ = new $mr$cloud$settings$SettingsService$$);
  this.$h$ = $componentProvider$$.$K$;
  $JSCompiler_StaticMethods_getCloudEnabledSetting$$(this.$h$).then(function($enabled$jscomp$8$$) {
    $$jscomp$this$jscomp$128$$.$g$ = $enabled$jscomp$8$$;
    $$jscomp$this$jscomp$128$$.$logger_$.info("Cloud enabled setting: " + $$jscomp$this$jscomp$128$$.$g$);
  });
  $JSCompiler_StaticMethods_getCloudOnSetting$$(this.$h$).then(function($enabled$jscomp$9$$) {
    $$jscomp$this$jscomp$128$$.$C$ = $enabled$jscomp$9$$;
  });
  $JSCompiler_StaticMethods_setOnCloudSettingChangedCallback$$(this.$h$, function($enabled$jscomp$10$$) {
    $$jscomp$this$jscomp$128$$.$g$ = $enabled$jscomp$10$$;
    $$jscomp$this$jscomp$128$$.$logger_$.info("Cloud enabled setting: " + $$jscomp$this$jscomp$128$$.$g$);
    $$jscomp$this$jscomp$128$$.$g$ && $JSCompiler_StaticMethods_initiateSinkDiscovery_$$($$jscomp$this$jscomp$128$$);
  });
  $JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting$$(this.$h$).then(function($notified$$) {
    $$jscomp$this$jscomp$128$$.$m$ = $notified$$;
    $$jscomp$this$jscomp$128$$.$logger_$.info("Privacy notified setting: " + $$jscomp$this$jscomp$128$$.$m$);
  });
};
$mr$CloudProvider$$.prototype.$getRoutes$ = function() {
  return Array.from(this.$f$.values());
};
$mr$CloudProvider$$.prototype.$getAvailableSinks$ = function($sourceUrn$jscomp$76$$) {
  if (!$JSCompiler_StaticMethods_isCloudAllowed_$$(this, $sourceUrn$jscomp$76$$)) {
    return $mr$SinkList$EMPTY$$;
  }
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "GetAvailableSinks for " + $sourceUrn$jscomp$76$$);
  var $mrSinks$$ = [];
  $mrSinks$$ = $JSCompiler_StaticMethods_initiateSinkDiscovery_$$(this);
  this.$s$.clear();
  for (var $$jscomp$loop$393$$ = {}, $$jscomp$iter$247$$ = $$jscomp$makeIterator$$(this.$G$.values()), $$jscomp$key$routeSink$$ = $$jscomp$iter$247$$.next(); !$$jscomp$key$routeSink$$.done; $$jscomp$loop$393$$ = {$$jscomp$loop$prop$routeSink$394$:$$jscomp$loop$393$$.$$jscomp$loop$prop$routeSink$394$, $$jscomp$loop$prop$found$395$:$$jscomp$loop$393$$.$$jscomp$loop$prop$found$395$}, $$jscomp$key$routeSink$$ = $$jscomp$iter$247$$.next()) {
    $$jscomp$loop$393$$.$$jscomp$loop$prop$routeSink$394$ = $$jscomp$key$routeSink$$.value, $$jscomp$loop$393$$.$$jscomp$loop$prop$found$395$ = !1, $mrSinks$$.forEach(function($$jscomp$loop$393$jscomp$1$$) {
      return function($discoveredSink$$) {
        $discoveredSink$$.id == $$jscomp$loop$393$jscomp$1$$.$$jscomp$loop$prop$routeSink$394$.$mrSink$.id && ($$jscomp$loop$393$jscomp$1$$.$$jscomp$loop$prop$found$395$ = !0, $discoveredSink$$.friendlyName = $$jscomp$loop$393$jscomp$1$$.$$jscomp$loop$prop$routeSink$394$.$mrSink$.friendlyName);
      };
    }($$jscomp$loop$393$$)), $$jscomp$loop$393$$.$$jscomp$loop$prop$found$395$ || this.$s$.set($$jscomp$loop$393$$.$$jscomp$loop$prop$routeSink$394$.id, $$jscomp$loop$393$$.$$jscomp$loop$prop$routeSink$394$.$mrSink$);
  }
  $mrSinks$$ = $mrSinks$$.concat.apply($mrSinks$$, $$jscomp$arrayFromIterable$$(this.$s$.values()));
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, function() {
    return "Available sinks are..." + JSON.stringify($mrSinks$$);
  });
  this.$l$ && ($mrSinks$$ = $mrSinks$$.concat($mr$CloudProvider$PSEUDO_SINK_$$));
  return new $mr$SinkList$$($mrSinks$$, $mr$MediaSourceUtils$getWhitelistedOrigins$$($sourceUrn$jscomp$76$$));
};
var $JSCompiler_StaticMethods_initiateSinkDiscovery_$$ = function($JSCompiler_StaticMethods_initiateSinkDiscovery_$self$$) {
  var $mrSinks$jscomp$1$$ = [];
  $JSCompiler_StaticMethods_initiateSinkDiscovery_$self$$.$logger_$.info("Checking cloud discovery services");
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$h$ = $goog$now$$();
  $JSCompiler_StaticMethods_initiateSinkDiscovery_$self$$.$o$.forEach(function($retrieved_service$jscomp$9$$) {
    $retrieved_service$jscomp$9$$ = $retrieved_service$jscomp$9$$.$module$exports$mr$cloud$slarti$SinkDiscoveryService_prototype$getSinks$();
    $mrSinks$jscomp$1$$ = $mrSinks$jscomp$1$$.concat($retrieved_service$jscomp$9$$);
  });
  return $mrSinks$jscomp$1$$;
};
$JSCompiler_prototypeAlias$$ = $mr$CloudProvider$$.prototype;
$JSCompiler_prototypeAlias$$.startObservingMediaSinks = function() {
};
$JSCompiler_prototypeAlias$$.stopObservingMediaSinks = function() {
};
$JSCompiler_prototypeAlias$$.startObservingMediaRoutes = function() {
};
$JSCompiler_prototypeAlias$$.stopObservingMediaRoutes = function() {
};
$JSCompiler_prototypeAlias$$.$getSinkById$ = function($cloudSink$jscomp$7_id$jscomp$79$$) {
  return ($cloudSink$jscomp$7_id$jscomp$79$$ = $JSCompiler_StaticMethods_getCloudSinkById_$$(this, $cloudSink$jscomp$7_id$jscomp$79$$)) ? $cloudSink$jscomp$7_id$jscomp$79$$.$mrSink$ : null;
};
$JSCompiler_prototypeAlias$$.createRoute = function($sourceUrn$jscomp$79$$, $sinkId$jscomp$57$$, $presentationId$jscomp$32$$, $offTheRecord$jscomp$12$$, $cloudSink$jscomp$8_existingRoute_timeoutMillis$jscomp$15$$, $opt_origin$jscomp$8$$, $opt_tabId$jscomp$12$$) {
  var $$jscomp$this$jscomp$129$$ = this;
  this.$logger_$.info("createRoute called");
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "urn: " + $sourceUrn$jscomp$79$$ + " sinkId:" + $sinkId$jscomp$57$$);
  if ($cloudSink$jscomp$8_existingRoute_timeoutMillis$jscomp$15$$ = this.$J$.get($sinkId$jscomp$57$$)) {
    return $JSCompiler_StaticMethods_chain$$(this.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$updateMirroring$(this, $cloudSink$jscomp$8_existingRoute_timeoutMillis$jscomp$15$$, $sourceUrn$jscomp$79$$, $presentationId$jscomp$32$$, $opt_tabId$jscomp$12$$, function($route$jscomp$65$$) {
      $route$jscomp$65$$.mediaSource = $sourceUrn$jscomp$79$$;
      $route$jscomp$65$$.$mirrorInitData$.tabId = $opt_tabId$jscomp$12$$;
      return $module$contents$mr$CancellablePromise_CancellablePromise$resolve$$($route$jscomp$65$$);
    }), function($route$jscomp$66$$) {
      $$jscomp$this$jscomp$129$$.$b$.$onRouteUpdated$($route$jscomp$66$$);
      return $route$jscomp$66$$;
    });
  }
  $cloudSink$jscomp$8_existingRoute_timeoutMillis$jscomp$15$$ = $JSCompiler_StaticMethods_getCloudSinkById_$$(this, $sinkId$jscomp$57$$);
  return $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$$(this, $sourceUrn$jscomp$79$$, $cloudSink$jscomp$8_existingRoute_timeoutMillis$jscomp$15$$, $sinkId$jscomp$57$$, $presentationId$jscomp$32$$, $offTheRecord$jscomp$12$$, $opt_tabId$jscomp$12$$);
};
var $JSCompiler_StaticMethods_createRouteErrorHandler_$$ = function($JSCompiler_StaticMethods_createRouteErrorHandler_$self$$, $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_2431_JSCompiler_temp$jscomp$522_err$jscomp$46$$, $route$jscomp$67$$, $cloudSink$jscomp$9$$, $failReason$$) {
  $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_2431_JSCompiler_temp$jscomp$522_err$jscomp$46$$ instanceof $mr$RouteRequestError$$ && 2 == $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_2431_JSCompiler_temp$jscomp$522_err$jscomp$46$$.errorCode ? $JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_createRouteErrorHandler_$self$$, $route$jscomp$67$$, 6, null) : ($JSCompiler_StaticMethods_createRouteErrorHandler_$self$$.$logger_$.error("Error on start session", 
  $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_2431_JSCompiler_temp$jscomp$522_err$jscomp$46$$ instanceof Error ? $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_2431_JSCompiler_temp$jscomp$522_err$jscomp$46$$ : Error("Expected an Error value, got " + $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_2431_JSCompiler_temp$jscomp$522_err$jscomp$46$$)), $JSCompiler_StaticMethods_createRouteErrorHandler_$self$$.$f$.has($route$jscomp$67$$.id) && $JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_createRouteErrorHandler_$self$$, 
  $route$jscomp$67$$, $failReason$$, $JSCompiler_StaticMethods_mr_Issue_prototype$setSinkId$$(new $mr$Issue$$($mr$cloud$Messages$MSG_MR_CONNECT_FAILED$$, "warning"), $route$jscomp$67$$.sinkId)));
  if ($JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_2431_JSCompiler_temp$jscomp$522_err$jscomp$46$$ = $JSCompiler_StaticMethods_createRouteErrorHandler_$self$$.$l$) {
    $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_2431_JSCompiler_temp$jscomp$522_err$jscomp$46$$ = $JSCompiler_StaticMethods_createRouteErrorHandler_$self$$.$l$, $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_2431_JSCompiler_temp$jscomp$522_err$jscomp$46$$.$f$.delete($cloudSink$jscomp$9$$.deviceId) ? ($JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_2431_JSCompiler_temp$jscomp$522_err$jscomp$46$$.$b$.$b$.delete($cloudSink$jscomp$9$$.id), $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_2431_JSCompiler_temp$jscomp$522_err$jscomp$46$$ = 
    !0) : $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_2431_JSCompiler_temp$jscomp$522_err$jscomp$46$$ = !1;
  }
  $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_2431_JSCompiler_temp$jscomp$522_err$jscomp$46$$ && $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$$($JSCompiler_StaticMethods_createRouteErrorHandler_$self$$, [$cloudSink$jscomp$9$$.$mrSink$]);
}, $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$$ = function($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$, $sourceUrn$jscomp$80$$, $cloudSink$jscomp$10$$, $sinkId$jscomp$58$$, $presentationId$jscomp$33$$, $isHangout$jscomp$1_offTheRecord$jscomp$13$$, $opt_tabId$jscomp$13$$) {
  if ($isHangout$jscomp$1_offTheRecord$jscomp$13$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("not supported"));
  }
  $isHangout$jscomp$1_offTheRecord$jscomp$13$$ = !1;
  switch($cloudSink$jscomp$10$$.$b$) {
    case "slarti":
    case "weave":
      $module$exports$mr$cloud$CloudAnalytics$recordSessionType$$(1);
      break;
    case "mesi":
      $isHangout$jscomp$1_offTheRecord$jscomp$13$$ = !0;
      if (!$JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$m$) {
        $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$m$ = !0;
        $JSCompiler_StaticMethods_setNotifiedHangoutPrivacySetting$$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$h$);
        var $issue$jscomp$5$$ = $JSCompiler_StaticMethods_mr_Issue_prototype$setSinkId$$($JSCompiler_StaticMethods_setSecondaryActions$$(), $sinkId$jscomp$58$$);
        $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$sendIssue$($issue$jscomp$5$$);
      }
      $module$exports$mr$cloud$CloudAnalytics$recordSessionType$$(0);
  }
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$f$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$($cloudSink$jscomp$10$$.model, null);
  var $route$jscomp$68$$ = $mr$Route$createRoute$$($presentationId$jscomp$33$$, $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.getName(), $sinkId$jscomp$58$$, $sourceUrn$jscomp$80$$, !0, "");
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$f$.set($route$jscomp$68$$.id, $route$jscomp$68$$);
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$J$.set($sinkId$jscomp$58$$, $route$jscomp$68$$);
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$G$.set($route$jscomp$68$$.id, $cloudSink$jscomp$10$$);
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$K$.set($route$jscomp$68$$.id, $cloudSink$jscomp$10$$.$b$);
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$b$.$onRouteAdded$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$, $route$jscomp$68$$);
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$b$.$requestKeepAlive$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$getStorageKey$(), !0);
  if ($mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$80$$) && !$isHangout$jscomp$1_offTheRecord$jscomp$13$$) {
    return $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$logger_$.info("starting presentation on route: " + $route$jscomp$68$$.id), $JSCompiler_StaticMethods_startPresentation_$$($route$jscomp$68$$, $sourceUrn$jscomp$80$$).catch(function($err$jscomp$47$$) {
      $JSCompiler_StaticMethods_createRouteErrorHandler_$$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$, $err$jscomp$47$$, $goog$asserts$assert$$($route$jscomp$68$$), $cloudSink$jscomp$10$$, 7);
      throw $err$jscomp$47$$;
    });
  }
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$logger_$.info("starting mirroring on route: " + $route$jscomp$68$$.id);
  $route$jscomp$68$$.$mirrorInitData$ = {tabId:$opt_tabId$jscomp$13$$, sessionId:"", $sinkIpAddress$:"", $sinkModelName$:$cloudSink$jscomp$10$$.model};
  $mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$80$$) && ($route$jscomp$68$$.isOffscreenPresentation = !0);
  return $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$startMirroring$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$, $route$jscomp$68$$, $presentationId$jscomp$33$$).catch(function($err$jscomp$48$$) {
    $JSCompiler_StaticMethods_createRouteErrorHandler_$$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$, $err$jscomp$48$$, $goog$asserts$assert$$($route$jscomp$68$$), $cloudSink$jscomp$10$$, 5);
    throw $err$jscomp$48$$;
  });
};
$mr$CloudProvider$$.prototype.terminateRoute = function($routeId$jscomp$80$$) {
  return $JSCompiler_StaticMethods_terminateRouteInternal$$(this, $routeId$jscomp$80$$, 0, null);
};
var $JSCompiler_StaticMethods_terminateRouteInternal$$ = function($JSCompiler_StaticMethods_terminateRouteInternal$self$$, $routeOrId_routeRemoved_sinkIdRemoved_sinkRemoved$$, $reason$jscomp$33_undiscoveredSink$$, $issue$jscomp$6$$) {
  var $route$jscomp$69$$ = "string" == typeof $routeOrId_routeRemoved_sinkIdRemoved_sinkRemoved$$ ? $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$f$.get($routeOrId_routeRemoved_sinkIdRemoved_sinkRemoved$$) : $routeOrId_routeRemoved_sinkIdRemoved_sinkRemoved$$;
  if (!$route$jscomp$69$$) {
    return Promise.reject(new $mr$RouteRequestError$$(3, "Route in cloud provider not found for routeId " + $routeOrId_routeRemoved_sinkIdRemoved_sinkRemoved$$));
  }
  $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$logger_$.info("terminating route: " + $route$jscomp$69$$.id);
  $routeOrId_routeRemoved_sinkIdRemoved_sinkRemoved$$ = $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$f$.delete($route$jscomp$69$$.id);
  $goog$asserts$assert$$($routeOrId_routeRemoved_sinkIdRemoved_sinkRemoved$$);
  $routeOrId_routeRemoved_sinkIdRemoved_sinkRemoved$$ = $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$J$.delete($route$jscomp$69$$.sinkId);
  $goog$asserts$assert$$($routeOrId_routeRemoved_sinkIdRemoved_sinkRemoved$$);
  $routeOrId_routeRemoved_sinkIdRemoved_sinkRemoved$$ = $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$G$.get($route$jscomp$69$$.id);
  $goog$asserts$assert$$($routeOrId_routeRemoved_sinkIdRemoved_sinkRemoved$$);
  $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$G$.delete($route$jscomp$69$$.id);
  $issue$jscomp$6$$ && $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$sendIssue$($issue$jscomp$6$$);
  $mr$Analytics$recordEnum$$("MediaRouter.Cloud.Session.End", $reason$jscomp$33_undiscoveredSink$$, $module$exports$mr$cloud$CloudAnalytics$SessionEndReason$$);
  switch($reason$jscomp$33_undiscoveredSink$$) {
    case 1:
      break;
    default:
      switch($routeOrId_routeRemoved_sinkIdRemoved_sinkRemoved$$.$b$) {
        case "weave":
          $JSCompiler_StaticMethods_mr_cloud_messaging_weave_MessageSender_prototype$sendMessage_$$($JSCompiler_StaticMethods_terminateRouteInternal$self$$.$L$, $routeOrId_routeRemoved_sinkIdRemoved_sinkRemoved$$.deviceId, $mr$cloud$messaging$weave$STOP_SESSION_MESSAGE_$$, {});
      }
  }
  $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteRemoved$($route$jscomp$69$$);
  0 == $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$f$.size && $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$b$.$requestKeepAlive$($JSCompiler_StaticMethods_terminateRouteInternal$self$$.$getStorageKey$(), !1);
  $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$b$.onPresentationConnectionStateChanged($route$jscomp$69$$.id, "terminated");
  $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$s$.has($route$jscomp$69$$.sinkId) && ($reason$jscomp$33_undiscoveredSink$$ = $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$s$.get($route$jscomp$69$$.sinkId), $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$$($JSCompiler_StaticMethods_terminateRouteInternal$self$$, [$reason$jscomp$33_undiscoveredSink$$]), $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$s$.delete($route$jscomp$69$$.sinkId));
  return Promise.resolve();
};
$JSCompiler_prototypeAlias$$ = $mr$CloudProvider$$.prototype;
$JSCompiler_prototypeAlias$$.sendRouteMessage = function($route$jscomp$70_routeId$jscomp$81$$, $message$jscomp$143$$) {
  var $channelType$jscomp$3$$ = this.$K$.get($route$jscomp$70_routeId$jscomp$81$$);
  if ($channelType$jscomp$3$$) {
    var $sink$jscomp$99$$ = ($route$jscomp$70_routeId$jscomp$81$$ = this.$f$.get($route$jscomp$70_routeId$jscomp$81$$) || void 0) ? $goog$asserts$assert$$($JSCompiler_StaticMethods_getCloudSinkById_$$(this, $route$jscomp$70_routeId$jscomp$81$$.sinkId)) : void 0;
    return $JSCompiler_StaticMethods_handleMessage$$(this.$M$, $channelType$jscomp$3$$, $message$jscomp$143$$, $route$jscomp$70_routeId$jscomp$81$$, $sink$jscomp$99$$);
  }
  return "string" === typeof $message$jscomp$143$$ ? ($JSCompiler_StaticMethods_sendMessageResponse$$(this, $message$jscomp$143$$, $route$jscomp$70_routeId$jscomp$81$$), Promise.resolve()) : Promise.reject(Error("Channel type missing"));
};
$JSCompiler_prototypeAlias$$.sendRouteBinaryMessage = function($routeId$jscomp$82$$) {
  return Promise.reject(Error("Route " + $routeId$jscomp$82$$ + " does not support sending binary data."));
};
$JSCompiler_prototypeAlias$$.$getMirrorSettings$ = function($sinkId$jscomp$59$$) {
  var $settings$jscomp$5$$ = new $mr$mirror$Settings$$;
  5 > $settings$jscomp$5$$.minFrameRate && ($settings$jscomp$5$$.minFrameRate = 5);
  var $serviceName$jscomp$3$$ = this.$getMirrorServiceName$($sinkId$jscomp$59$$);
  "hangouts" == $serviceName$jscomp$3$$ || "meetings" == $serviceName$jscomp$3$$ ? ($settings$jscomp$5$$.maxWidth = Math.min(window.screen && window.screen.width || Infinity, 2880), $settings$jscomp$5$$.maxHeight = Math.min(window.screen && window.screen.height || Infinity, 1800)) : $settings$jscomp$5$$.senderSideLetterboxing = !0;
  $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$$($settings$jscomp$5$$);
  Object.freeze($settings$jscomp$5$$);
  this.$logger_$.info("Settings for " + $sinkId$jscomp$59$$ + ": " + $JSCompiler_StaticMethods_toJsonString$$($settings$jscomp$5$$));
  if (!$settings$jscomp$5$$.shouldCaptureAudio && !$settings$jscomp$5$$.shouldCaptureVideo) {
    throw Error("Cannot start mirroring without video or audio capture.");
  }
  return $settings$jscomp$5$$;
};
$JSCompiler_prototypeAlias$$.$getMirrorServiceName$ = function($cloudSink$jscomp$11_sinkId$jscomp$60$$) {
  var $mirrorServiceName$jscomp$1$$ = null;
  $cloudSink$jscomp$11_sinkId$jscomp$60$$ = $JSCompiler_StaticMethods_getCloudSinkById_$$(this, $cloudSink$jscomp$11_sinkId$jscomp$60$$);
  switch($cloudSink$jscomp$11_sinkId$jscomp$60$$.$b$) {
    case "slarti":
    case "weave":
      $mirrorServiceName$jscomp$1$$ = "webrtc";
      break;
    case "mesi":
      $mirrorServiceName$jscomp$1$$ = $cloudSink$jscomp$11_sinkId$jscomp$60$$.$isMeeting$ ? "meetings" : "hangouts";
  }
  return $mirrorServiceName$jscomp$1$$;
};
$JSCompiler_prototypeAlias$$.$onMirrorActivityUpdated$ = function() {
};
$JSCompiler_prototypeAlias$$.$canRoute$ = function($sourceUrn$jscomp$81$$, $sinkId$jscomp$61$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "Checking canRoute: " + $sourceUrn$jscomp$81$$ + " for sinkId: " + $sinkId$jscomp$61$$);
  return $JSCompiler_StaticMethods_isCloudAllowed_$$(this, $sourceUrn$jscomp$81$$) && !!this.$getSinkById$($sinkId$jscomp$61$$);
};
$JSCompiler_prototypeAlias$$.$canJoin$ = function($sourceUrn$jscomp$82$$, $presentationId$jscomp$34$$) {
  return $mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$82$$) && this.$f$.has($presentationId$jscomp$34$$);
};
$JSCompiler_prototypeAlias$$.joinRoute = function($route$jscomp$72_sourceUrn$jscomp$83$$, $presentationId$jscomp$35$$) {
  return ($route$jscomp$72_sourceUrn$jscomp$83$$ = this.$f$.get($presentationId$jscomp$35$$)) ? (this.$logger_$.info("joining route: " + $route$jscomp$72_sourceUrn$jscomp$83$$.id), $module$contents$mr$CancellablePromise_CancellablePromise$resolve$$($route$jscomp$72_sourceUrn$jscomp$83$$)) : $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("not supported"));
};
$JSCompiler_prototypeAlias$$.connectRouteByRouteId = function() {
  return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("not supported"));
};
$JSCompiler_prototypeAlias$$.detachRoute = function() {
};
var $JSCompiler_StaticMethods_onSinksAdded$$ = function($JSCompiler_StaticMethods_onSinksAdded$self$$, $cloudSink$jscomp$12_sinks$jscomp$19$$) {
  $JSCompiler_StaticMethods_onSinksAdded$self$$.$logger_$.info($cloudSink$jscomp$12_sinks$jscomp$19$$.length + " sinks added");
  0 < $cloudSink$jscomp$12_sinks$jscomp$19$$.length && !$JSCompiler_StaticMethods_onSinksAdded$self$$.$C$ && ($JSCompiler_StaticMethods_turnOnCloudSetting$$($JSCompiler_StaticMethods_onSinksAdded$self$$.$h$), $JSCompiler_StaticMethods_onSinksAdded$self$$.$C$ = !0);
  $cloudSink$jscomp$12_sinks$jscomp$19$$ = $JSCompiler_StaticMethods_getCloudSinkById_$$($JSCompiler_StaticMethods_onSinksAdded$self$$, $cloudSink$jscomp$12_sinks$jscomp$19$$[0].id);
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$b$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$($cloudSink$jscomp$12_sinks$jscomp$19$$.model, null);
  $JSCompiler_StaticMethods_onSinksAdded$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
  $JSCompiler_StaticMethods_onSinksAdded$self$$.$b$.onSinkAvailabilityUpdated($JSCompiler_StaticMethods_onSinksAdded$self$$, 2);
  $JSCompiler_StaticMethods_onSinksAdded$self$$.$logger_$.info("sinkAvailability changed to AVAILABLE");
}, $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$$ = function($JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$, $sinks$jscomp$20$$) {
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$.$logger_$.info($sinks$jscomp$20$$.length + " sinks removed");
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$.$o$.some(function($s$jscomp$34$$) {
    return 0 < $s$jscomp$34$$.$module$exports$mr$cloud$slarti$SinkDiscoveryService_prototype$getSinks$().length;
  }) || ($JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$.$b$.onSinkAvailabilityUpdated($JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$, 0), $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$.$logger_$.info("sinkAvailability changed to UNAVAILABLE"));
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
}, $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksUpdated$$ = function($JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksUpdated$self$$, $sinks$jscomp$21$$) {
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksUpdated$self$$.$logger_$.info($sinks$jscomp$21$$.length + " sinks updated");
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksUpdated$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
}, $JSCompiler_StaticMethods_sendMessageResponse$$ = function($JSCompiler_StaticMethods_sendMessageResponse$self$$, $message$jscomp$145$$, $routeId$jscomp$86$$, $isRouteMessage$$) {
  (void 0 === $isRouteMessage$$ ? 0 : $isRouteMessage$$) ? $JSCompiler_StaticMethods_sendMessageResponse$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$($routeId$jscomp$86$$, $message$jscomp$145$$) : $JSCompiler_StaticMethods_sendMessageResponse$self$$.$b$.$onInternalMessage$($routeId$jscomp$86$$, $message$jscomp$145$$);
}, $JSCompiler_StaticMethods_getCloudSinkById_$$ = function($JSCompiler_StaticMethods_getCloudSinkById_$self$$, $id$jscomp$80_route$jscomp$inline_2450$$) {
  var $sink$jscomp$100_sink$jscomp$inline_2449$$ = $JSCompiler_StaticMethods_getDiscoveryCloudSinkById_$$($JSCompiler_StaticMethods_getCloudSinkById_$self$$, $id$jscomp$80_route$jscomp$inline_2450$$);
  $sink$jscomp$100_sink$jscomp$inline_2449$$ || ($sink$jscomp$100_sink$jscomp$inline_2449$$ = null, ($id$jscomp$80_route$jscomp$inline_2450$$ = $JSCompiler_StaticMethods_getCloudSinkById_$self$$.$J$.get($id$jscomp$80_route$jscomp$inline_2450$$)) && ($sink$jscomp$100_sink$jscomp$inline_2449$$ = $JSCompiler_StaticMethods_getCloudSinkById_$self$$.$G$.get($id$jscomp$80_route$jscomp$inline_2450$$.id)));
  return $sink$jscomp$100_sink$jscomp$inline_2449$$;
}, $JSCompiler_StaticMethods_getDiscoveryCloudSinkById_$$ = function($JSCompiler_StaticMethods_getDiscoveryCloudSinkById_$self$$, $id$jscomp$81$$) {
  var $sink$jscomp$101$$ = null;
  $JSCompiler_StaticMethods_getDiscoveryCloudSinkById_$self$$.$o$.some(function($sinkService$$) {
    $sink$jscomp$101$$ = $sinkService$$.$getSinkById$($id$jscomp$81$$);
    return !!$sink$jscomp$101$$;
  });
  return $sink$jscomp$101$$;
}, $JSCompiler_StaticMethods_isCloudAllowed_$$ = function($JSCompiler_StaticMethods_isCloudAllowed_$self$$, $isPresentationSource_sourceUrn$jscomp$85$$) {
  var $isMirrorSource$$ = $mr$MediaSourceUtils$isMirrorSource$$($isPresentationSource_sourceUrn$jscomp$85$$);
  $isPresentationSource_sourceUrn$jscomp$85$$ = $mr$MediaSourceUtils$isPresentationSource$$($isPresentationSource_sourceUrn$jscomp$85$$);
  if ($JSCompiler_StaticMethods_isCloudAllowed_$self$$.$H$.$g$ && !$JSCompiler_StaticMethods_isCloudAllowed_$self$$.$H$.$b$ && $isMirrorSource$$) {
    return $JSCompiler_StaticMethods_isCloudAllowed_$self$$.$b$.onSinkAvailabilityUpdated($JSCompiler_StaticMethods_isCloudAllowed_$self$$, 2), !0;
  }
  var $result$jscomp$78$$ = !1;
  $JSCompiler_StaticMethods_isCloudAllowed_$self$$.$g$ && $JSCompiler_StaticMethods_isCloudAllowed_$self$$.$H$.$b$ && ($result$jscomp$78$$ = !0);
  return $result$jscomp$78$$ && ($isMirrorSource$$ || $isPresentationSource_sourceUrn$jscomp$85$$);
};
$JSCompiler_prototypeAlias$$ = $mr$CloudProvider$$.prototype;
$JSCompiler_prototypeAlias$$.searchSinks = function($foundSinkPromise_sourceUrn$jscomp$86$$, $searchCriteria$jscomp$5$$) {
  var $$jscomp$this$jscomp$131$$ = this;
  if (!$JSCompiler_StaticMethods_isCloudAllowed_$$(this, $foundSinkPromise_sourceUrn$jscomp$86$$)) {
    return Promise.reject(Error("err"));
  }
  $foundSinkPromise_sourceUrn$jscomp$86$$ = $JSCompiler_StaticMethods_addManualSink$$(this.$l$, $searchCriteria$jscomp$5$$);
  $foundSinkPromise_sourceUrn$jscomp$86$$.then(function($foundSink$$) {
    $JSCompiler_StaticMethods_onSinksAdded$$($$jscomp$this$jscomp$131$$, [$foundSink$$]);
  });
  return $foundSinkPromise_sourceUrn$jscomp$86$$;
};
$JSCompiler_prototypeAlias$$.createMediaRouteController = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
$JSCompiler_prototypeAlias$$.provideSinks = function() {
};
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "CloudProvider";
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [void 0, {cloudEnabled:this.$g$, cloudOn:this.$C$, notifiedHangoutsPrivacy:this.$m$}];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  var $persistentData$jscomp$1$$ = $mr$PersistentDataManager$getPersistentData$$(this);
  $persistentData$jscomp$1$$ && ($persistentData$jscomp$1$$.cloudEnabled && (this.$g$ = $persistentData$jscomp$1$$.cloudEnabled), $persistentData$jscomp$1$$.cloudOn && (this.$C$ = $persistentData$jscomp$1$$.cloudOn), $persistentData$jscomp$1$$.notifiedHangoutsPrivacy && (this.$m$ = $persistentData$jscomp$1$$.notifiedHangoutsPrivacy));
};
var $JSCompiler_StaticMethods_startPresentation_$$ = function($cloudWebRtcSession_route$jscomp$75$$, $sourceUrn$jscomp$87$$) {
  $cloudWebRtcSession_route$jscomp$75$$ = new $mr$presentation$webrtc$CloudWebRtcSession$$($cloudWebRtcSession_route$jscomp$75$$, $sourceUrn$jscomp$87$$);
  return $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($cloudWebRtcSession_route$jscomp$75$$.start());
};
$mr$CloudProvider$$.prototype.$logger_$ = $mr$Logger$getInstance$$("mr.CloudProvider");
var $mr$CloudProvider$PSEUDO_SINK_$$ = new $mr$Sink$$("pseudo:cloud", "", "meeting", "", "default");
var $mr$ExternalMessageListener$$ = function() {
  $mr$EventListener$$.call(this, 12, "ExternalMessageListener", "mr.ProviderManager", chrome.runtime.onMessageExternal);
};
$$jscomp$inherits$$($mr$ExternalMessageListener$$, $mr$EventListener$$);
$mr$ExternalMessageListener$$.prototype.$validateEvent$ = function($message$jscomp$146$$, $sender$jscomp$5$$) {
  return $sender$jscomp$5$$.id && -1 != $mr$ExternalMessageListener$WHITELIST_$$.indexOf($sender$jscomp$5$$.id) ? "start" == $message$jscomp$146$$.type || "stop" == $message$jscomp$146$$.type || "subscribe_log_data" == $message$jscomp$146$$.type : !1;
};
$mr$ExternalMessageListener$$.prototype.$deferredReturnValue$ = function() {
  return !0;
};
var $mr$ExternalMessageListener$get$$ = function() {
  $mr$ExternalMessageListener$listener_$$ || ($mr$ExternalMessageListener$listener_$$ = new $mr$ExternalMessageListener$$);
  return $mr$ExternalMessageListener$listener_$$;
}, $mr$ExternalMessageListener$listener_$$ = null, $mr$ExternalMessageListener$WHITELIST_$$ = ["idmofbkcelhplfjnmmdolenpigiiiecc", "ggedfkijiiammpnbdadhllnehapomdge", "njjegkblellcjnakomndbaloifhcoccg"];
var $mr$InternalMessageListener$$ = function() {
  $mr$EventListener$$.call(this, 11, "InternalMessageListener", "mr.ProviderManager", chrome.runtime.onMessage);
};
$$jscomp$inherits$$($mr$InternalMessageListener$$, $mr$EventListener$$);
$mr$InternalMessageListener$$.prototype.$validateEvent$ = function($message$jscomp$147$$, $sender$jscomp$6$$) {
  return "retrieve_log_data" == $message$jscomp$147$$.type && $sender$jscomp$6$$.id == chrome.runtime.id && $sender$jscomp$6$$.url == "chrome-extension://" + $sender$jscomp$6$$.id + "/feedback.html";
};
$mr$InternalMessageListener$$.prototype.$deferredReturnValue$ = function() {
  return !0;
};
var $mr$InternalMessageListener$get$$ = function() {
  $mr$InternalMessageListener$listener_$$ || ($mr$InternalMessageListener$listener_$$ = new $mr$InternalMessageListener$$);
  return $mr$InternalMessageListener$listener_$$;
}, $mr$InternalMessageListener$listener_$$ = null;
var $mr$RouteMessage$$ = function($routeId$jscomp$89$$, $message$jscomp$148$$) {
  this.routeId = $routeId$jscomp$89$$;
  this.message = $message$jscomp$148$$;
}, $mr$RouteMessage$isBinary$$ = function($routeMessage$$) {
  return "string" != typeof $routeMessage$$.message;
};
var $mr$ThrottlingSender$$ = function($interval$jscomp$4$$) {
  this.$G$ = $interval$jscomp$4$$;
  this.$h$ = this.$l$ = null;
}, $JSCompiler_StaticMethods_scheduleSend$$ = function($JSCompiler_StaticMethods_scheduleSend$self$$) {
  if (null == $JSCompiler_StaticMethods_scheduleSend$self$$.$h$) {
    if (null == $JSCompiler_StaticMethods_scheduleSend$self$$.$l$ || Date.now() - $JSCompiler_StaticMethods_scheduleSend$self$$.$l$ >= $JSCompiler_StaticMethods_scheduleSend$self$$.$G$) {
      $JSCompiler_StaticMethods_scheduleSend$self$$.$m$();
    } else {
      var $delay$jscomp$2$$ = Math.max($JSCompiler_StaticMethods_scheduleSend$self$$.$l$ + $JSCompiler_StaticMethods_scheduleSend$self$$.$G$ - Date.now(), 5);
      $JSCompiler_StaticMethods_scheduleSend$self$$.$h$ = setTimeout($JSCompiler_StaticMethods_scheduleSend$self$$.$m$.bind($JSCompiler_StaticMethods_scheduleSend$self$$), $delay$jscomp$2$$);
    }
  }
};
$mr$ThrottlingSender$$.prototype.$m$ = function() {
  null != this.$h$ && (clearTimeout(this.$h$), this.$h$ = null);
  this.$C$();
  this.$l$ = Date.now();
};
$mr$ThrottlingSender$$.prototype.$C$ = function() {
};
var $mr$RouteMessageSender$$ = function($providerManagerCallbacks$jscomp$5$$, $messageSizeKeepAliveThreshold$$) {
  $mr$ThrottlingSender$$.call(this, 20);
  this.$b$ = new Map;
  this.$f$ = new Set;
  this.$s$ = null;
  this.$o$ = this.$g$ = 0;
  this.$H$ = !1;
  this.$K$ = $providerManagerCallbacks$jscomp$5$$;
  this.$J$ = $messageSizeKeepAliveThreshold$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.RouteMessageSender");
};
$$jscomp$inherits$$($mr$RouteMessageSender$$, $mr$ThrottlingSender$$);
$mr$RouteMessageSender$$.prototype.init = function($sendMessagesCallback$$) {
  this.$s$ = $sendMessagesCallback$$;
  $mr$PersistentDataManager$register$$(this);
};
$mr$RouteMessageSender$$.prototype.stopListeningForRouteMessages = function($routeId$jscomp$91$$) {
  this.$f$.delete($routeId$jscomp$91$$);
};
$mr$RouteMessageSender$$.prototype.send = function($routeId$jscomp$92$$, $message$jscomp$149_routeMessage$jscomp$2$$) {
  var $queue$$ = this.$b$.get($routeId$jscomp$92$$);
  $queue$$ || ($queue$$ = [], this.$b$.set($routeId$jscomp$92$$, $queue$$));
  $message$jscomp$149_routeMessage$jscomp$2$$ = new $mr$RouteMessage$$($routeId$jscomp$92$$, $message$jscomp$149_routeMessage$jscomp$2$$);
  $queue$$.push($message$jscomp$149_routeMessage$jscomp$2$$);
  50 < $queue$$.length && 1 == $queue$$.length % 50 && this.$logger_$.$warning$(function() {
    return "Message queue length is excessively large (" + ($queue$$.length + ") for route " + $routeId$jscomp$92$$);
  });
  this.$g$ += $mr$RouteMessage$isBinary$$($message$jscomp$149_routeMessage$jscomp$2$$) ? 0 : $message$jscomp$149_routeMessage$jscomp$2$$.message.length;
  $mr$RouteMessage$isBinary$$($message$jscomp$149_routeMessage$jscomp$2$$) && this.$o$++;
  $JSCompiler_StaticMethods_updateShouldKeepAlive_$$(this);
  this.$f$.has($routeId$jscomp$92$$) && $JSCompiler_StaticMethods_scheduleSend$$(this);
};
var $JSCompiler_StaticMethods_onMessagesRemoved_$$ = function($JSCompiler_StaticMethods_onMessagesRemoved_$self$$, $$jscomp$iter$248_messages$$) {
  if (0 != $$jscomp$iter$248_messages$$.length) {
    $$jscomp$iter$248_messages$$ = $$jscomp$makeIterator$$($$jscomp$iter$248_messages$$);
    for (var $$jscomp$key$message_message$jscomp$150$$ = $$jscomp$iter$248_messages$$.next(); !$$jscomp$key$message_message$jscomp$150$$.done; $$jscomp$key$message_message$jscomp$150$$ = $$jscomp$iter$248_messages$$.next()) {
      $$jscomp$key$message_message$jscomp$150$$ = $$jscomp$key$message_message$jscomp$150$$.value, $JSCompiler_StaticMethods_onMessagesRemoved_$self$$.$g$ -= $mr$RouteMessage$isBinary$$($$jscomp$key$message_message$jscomp$150$$) ? 0 : $$jscomp$key$message_message$jscomp$150$$.message.length, $mr$RouteMessage$isBinary$$($$jscomp$key$message_message$jscomp$150$$) && $JSCompiler_StaticMethods_onMessagesRemoved_$self$$.$o$--;
    }
  }
}, $JSCompiler_StaticMethods_updateShouldKeepAlive_$$ = function($JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$) {
  var $newShouldKeepAlive$$ = 0 < $JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$o$ || $JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$g$ > $JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$J$;
  $newShouldKeepAlive$$ != $JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$H$ && ($JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$H$ = $newShouldKeepAlive$$, $JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$K$.$requestKeepAlive$($JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$getStorageKey$(), $newShouldKeepAlive$$));
};
$mr$RouteMessageSender$$.prototype.$C$ = function() {
  if (this.$s$) {
    for (var $$jscomp$iter$249$$ = $$jscomp$makeIterator$$(this.$f$), $$jscomp$key$routeId_routeId$jscomp$95$$ = $$jscomp$iter$249$$.next(); !$$jscomp$key$routeId_routeId$jscomp$95$$.done; $$jscomp$key$routeId_routeId$jscomp$95$$ = $$jscomp$iter$249$$.next()) {
      $$jscomp$key$routeId_routeId$jscomp$95$$ = $$jscomp$key$routeId_routeId$jscomp$95$$.value;
      var $queue$jscomp$3$$ = this.$b$.get($$jscomp$key$routeId_routeId$jscomp$95$$);
      $queue$jscomp$3$$ && 0 != $queue$jscomp$3$$.length && (this.$s$($$jscomp$key$routeId_routeId$jscomp$95$$, $queue$jscomp$3$$), $JSCompiler_StaticMethods_onMessagesRemoved_$$(this, $queue$jscomp$3$$), this.$b$.set($$jscomp$key$routeId_routeId$jscomp$95$$, []));
    }
    $JSCompiler_StaticMethods_updateShouldKeepAlive_$$(this);
  } else {
    this.$logger_$.error("sendMessagesCallback not set. Messages not delivered.");
  }
};
$mr$RouteMessageSender$$.prototype.$getStorageKey$ = function() {
  return "mr.RouteMessageSender";
};
$mr$RouteMessageSender$$.prototype.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  var $persistableQueues$$ = [].concat($$jscomp$arrayFromIterable$$(this.$b$.entries())).map(function($entry$jscomp$24$$) {
    return [$entry$jscomp$24$$[0], $entry$jscomp$24$$[1].map(function($message$jscomp$151$$) {
      return $mr$Assertions$assertString$$($message$jscomp$151$$.message);
    })];
  });
  return [new $mr$RouteMessageSender$PersistentData_$$($persistableQueues$$, Array.from(this.$f$), this.$g$)];
};
$mr$RouteMessageSender$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$16$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($savedData$jscomp$16$$) {
    this.$b$ = new Map;
    for (var $$jscomp$loop$396$$ = {}, $$jscomp$iter$250$$ = $$jscomp$makeIterator$$($savedData$jscomp$16$$.$f$), $$jscomp$key$entry$jscomp$1_entry$jscomp$25_queue$jscomp$4$$ = $$jscomp$iter$250$$.next(); !$$jscomp$key$entry$jscomp$1_entry$jscomp$25_queue$jscomp$4$$.done; $$jscomp$loop$396$$ = {$$jscomp$loop$prop$routeId$397$:$$jscomp$loop$396$$.$$jscomp$loop$prop$routeId$397$}, $$jscomp$key$entry$jscomp$1_entry$jscomp$25_queue$jscomp$4$$ = $$jscomp$iter$250$$.next()) {
      $$jscomp$key$entry$jscomp$1_entry$jscomp$25_queue$jscomp$4$$ = $$jscomp$key$entry$jscomp$1_entry$jscomp$25_queue$jscomp$4$$.value, $$jscomp$loop$396$$.$$jscomp$loop$prop$routeId$397$ = $$jscomp$key$entry$jscomp$1_entry$jscomp$25_queue$jscomp$4$$[0], $$jscomp$key$entry$jscomp$1_entry$jscomp$25_queue$jscomp$4$$ = $$jscomp$key$entry$jscomp$1_entry$jscomp$25_queue$jscomp$4$$[1].map(function($$jscomp$loop$396$jscomp$1$$) {
        return function($message$jscomp$152$$) {
          return new $mr$RouteMessage$$($$jscomp$loop$396$jscomp$1$$.$$jscomp$loop$prop$routeId$397$, $mr$Assertions$assertString$$($message$jscomp$152$$));
        };
      }($$jscomp$loop$396$$)), this.$b$.set($$jscomp$loop$396$$.$$jscomp$loop$prop$routeId$397$, $$jscomp$key$entry$jscomp$1_entry$jscomp$25_queue$jscomp$4$$);
    }
    this.$f$ = new Set($savedData$jscomp$16$$.$b$);
    this.$g$ = $savedData$jscomp$16$$.$g$;
  }
};
var $mr$RouteMessageSender$PersistentData_$$ = function($queues$$, $listeningRouteIds$$, $totalMessageSize$$) {
  this.$f$ = $queues$$;
  this.$b$ = $listeningRouteIds$$;
  this.$g$ = $totalMessageSize$$;
};
var $mr$InternalMessageEvent$$ = function($routeId$jscomp$96$$, $message$jscomp$153$$) {
  this.type = "internal_message";
  this.routeId = $routeId$jscomp$96$$;
  this.message = $message$jscomp$153$$;
};
var $mr$MessagePortImpl_$$ = function($routeId$jscomp$97$$, $sendMessage$$, $messageEventTarget$$) {
  this.$b$ = $routeId$jscomp$97$$;
  this.$h$ = $sendMessage$$;
  this.$g$ = $messageEventTarget$$;
  this.onMessage = function() {
  };
  $messageEventTarget$$.listen("internal_message", this.$f$, this);
};
$mr$MessagePortImpl_$$.prototype.sendMessage = function($message$jscomp$154$$, $opt_extraInfo$jscomp$6$$) {
  return this.$h$(this.$b$, $message$jscomp$154$$, $opt_extraInfo$jscomp$6$$);
};
$mr$MessagePortImpl_$$.prototype.$f$ = function($event$jscomp$29$$) {
  if ($event$jscomp$29$$.routeId == this.$b$) {
    this.onMessage($event$jscomp$29$$.message);
  }
};
$mr$MessagePortImpl_$$.prototype.$dispose$ = function() {
  this.onMessage = function() {
  };
  $JSCompiler_StaticMethods_module$contents$mr$EventTarget_EventTarget_prototype$unlisten$$(this.$g$, this.$f$, this);
};
var $mr$MessagePortImpl_$NULL_INSTANCE_$$ = new $mr$MessagePortImpl_$$("", function() {
  return Promise.resolve();
}, new $module$contents$mr$EventTarget_EventTarget$$), $mr$MessagePortServiceImpl$$ = function($providerManagerCallbacks$jscomp$6$$) {
  this.$b$ = $providerManagerCallbacks$jscomp$6$$;
}, $JSCompiler_StaticMethods_getInternalMessenger$$ = function($routeId$jscomp$98$$) {
  var $JSCompiler_StaticMethods_getInternalMessenger$self$$ = $mr$MessagePortService$service_$$, $provider$jscomp$27$$ = $JSCompiler_StaticMethods_getInternalMessenger$self$$.$b$.$getProviderFromRouteId$($routeId$jscomp$98$$);
  return $provider$jscomp$27$$ ? new $mr$MessagePortImpl_$$($routeId$jscomp$98$$, $provider$jscomp$27$$.sendRouteMessage.bind($provider$jscomp$27$$), $JSCompiler_StaticMethods_getInternalMessenger$self$$.$b$.$getRouteMessageEventTarget$()) : $mr$MessagePortImpl_$NULL_INSTANCE_$$;
};
var $module$contents$mr$Throttle_Throttle$$ = function($listener$jscomp$136$$, $handler$jscomp$26$$) {
  this.$m$ = null != $handler$jscomp$26$$ ? $listener$jscomp$136$$.bind($handler$jscomp$26$$) : $listener$jscomp$136$$;
  this.$l$ = this.$o$.bind(this);
  this.$h$ = [];
  this.$b$ = !1;
  this.$f$ = null;
};
$module$contents$mr$Throttle_Throttle$$.prototype.$g$ = function($args$jscomp$34$$) {
  for (var $$jscomp$restParams$jscomp$8$$ = [], $$jscomp$restIndex$jscomp$8$$ = 0; $$jscomp$restIndex$jscomp$8$$ < arguments.length; ++$$jscomp$restIndex$jscomp$8$$) {
    $$jscomp$restParams$jscomp$8$$[$$jscomp$restIndex$jscomp$8$$ - 0] = arguments[$$jscomp$restIndex$jscomp$8$$];
  }
  this.$h$ = [].concat($$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$8$$));
  null == this.$f$ ? $JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$$(this) : this.$b$ = !0;
};
var $JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$$ = function($JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$self$$) {
  $JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$self$$.$f$ = setTimeout($JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$self$$.$l$, 500);
  $JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$self$$.$m$.apply($JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$self$$, $$jscomp$arrayFromIterable$$($JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$self$$.$h$));
};
$module$contents$mr$Throttle_Throttle$$.prototype.$o$ = function() {
  this.$f$ = null;
  this.$b$ && (this.$b$ = !1, $JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$$(this));
};
var $mr$ProviderManager$$ = function() {
  this.config = null;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.ProviderManager");
  this.$g$ = [];
  this.$f$ = new Map;
  this.$o$ = new Map;
  this.$l$ = new Set;
  this.$h$ = new Set;
  this.$G$ = new Map;
  this.$b$ = this.$C$ = null;
  this.$L$ = new $module$contents$mr$EventTarget_EventTarget$$;
  this.$M$ = new $module$contents$mr$Throttle_Throttle$$(this.$sendRoutesQueryResultToMr_$, this);
  this.$T$ = new $module$contents$mr$Throttle_Throttle$$(this.$K$, this);
  this.$m$ = new $mr$RouteMessageSender$$(this, 524288);
  this.$J$ = 0;
  this.$s$ = new Map;
  this.$H$ = [];
  var $handler$jscomp$inline_2457_handler$jscomp$inline_2460$$ = new $mr$InternalMessageHandler$$(this);
  this.$R$ = $handler$jscomp$inline_2457_handler$jscomp$inline_2460$$.onMessage.bind($handler$jscomp$inline_2457_handler$jscomp$inline_2460$$);
  $handler$jscomp$inline_2457_handler$jscomp$inline_2460$$ = new $mr$ExternalMessageHandler$$(this);
  this.$O$ = $handler$jscomp$inline_2457_handler$jscomp$inline_2460$$.onMessage.bind($handler$jscomp$inline_2457_handler$jscomp$inline_2460$$);
  this.onBeforeInvokeHandler = this.onBeforeInvokeHandler;
  this.createRoute = this.createRoute;
  this.joinRoute = this.joinRoute;
  this.connectRouteByRouteId = this.connectRouteByRouteId;
  this.terminateRoute = this.terminateRoute;
  this.startObservingMediaSinks = this.startObservingMediaSinks;
  this.stopObservingMediaSinks = this.stopObservingMediaSinks;
  this.sendRouteMessage = this.sendRouteMessage;
  this.sendRouteBinaryMessage = this.sendRouteBinaryMessage;
  this.startListeningForRouteMessages = this.startListeningForRouteMessages;
  this.stopListeningForRouteMessages = this.stopListeningForRouteMessages;
  this.startObservingMediaRoutes = this.startObservingMediaRoutes;
  this.stopObservingMediaRoutes = this.stopObservingMediaRoutes;
  this.detachRoute = this.detachRoute;
  this.searchSinks = this.searchSinks;
  this.provideSinks = this.provideSinks;
  this.updateMediaSinks = this.updateMediaSinks;
  this.createMediaRouteController = this.createMediaRouteController;
};
$$jscomp$inherits$$($mr$ProviderManager$$, $mr$Module$$);
$mr$ProviderManager$$.prototype.handleEvent = function($event$jscomp$30$$, $args$jscomp$35$$) {
  for (var $$jscomp$restParams$jscomp$9$$ = [], $$jscomp$restIndex$jscomp$9$$ = 1; $$jscomp$restIndex$jscomp$9$$ < arguments.length; ++$$jscomp$restIndex$jscomp$9$$) {
    $$jscomp$restParams$jscomp$9$$[$$jscomp$restIndex$jscomp$9$$ - 1] = arguments[$$jscomp$restIndex$jscomp$9$$];
  }
  if ($event$jscomp$30$$ == chrome.runtime.onMessage) {
    this.$R$.apply(this, $$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$9$$));
  } else {
    if ($event$jscomp$30$$ == chrome.runtime.onMessageExternal) {
      this.$O$.apply(this, $$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$9$$));
    } else {
      throw Error("Unhandled event");
    }
  }
};
var $JSCompiler_StaticMethods_getMirrorService$$ = function($JSCompiler_StaticMethods_getMirrorService$self$$, $moduleId$jscomp$13_serviceName$jscomp$4$$) {
  $moduleId$jscomp$13_serviceName$jscomp$4$$ = $JSCompiler_StaticMethods_getMirrorService$self$$.$G$.get($moduleId$jscomp$13_serviceName$jscomp$4$$);
  return $mr$Module$load$$($moduleId$jscomp$13_serviceName$jscomp$4$$).then(function($module$jscomp$7$$) {
    $module$jscomp$7$$.initialize($JSCompiler_StaticMethods_getMirrorService$self$$, !!$JSCompiler_StaticMethods_getMirrorService$self$$.config && $JSCompiler_StaticMethods_getMirrorService$self$$.config.use_mirroring_service);
    return $module$jscomp$7$$;
  });
}, $JSCompiler_StaticMethods_registerAllProviders$$ = function($JSCompiler_StaticMethods_registerAllProviders$self$$, $providers$jscomp$1$$, $config$jscomp$16$$) {
  $providers$jscomp$1$$.forEach(function($provider$jscomp$28$$) {
    if ($JSCompiler_StaticMethods_getProviderByName$$($JSCompiler_StaticMethods_registerAllProviders$self$$, $provider$jscomp$28$$.getName())) {
      $JSCompiler_StaticMethods_registerAllProviders$self$$.$logger_$.$warning$("Provider " + $provider$jscomp$28$$.getName() + " already registered.");
    } else {
      try {
        $provider$jscomp$28$$.initialize($config$jscomp$16$$), $JSCompiler_StaticMethods_registerAllProviders$self$$.$g$.push($provider$jscomp$28$$), $JSCompiler_StaticMethods_registerAllProviders$self$$.$s$.set($provider$jscomp$28$$.getName(), 0);
      } catch ($error$jscomp$inline_2467$$) {
        $JSCompiler_StaticMethods_registerAllProviders$self$$.$logger_$.$warning$("Provider " + $provider$jscomp$28$$.getName() + " failed to initialize.", $error$jscomp$inline_2467$$);
      }
    }
  });
};
$mr$ProviderManager$$.prototype.initialize = function($mediaRouterService$$, $providers$jscomp$2$$, $config$jscomp$17$$) {
  this.$G$.set("webrtc", "mr.mirror.webrtc.WebRtcService");
  this.$G$.set("cast_streaming", "mr.mirror.cast.Service");
  this.$G$.set("hangouts", "mr.mirror.hangouts.HangoutsService");
  this.$G$.set("meetings", "mr.mirror.hangouts.MeetingsService");
  var $service$jscomp$inline_2469$$ = new $mr$MessagePortServiceImpl$$(this);
  $mr$MessagePortService$service_$$ || ($mr$MessagePortService$service_$$ = $service$jscomp$inline_2469$$);
  this.$b$ = $mediaRouterService$$;
  this.$m$.init(this.$b$.onRouteMessagesReceived.bind(this.$b$));
  $JSCompiler_StaticMethods_registerAllProviders$$(this, $providers$jscomp$2$$, $config$jscomp$17$$);
  this.config = $config$jscomp$17$$;
  $mr$PersistentDataManager$register$$(this);
  $mr$Module$onModuleLoaded$$("mr.ProviderManager", this);
};
var $JSCompiler_StaticMethods_addTimeout_$$ = function($JSCompiler_StaticMethods_addTimeout_$self$$, $routePromise$$, $timeout$jscomp$10$$) {
  return new Promise(function($resolve$jscomp$53$$, $reject$jscomp$51$$) {
    var $timerId$jscomp$1$$ = null;
    $JSCompiler_StaticMethods_addTimeout_$self$$.$J$++;
    $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$$($JSCompiler_StaticMethods_addTimeout_$self$$);
    $timerId$jscomp$1$$ = window.setTimeout(function() {
      $timerId$jscomp$1$$ = null;
      $routePromise$$.cancel(new $mr$RouteRequestError$$(2, "timeout after " + $timeout$jscomp$10$$ + " ms."));
    }, $timeout$jscomp$10$$);
    $routePromise$$.$b$.then(function($route$jscomp$76$$) {
      $JSCompiler_StaticMethods_addTimeout_$self$$.$J$--;
      $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$$($JSCompiler_StaticMethods_addTimeout_$self$$);
      null != $timerId$jscomp$1$$ && window.clearTimeout($timerId$jscomp$1$$);
      $resolve$jscomp$53$$($route$jscomp$76$$);
    }, function($err$jscomp$49$$) {
      $JSCompiler_StaticMethods_addTimeout_$self$$.$J$--;
      $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$$($JSCompiler_StaticMethods_addTimeout_$self$$);
      null != $timerId$jscomp$1$$ && window.clearTimeout($timerId$jscomp$1$$);
      $reject$jscomp$51$$($err$jscomp$49$$ instanceof $mr$RouteRequestError$$ ? $err$jscomp$49$$ : $err$jscomp$49$$ instanceof Error ? new $mr$RouteRequestError$$(0, $err$jscomp$49$$.message, $err$jscomp$49$$.stack) : new $mr$RouteRequestError$$(0));
    });
  });
};
$mr$ProviderManager$$.prototype.onBeforeInvokeHandler = function() {
  $mr$EventAnalytics$recordEvent$$(0);
};
var $JSCompiler_StaticMethods_mojoOriginToString_$$ = function($origin$jscomp$22$$) {
  return "string" == typeof $origin$jscomp$22$$ ? $origin$jscomp$22$$ : $origin$jscomp$22$$.unique ? "" : $origin$jscomp$22$$.scheme + "://" + $origin$jscomp$22$$.host + "\n       " + ($origin$jscomp$22$$.port ? ":" + $origin$jscomp$22$$.port : "") + "/";
};
$JSCompiler_prototypeAlias$$ = $mr$ProviderManager$$.prototype;
$JSCompiler_prototypeAlias$$.createRoute = function($routePromise$jscomp$1_sourceUrn$jscomp$88$$, $sinkId$jscomp$62$$, $presentationId$jscomp$37$$, $origin$jscomp$23$$, $tabId$jscomp$34$$, $timeoutMillis$jscomp$17$$, $offTheRecord$jscomp$15$$) {
  var $$jscomp$this$jscomp$135$$ = this;
  $offTheRecord$jscomp$15$$ = void 0 === $offTheRecord$jscomp$15$$ ? !1 : $offTheRecord$jscomp$15$$;
  var $provider$jscomp$30$$ = $JSCompiler_StaticMethods_getProviderFor_$$(this, $routePromise$jscomp$1_sourceUrn$jscomp$88$$, $sinkId$jscomp$62$$);
  if (!$provider$jscomp$30$$) {
    return Promise.reject(new $mr$RouteRequestError$$(7, "No provider supports createRoute with source: " + $routePromise$jscomp$1_sourceUrn$jscomp$88$$ + " and sink: " + $sinkId$jscomp$62$$));
  }
  var $originString$$ = void 0;
  void 0 !== $origin$jscomp$23$$ && ($originString$$ = $JSCompiler_StaticMethods_mojoOriginToString_$$($origin$jscomp$23$$));
  $timeoutMillis$jscomp$17$$ = $timeoutMillis$jscomp$17$$ && 0 < $timeoutMillis$jscomp$17$$ ? $timeoutMillis$jscomp$17$$ : 6E4;
  $routePromise$jscomp$1_sourceUrn$jscomp$88$$ = $provider$jscomp$30$$.createRoute($routePromise$jscomp$1_sourceUrn$jscomp$88$$, $sinkId$jscomp$62$$, $presentationId$jscomp$37$$, $offTheRecord$jscomp$15$$, $timeoutMillis$jscomp$17$$, $originString$$, $tabId$jscomp$34$$);
  return $JSCompiler_StaticMethods_addTimeout_$$(this, $routePromise$jscomp$1_sourceUrn$jscomp$88$$, $timeoutMillis$jscomp$17$$).then(function($route$jscomp$77$$) {
    return $route$jscomp$77$$;
  }, function($err$jscomp$50$$) {
    $$jscomp$this$jscomp$135$$.$logger_$.error("Error creating route.", $err$jscomp$50$$);
    throw $err$jscomp$50$$;
  });
};
$JSCompiler_prototypeAlias$$.connectRouteByRouteId = function($routePromise$jscomp$2_sourceUrn$jscomp$89$$, $routeId$jscomp$99$$, $presentationId$jscomp$38$$, $origin$jscomp$24$$, $tabId$jscomp$35$$, $timeoutMillis$jscomp$18$$) {
  var $provider$jscomp$31$$ = this.$f$.get($routeId$jscomp$99$$);
  if (!$provider$jscomp$31$$) {
    return Promise.reject(new $mr$RouteRequestError$$(7, "No provider supports join " + $routeId$jscomp$99$$));
  }
  $routePromise$jscomp$2_sourceUrn$jscomp$89$$ = $provider$jscomp$31$$.connectRouteByRouteId($routePromise$jscomp$2_sourceUrn$jscomp$89$$, $routeId$jscomp$99$$, $presentationId$jscomp$38$$, $JSCompiler_StaticMethods_mojoOriginToString_$$($origin$jscomp$24$$), $tabId$jscomp$35$$);
  return $JSCompiler_StaticMethods_addTimeout_$$(this, $routePromise$jscomp$2_sourceUrn$jscomp$89$$, $timeoutMillis$jscomp$18$$ && 0 < $timeoutMillis$jscomp$18$$ ? $timeoutMillis$jscomp$18$$ : 3E4);
};
$JSCompiler_prototypeAlias$$.joinRoute = function($routePromise$jscomp$3_sourceUrn$jscomp$90$$, $presentationId$jscomp$39$$, $origin$jscomp$25$$, $tabId$jscomp$36$$, $timeoutMillis$jscomp$19$$, $offTheRecord$jscomp$16$$) {
  $offTheRecord$jscomp$16$$ = void 0 === $offTheRecord$jscomp$16$$ ? !1 : $offTheRecord$jscomp$16$$;
  var $provider$jscomp$32$$ = $JSCompiler_StaticMethods_getProviderForJoin_$$(this, $routePromise$jscomp$3_sourceUrn$jscomp$90$$, $presentationId$jscomp$39$$);
  if (!$provider$jscomp$32$$) {
    return Promise.reject(new $mr$RouteRequestError$$(7, "No provider supports join " + $presentationId$jscomp$39$$));
  }
  $timeoutMillis$jscomp$19$$ = $timeoutMillis$jscomp$19$$ && 0 < $timeoutMillis$jscomp$19$$ ? $timeoutMillis$jscomp$19$$ : 3E4;
  $routePromise$jscomp$3_sourceUrn$jscomp$90$$ = $provider$jscomp$32$$.joinRoute($routePromise$jscomp$3_sourceUrn$jscomp$90$$, $presentationId$jscomp$39$$, $offTheRecord$jscomp$16$$, $timeoutMillis$jscomp$19$$, $JSCompiler_StaticMethods_mojoOriginToString_$$($origin$jscomp$25$$), $tabId$jscomp$36$$);
  return $JSCompiler_StaticMethods_addTimeout_$$(this, $routePromise$jscomp$3_sourceUrn$jscomp$90$$, $timeoutMillis$jscomp$19$$);
};
$JSCompiler_prototypeAlias$$.terminateRoute = function($routeId$jscomp$100$$) {
  var $provider$jscomp$33$$ = this.$f$.get($routeId$jscomp$100$$);
  return $provider$jscomp$33$$ ? $JSCompiler_StaticMethods_maybeStopMirrorSession_$$(this, $routeId$jscomp$100$$).then(function() {
    return $provider$jscomp$33$$.terminateRoute($routeId$jscomp$100$$);
  }) : Promise.reject(new $mr$RouteRequestError$$(3, "Route not found for routeId " + $routeId$jscomp$100$$));
};
$JSCompiler_prototypeAlias$$.startObservingMediaSinks = function($sourceUrn$jscomp$91$$) {
  this.$l$.has($sourceUrn$jscomp$91$$) || (this.$l$.add($sourceUrn$jscomp$91$$), this.$g$.forEach(function($p$jscomp$9$$) {
    $p$jscomp$9$$.startObservingMediaSinks($sourceUrn$jscomp$91$$);
  }));
  $JSCompiler_StaticMethods_querySinks_$$(this, $sourceUrn$jscomp$91$$);
};
$JSCompiler_prototypeAlias$$.stopObservingMediaSinks = function($sourceUrn$jscomp$92$$) {
  this.$l$.delete($sourceUrn$jscomp$92$$) ? $JSCompiler_StaticMethods_doStopObservingMediaSinks_$$(this, $sourceUrn$jscomp$92$$) : this.$logger_$.info("No existing query " + $sourceUrn$jscomp$92$$);
};
var $JSCompiler_StaticMethods_doStopObservingMediaSinks_$$ = function($JSCompiler_StaticMethods_doStopObservingMediaSinks_$self$$, $sourceUrn$jscomp$93$$) {
  $JSCompiler_StaticMethods_doStopObservingMediaSinks_$self$$.$g$.forEach(function($p$jscomp$10$$) {
    $p$jscomp$10$$.stopObservingMediaSinks($sourceUrn$jscomp$93$$);
  });
}, $JSCompiler_StaticMethods_querySinks_$$ = function($JSCompiler_StaticMethods_querySinks_$self$$, $sourceUrn$jscomp$94$$) {
  if ("urn:x-org.chromium.media:source:tab:-1" == $sourceUrn$jscomp$94$$) {
    $JSCompiler_StaticMethods_querySinks_$self$$.$logger_$.$warning$("No sinks for sourceUrn: " + $sourceUrn$jscomp$94$$);
  } else {
    var $sinks$jscomp$23$$ = new Map, $origins$jscomp$1$$ = [];
    $JSCompiler_StaticMethods_querySinks_$self$$.$g$.forEach(function($p$jscomp$11$$) {
      var $sinkList$$ = $p$jscomp$11$$.$getAvailableSinks$($sourceUrn$jscomp$94$$);
      0 < $sinkList$$.sinks.length && ($origins$jscomp$1$$ = $sinkList$$.origins);
      $sinkList$$.sinks.forEach(function($sink$jscomp$103$$) {
        $sinks$jscomp$23$$.has($sink$jscomp$103$$.id) ? $JSCompiler_StaticMethods_querySinks_$self$$.$logger_$.$warning$("Detected duplicate sink " + $sink$jscomp$103$$.id + " from provider: " + $p$jscomp$11$$.getName()) : $sinks$jscomp$23$$.set($sink$jscomp$103$$.id, $sink$jscomp$103$$);
      });
    });
    $JSCompiler_StaticMethods_sendSinksToMr_$$($JSCompiler_StaticMethods_querySinks_$self$$, $sourceUrn$jscomp$94$$, Array.from($sinks$jscomp$23$$.values()), $origins$jscomp$1$$ || []);
  }
}, $JSCompiler_StaticMethods_sendSinksToMr_$$ = function($JSCompiler_StaticMethods_sendSinksToMr_$self$$, $sourceUrn$jscomp$95$$, $sinkList$jscomp$1$$, $origins$jscomp$2$$) {
  $JSCompiler_StaticMethods_sendSinksToMr_$self$$.$logger_$.info("Sending " + $sinkList$jscomp$1$$.length + " sinks to MR for " + $sourceUrn$jscomp$95$$);
  $JSCompiler_StaticMethods_sendSinksToMr_$self$$.$b$.onSinksReceived($sourceUrn$jscomp$95$$, $sinkList$jscomp$1$$, $origins$jscomp$2$$.map($mr$MojoUtils$stringToMojoOrigin$$));
};
$JSCompiler_prototypeAlias$$ = $mr$ProviderManager$$.prototype;
$JSCompiler_prototypeAlias$$.sendRouteMessage = function($JSCompiler_temp$jscomp$6454_promise$jscomp$inline_6898_routeId$jscomp$101$$, $message$jscomp$155$$, $opt_extraInfo$jscomp$7$$) {
  var $provider$jscomp$34$$ = this.$f$.get($JSCompiler_temp$jscomp$6454_promise$jscomp$inline_6898_routeId$jscomp$101$$);
  $provider$jscomp$34$$ ? ($JSCompiler_temp$jscomp$6454_promise$jscomp$inline_6898_routeId$jscomp$101$$ = $provider$jscomp$34$$.sendRouteMessage($JSCompiler_temp$jscomp$6454_promise$jscomp$inline_6898_routeId$jscomp$101$$, $message$jscomp$155$$, $opt_extraInfo$jscomp$7$$), $JSCompiler_temp$jscomp$6454_promise$jscomp$inline_6898_routeId$jscomp$101$$ = $JSCompiler_StaticMethods_addTimeout_$$(this, $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_temp$jscomp$6454_promise$jscomp$inline_6898_routeId$jscomp$101$$), 
  3E4)) : $JSCompiler_temp$jscomp$6454_promise$jscomp$inline_6898_routeId$jscomp$101$$ = Promise.reject(Error("Invalid route ID " + $JSCompiler_temp$jscomp$6454_promise$jscomp$inline_6898_routeId$jscomp$101$$));
  return $JSCompiler_temp$jscomp$6454_promise$jscomp$inline_6898_routeId$jscomp$101$$;
};
$JSCompiler_prototypeAlias$$.sendRouteBinaryMessage = function($JSCompiler_temp$jscomp$6455_promise$jscomp$inline_6901_routeId$jscomp$102$$, $data$jscomp$96$$) {
  var $provider$jscomp$35$$ = this.$f$.get($JSCompiler_temp$jscomp$6455_promise$jscomp$inline_6901_routeId$jscomp$102$$);
  $provider$jscomp$35$$ ? ($JSCompiler_temp$jscomp$6455_promise$jscomp$inline_6901_routeId$jscomp$102$$ = $provider$jscomp$35$$.sendRouteBinaryMessage($JSCompiler_temp$jscomp$6455_promise$jscomp$inline_6901_routeId$jscomp$102$$, $data$jscomp$96$$), $JSCompiler_temp$jscomp$6455_promise$jscomp$inline_6901_routeId$jscomp$102$$ = $JSCompiler_StaticMethods_addTimeout_$$(this, $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_temp$jscomp$6455_promise$jscomp$inline_6901_routeId$jscomp$102$$), 
  3E4)) : $JSCompiler_temp$jscomp$6455_promise$jscomp$inline_6901_routeId$jscomp$102$$ = Promise.reject(Error("Invalid route ID " + $JSCompiler_temp$jscomp$6455_promise$jscomp$inline_6901_routeId$jscomp$102$$));
  return $JSCompiler_temp$jscomp$6455_promise$jscomp$inline_6901_routeId$jscomp$102$$;
};
$JSCompiler_prototypeAlias$$.startListeningForRouteMessages = function($queue$jscomp$inline_6905_routeId$jscomp$103$$) {
  var $JSCompiler_StaticMethods_listenForRouteMessages$self$jscomp$inline_2475$$ = this.$m$;
  $JSCompiler_StaticMethods_listenForRouteMessages$self$jscomp$inline_2475$$.$f$.has($queue$jscomp$inline_6905_routeId$jscomp$103$$) || ($JSCompiler_StaticMethods_listenForRouteMessages$self$jscomp$inline_2475$$.$f$.add($queue$jscomp$inline_6905_routeId$jscomp$103$$), ($queue$jscomp$inline_6905_routeId$jscomp$103$$ = $JSCompiler_StaticMethods_listenForRouteMessages$self$jscomp$inline_2475$$.$b$.get($queue$jscomp$inline_6905_routeId$jscomp$103$$)) && 0 < $queue$jscomp$inline_6905_routeId$jscomp$103$$.length && 
  $JSCompiler_StaticMethods_scheduleSend$$($JSCompiler_StaticMethods_listenForRouteMessages$self$jscomp$inline_2475$$));
};
$JSCompiler_prototypeAlias$$.stopListeningForRouteMessages = function($routeId$jscomp$104$$) {
  this.$m$.stopListeningForRouteMessages($routeId$jscomp$104$$);
};
$JSCompiler_prototypeAlias$$.detachRoute = function($routeId$jscomp$105$$) {
  var $provider$jscomp$36$$ = this.$f$.get($routeId$jscomp$105$$);
  $provider$jscomp$36$$ ? $provider$jscomp$36$$.detachRoute($routeId$jscomp$105$$) : this.$logger_$.info("Route " + $routeId$jscomp$105$$ + " does not exist.");
};
$JSCompiler_prototypeAlias$$.enableMdnsDiscovery = function() {
};
var $JSCompiler_StaticMethods_getProviderFor_$$ = function($JSCompiler_StaticMethods_getProviderFor_$self$$, $sourceUrn$jscomp$96$$, $sinkId$jscomp$63$$) {
  return $JSCompiler_StaticMethods_getProviderFor_$self$$.$g$.find(function($provider$jscomp$37$$) {
    return $provider$jscomp$37$$.$canRoute$($sourceUrn$jscomp$96$$, $sinkId$jscomp$63$$);
  }) || null;
}, $JSCompiler_StaticMethods_getProviderForJoin_$$ = function($JSCompiler_StaticMethods_getProviderForJoin_$self$$, $sourceUrn$jscomp$97$$, $presentationId$jscomp$40$$) {
  return $JSCompiler_StaticMethods_getProviderForJoin_$self$$.$g$.find(function($provider$jscomp$38$$) {
    return $provider$jscomp$38$$.$canJoin$($sourceUrn$jscomp$97$$, $presentationId$jscomp$40$$);
  }) || null;
};
$mr$ProviderManager$$.prototype.$K$ = function() {
  var $$jscomp$this$jscomp$137$$ = this;
  this.$l$.forEach(function($sourceUrn$jscomp$98$$) {
    $JSCompiler_StaticMethods_querySinks_$$($$jscomp$this$jscomp$137$$, $sourceUrn$jscomp$98$$);
  });
};
var $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$$ = function($JSCompiler_StaticMethods_maybeUpdateKeepAlive_$self$$) {
  $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$self$$.$b$.setKeepAlive(0 < $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$self$$.$J$ || 0 < $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$self$$.$H$.length);
};
$JSCompiler_prototypeAlias$$ = $mr$ProviderManager$$.prototype;
$JSCompiler_prototypeAlias$$.startObservingMediaRoutes = function($sourceUrn$jscomp$99$$) {
  this.$h$.has($sourceUrn$jscomp$99$$) || (this.$h$.add($sourceUrn$jscomp$99$$), this.$g$.forEach(function($p$jscomp$12$$) {
    $p$jscomp$12$$.startObservingMediaRoutes($sourceUrn$jscomp$99$$);
  }));
  this.$M$.$g$();
};
$JSCompiler_prototypeAlias$$.stopObservingMediaRoutes = function($sourceUrn$jscomp$100$$) {
  this.$h$.delete($sourceUrn$jscomp$100$$) ? this.$g$.forEach(function($provider$jscomp$39$$) {
    $provider$jscomp$39$$.stopObservingMediaRoutes($sourceUrn$jscomp$100$$);
  }) : this.$logger_$.info("No existing route query " + $sourceUrn$jscomp$100$$);
};
$JSCompiler_prototypeAlias$$.$sendRoutesQueryResultToMr_$ = function() {
  var $$jscomp$this$jscomp$138$$ = this;
  if (0 != this.$h$.size) {
    var $routeList$$ = [];
    this.$g$.forEach(function($p$jscomp$13$$) {
      $routeList$$ = $routeList$$.concat($p$jscomp$13$$.$getRoutes$());
    });
    this.$h$.forEach(function($sourceUrn$jscomp$101$$) {
      var $nonLocalJoinableRouteIds$$ = [];
      $$jscomp$this$jscomp$138$$.$g$.forEach(function($p$jscomp$14$$) {
        $p$jscomp$14$$.$getRoutes$().forEach(function($route$jscomp$78$$) {
          !$route$jscomp$78$$.$createdLocally$ && $p$jscomp$14$$.$canJoin$($sourceUrn$jscomp$101$$, void 0, $route$jscomp$78$$) && $nonLocalJoinableRouteIds$$.push($route$jscomp$78$$.id);
        });
      });
      $$jscomp$this$jscomp$138$$.$b$.onRoutesUpdated($routeList$$, $sourceUrn$jscomp$101$$, $nonLocalJoinableRouteIds$$);
    });
  }
};
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "ProviderManager";
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$LogManager_LogManager_prototype$getData$ = function() {
  return [new $mr$ProviderManager$PersistentData_$$(this.$g$.map(function($p$jscomp$15$$) {
    return $p$jscomp$15$$.getName();
  }), Array.from(this.$l$), Array.from(this.$h$), Array.from(this.$f$, function($$jscomp$destructuring$var23_routeId$jscomp$106$$) {
    var $$jscomp$destructuring$var24_provider$jscomp$40$$ = $$jscomp$makeIterator$$($$jscomp$destructuring$var23_routeId$jscomp$106$$);
    $$jscomp$destructuring$var23_routeId$jscomp$106$$ = $$jscomp$destructuring$var24_provider$jscomp$40$$.next().value;
    $$jscomp$destructuring$var24_provider$jscomp$40$$ = $$jscomp$destructuring$var24_provider$jscomp$40$$.next().value;
    return [$$jscomp$destructuring$var23_routeId$jscomp$106$$, $$jscomp$destructuring$var24_provider$jscomp$40$$.getName()];
  }), Array.from(this.$s$), this.$C$)];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  var $savedData$jscomp$17$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($savedData$jscomp$17$$) {
    this.$l$ = new Set($savedData$jscomp$17$$.$l$);
    this.$h$ = new Set($savedData$jscomp$17$$.$g$);
    for (var $$jscomp$iter$251$$ = $$jscomp$makeIterator$$($savedData$jscomp$17$$.$f$), $$jscomp$key$$jscomp$destructuring$var25_routeId$jscomp$107$$ = $$jscomp$iter$251$$.next(); !$$jscomp$key$$jscomp$destructuring$var25_routeId$jscomp$107$$.done; $$jscomp$key$$jscomp$destructuring$var25_routeId$jscomp$107$$ = $$jscomp$iter$251$$.next()) {
      var $$jscomp$destructuring$var26_providerName$jscomp$3$$ = $$jscomp$makeIterator$$($$jscomp$key$$jscomp$destructuring$var25_routeId$jscomp$107$$.value);
      $$jscomp$key$$jscomp$destructuring$var25_routeId$jscomp$107$$ = $$jscomp$destructuring$var26_providerName$jscomp$3$$.next().value;
      $$jscomp$destructuring$var26_providerName$jscomp$3$$ = $$jscomp$destructuring$var26_providerName$jscomp$3$$.next().value;
      var $provider$jscomp$41$$ = $JSCompiler_StaticMethods_getProviderByName$$(this, $$jscomp$destructuring$var26_providerName$jscomp$3$$);
      $mr$Assertions$assert$$($provider$jscomp$41$$, "Provider not found: " + $$jscomp$destructuring$var26_providerName$jscomp$3$$);
      this.$f$.set($$jscomp$key$$jscomp$destructuring$var25_routeId$jscomp$107$$, $provider$jscomp$41$$);
    }
    this.$s$ = new Map($savedData$jscomp$17$$.$h$);
    this.$C$ = $savedData$jscomp$17$$.$b$ || null;
  }
};
$JSCompiler_prototypeAlias$$.$getProviderFromRouteId$ = function($routeId$jscomp$108$$) {
  return this.$f$.get($routeId$jscomp$108$$);
};
$JSCompiler_prototypeAlias$$.$onRouteAdded$ = function($provider$jscomp$42$$, $route$jscomp$79$$) {
  this.$f$.set($route$jscomp$79$$.id, $provider$jscomp$42$$);
  this.$onRouteUpdated$($route$jscomp$79$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteRemoved$ = function($route$jscomp$80$$) {
  $JSCompiler_StaticMethods_maybeStopMirrorSession_$$(this, $route$jscomp$80$$.id);
  this.$f$.delete($route$jscomp$80$$.id);
  var $JSCompiler_StaticMethods_mr_RouteMessageSender_prototype$onRouteRemoved$self$jscomp$inline_2478$$ = this.$m$, $routeId$jscomp$inline_2479$$ = $route$jscomp$80$$.id;
  $JSCompiler_StaticMethods_mr_RouteMessageSender_prototype$onRouteRemoved$self$jscomp$inline_2478$$.$f$.delete($routeId$jscomp$inline_2479$$);
  var $queue$jscomp$inline_2480$$ = $JSCompiler_StaticMethods_mr_RouteMessageSender_prototype$onRouteRemoved$self$jscomp$inline_2478$$.$b$.get($routeId$jscomp$inline_2479$$);
  $queue$jscomp$inline_2480$$ && ($JSCompiler_StaticMethods_mr_RouteMessageSender_prototype$onRouteRemoved$self$jscomp$inline_2478$$.$b$.delete($routeId$jscomp$inline_2479$$), $JSCompiler_StaticMethods_onMessagesRemoved_$$($JSCompiler_StaticMethods_mr_RouteMessageSender_prototype$onRouteRemoved$self$jscomp$inline_2478$$, $queue$jscomp$inline_2480$$), $JSCompiler_StaticMethods_updateShouldKeepAlive_$$($JSCompiler_StaticMethods_mr_RouteMessageSender_prototype$onRouteRemoved$self$jscomp$inline_2478$$));
  this.$onRouteUpdated$($route$jscomp$80$$);
};
$JSCompiler_prototypeAlias$$.$onRouteUpdated$ = function() {
  0 < this.$h$.size && this.$M$.$g$();
};
$JSCompiler_prototypeAlias$$.$handleMirrorActivityUpdate$ = function($route$jscomp$82$$) {
  var $provider$jscomp$45$$ = this.$f$.get($route$jscomp$82$$.id);
  $provider$jscomp$45$$ && ($provider$jscomp$45$$.$onMirrorActivityUpdated$($route$jscomp$82$$.id), 0 < this.$h$.size && this.$sendRoutesQueryResultToMr_$());
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$ = function($routeId$jscomp$109$$, $message$jscomp$156$$) {
  this.$f$.has($routeId$jscomp$109$$) ? ("string" === typeof $message$jscomp$156$$ || $message$jscomp$156$$ instanceof Uint8Array || ($message$jscomp$156$$ = JSON.stringify($message$jscomp$156$$)), this.$m$.send($routeId$jscomp$109$$, $message$jscomp$156$$)) : this.$logger_$.$warning$("Got route message for closed route " + $routeId$jscomp$109$$);
};
$JSCompiler_prototypeAlias$$.onPresentationConnectionStateChanged = function($routeId$jscomp$110$$, $state$jscomp$14$$) {
  "terminated" == $state$jscomp$14$$ && this.$m$.$m$();
  this.$b$.onPresentationConnectionStateChanged($routeId$jscomp$110$$, $state$jscomp$14$$);
};
$JSCompiler_prototypeAlias$$.onPresentationConnectionClosed = function($routeId$jscomp$111$$, $reason$jscomp$34$$, $message$jscomp$157$$) {
  this.$m$.$m$();
  this.$b$.onPresentationConnectionClosed($routeId$jscomp$111$$, $reason$jscomp$34$$, $message$jscomp$157$$);
};
$JSCompiler_prototypeAlias$$.$onMirrorSessionEnded$ = function($routeId$jscomp$112$$) {
  this.$o$.delete($routeId$jscomp$112$$);
  var $provider$jscomp$47$$ = this.$f$.get($routeId$jscomp$112$$);
  $provider$jscomp$47$$ && $provider$jscomp$47$$.terminateRoute($routeId$jscomp$112$$);
};
$JSCompiler_prototypeAlias$$.$onInternalMessage$ = function($routeId$jscomp$113$$, $message$jscomp$158$$) {
  $JSCompiler_StaticMethods_module$contents$mr$EventTarget_EventTarget_prototype$dispatchEvent$$(this.$L$, new $mr$InternalMessageEvent$$($routeId$jscomp$113$$, $message$jscomp$158$$));
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$ = function() {
  this.$T$.$g$();
};
$JSCompiler_prototypeAlias$$.onSinkAvailabilityUpdated = function($newAvailability_provider$jscomp$49$$, $availability$jscomp$3$$) {
  var $$jscomp$this$jscomp$139$$ = this, $currentAvailability_oldValue$jscomp$1$$ = this.$s$.get($newAvailability_provider$jscomp$49$$.getName());
  $mr$Assertions$assert$$(void 0 !== $currentAvailability_oldValue$jscomp$1$$, "oldValue != undefined");
  $currentAvailability_oldValue$jscomp$1$$ != $availability$jscomp$3$$ && ($currentAvailability_oldValue$jscomp$1$$ = $JSCompiler_StaticMethods_computeSinkAvailability_$$(this), this.$s$.set($newAvailability_provider$jscomp$49$$.getName(), $availability$jscomp$3$$), $newAvailability_provider$jscomp$49$$ = $JSCompiler_StaticMethods_computeSinkAvailability_$$(this), $currentAvailability_oldValue$jscomp$1$$ != $newAvailability_provider$jscomp$49$$ && (0 == $newAvailability_provider$jscomp$49$$ && this.$K$(), 
  this.$b$.onSinkAvailabilityUpdated($newAvailability_provider$jscomp$49$$), 0 == $newAvailability_provider$jscomp$49$$ && (this.$l$.forEach(function($sourceUrn$jscomp$102$$) {
    $JSCompiler_StaticMethods_doStopObservingMediaSinks_$$($$jscomp$this$jscomp$139$$, $sourceUrn$jscomp$102$$);
  }), this.$l$.clear())));
};
var $JSCompiler_StaticMethods_computeSinkAvailability_$$ = function($JSCompiler_StaticMethods_computeSinkAvailability_$self$$) {
  return Array.from($JSCompiler_StaticMethods_computeSinkAvailability_$self$$.$s$.values()).reduce(function($prev$$, $cur$jscomp$4$$) {
    return Math.max($prev$$, $cur$jscomp$4$$);
  }, 0);
};
$mr$ProviderManager$$.prototype.$getRouteMessageEventTarget$ = function() {
  return this.$L$;
};
$mr$ProviderManager$$.prototype.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$sendIssue$ = function($issue$jscomp$8$$) {
  this.$b$.onIssue($issue$jscomp$8$$);
};
var $JSCompiler_StaticMethods_maybeStopMirrorSession_$$ = function($JSCompiler_StaticMethods_maybeStopMirrorSession_$self$$, $routeId$jscomp$114$$) {
  return $JSCompiler_StaticMethods_maybeStopMirrorSession_$self$$.$o$.has($routeId$jscomp$114$$) ? $JSCompiler_StaticMethods_getMirrorService$$($JSCompiler_StaticMethods_maybeStopMirrorSession_$self$$, $JSCompiler_StaticMethods_maybeStopMirrorSession_$self$$.$o$.get($routeId$jscomp$114$$)).then(function($mirrorService$$) {
    $JSCompiler_StaticMethods_maybeStopMirrorSession_$self$$.$o$.delete($routeId$jscomp$114$$);
    return $mirrorService$$.$s$();
  }) : Promise.resolve(!1);
};
$mr$ProviderManager$$.prototype.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$startMirroring$ = function($provider$jscomp$50$$, $route$jscomp$83$$, $opt_presentationId$jscomp$9$$, $opt_streamStartedCallback$jscomp$5$$) {
  var $$jscomp$this$jscomp$141$$ = this, $mirrorServiceName$jscomp$3$$ = $mr$Assertions$assertString$$($provider$jscomp$50$$.$getMirrorServiceName$($route$jscomp$83$$.sinkId));
  this.$logger_$.info("Starting mirroring using service: " + $mirrorServiceName$jscomp$3$$);
  this.$o$.set($route$jscomp$83$$.id, $mirrorServiceName$jscomp$3$$);
  return $module$contents$mr$CancellablePromise_CancellablePromise$withUncancellableStep$$($JSCompiler_StaticMethods_getMirrorService$$(this, $mirrorServiceName$jscomp$3$$), function($mirrorService$jscomp$1$$) {
    $$jscomp$this$jscomp$141$$.$C$ = $mirrorServiceName$jscomp$3$$;
    return $mirrorService$jscomp$1$$.$mr_mirror_Service_prototype$startMirroring$($route$jscomp$83$$, $mr$Assertions$assertString$$($route$jscomp$83$$.mediaSource), $provider$jscomp$50$$.$getMirrorSettings$($route$jscomp$83$$.sinkId), $opt_presentationId$jscomp$9$$, $opt_streamStartedCallback$jscomp$5$$).catch(function($err$jscomp$51$$) {
      if ($err$jscomp$51$$ instanceof $mr$mirror$Error$$ && 3 == $err$jscomp$51$$.reason) {
        throw new $mr$RouteRequestError$$(8);
      }
      throw $err$jscomp$51$$;
    });
  });
};
$mr$ProviderManager$$.prototype.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$updateMirroring$ = function($provider$jscomp$51$$, $route$jscomp$84$$, $sourceUrn$jscomp$103$$, $opt_presentationId$jscomp$10$$, $opt_tabId$jscomp$14$$, $opt_streamStartedCallback$jscomp$6$$) {
  var $$jscomp$this$jscomp$142$$ = this, $mirrorServiceName$jscomp$4$$ = this.$o$.get($route$jscomp$84$$.id);
  return $mirrorServiceName$jscomp$4$$ ? $module$contents$mr$CancellablePromise_CancellablePromise$withUncancellableStep$$($JSCompiler_StaticMethods_getMirrorService$$(this, $mirrorServiceName$jscomp$4$$), function($mirrorService$jscomp$2$$) {
    $$jscomp$this$jscomp$142$$.$C$ = $mirrorServiceName$jscomp$4$$;
    return $mirrorService$jscomp$2$$.$mr_mirror_Service_prototype$updateMirroring$($route$jscomp$84$$, $sourceUrn$jscomp$103$$, $provider$jscomp$51$$.$getMirrorSettings$($route$jscomp$84$$.sinkId), $opt_presentationId$jscomp$10$$, $opt_tabId$jscomp$14$$, $opt_streamStartedCallback$jscomp$6$$);
  }) : $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Route " + $route$jscomp$84$$.id + " is not mirroring"));
};
$mr$ProviderManager$$.prototype.$requestKeepAlive$ = function($componentId$jscomp$2$$, $keepAlive$jscomp$3$$) {
  var $index$jscomp$103$$ = this.$H$.indexOf($componentId$jscomp$2$$), $componentKeepAlive$$ = 0 <= $index$jscomp$103$$;
  $keepAlive$jscomp$3$$ && !$componentKeepAlive$$ ? this.$H$.push($componentId$jscomp$2$$) : !$keepAlive$jscomp$3$$ && $componentKeepAlive$$ && this.$H$.splice($index$jscomp$103$$, 1);
  $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$$(this);
};
var $JSCompiler_StaticMethods_getProviderByName$$ = function($JSCompiler_StaticMethods_getProviderByName$self$$, $name$jscomp$176$$) {
  return $JSCompiler_StaticMethods_getProviderByName$self$$.$g$.find(function($p$jscomp$16$$) {
    return $p$jscomp$16$$.getName() == $name$jscomp$176$$;
  }) || null;
};
$JSCompiler_prototypeAlias$$ = $mr$ProviderManager$$.prototype;
$JSCompiler_prototypeAlias$$.searchSinks = function($sinkId$jscomp$66$$, $sourceUrn$jscomp$105$$, $searchCriteria$jscomp$7$$) {
  var $providerName$jscomp$4_searchOwner$$ = $sinkId$jscomp$66$$.startsWith("pseudo:") ? $sinkId$jscomp$66$$.substring(7) : null;
  return ($providerName$jscomp$4_searchOwner$$ = $providerName$jscomp$4_searchOwner$$ ? $JSCompiler_StaticMethods_getProviderByName$$(this, $providerName$jscomp$4_searchOwner$$) : null) ? $providerName$jscomp$4_searchOwner$$.searchSinks($sourceUrn$jscomp$105$$, $searchCriteria$jscomp$7$$).then(function($sink$jscomp$104$$) {
    return $sink$jscomp$104$$.id;
  }) : Promise.reject(Error("No provider supports " + $sinkId$jscomp$66$$));
};
$JSCompiler_prototypeAlias$$.provideSinks = function($providerName$jscomp$5$$, $sinks$jscomp$24$$) {
  var $provider$jscomp$52$$ = $JSCompiler_StaticMethods_getProviderByName$$(this, $providerName$jscomp$5$$);
  $provider$jscomp$52$$ ? $provider$jscomp$52$$.provideSinks($sinks$jscomp$24$$) : this.$logger_$.error("provideSinks: Provider not found for providerName " + $providerName$jscomp$5$$);
};
$JSCompiler_prototypeAlias$$.updateMediaSinks = function($sourceUrn$jscomp$106$$) {
  this.$l$.has($sourceUrn$jscomp$106$$) || $JSCompiler_StaticMethods_querySinks_$$(this, $sourceUrn$jscomp$106$$);
};
$JSCompiler_prototypeAlias$$.createMediaRouteController = function($errorMessage$jscomp$2_routeId$jscomp$115$$, $controllerRequest$jscomp$9$$, $observer$jscomp$10$$) {
  var $$jscomp$this$jscomp$143$$ = this, $provider$jscomp$53$$ = this.$f$.get($errorMessage$jscomp$2_routeId$jscomp$115$$);
  return $provider$jscomp$53$$ ? $provider$jscomp$53$$.createMediaRouteController($errorMessage$jscomp$2_routeId$jscomp$115$$, $controllerRequest$jscomp$9$$, $observer$jscomp$10$$).catch(function($e$jscomp$97$$) {
    $$jscomp$this$jscomp$143$$.$logger_$.error("createMediaRouteController failed: " + $e$jscomp$97$$.message);
    $controllerRequest$jscomp$9$$.close();
    $observer$jscomp$10$$.ptr.reset();
    throw $e$jscomp$97$$;
  }) : ($errorMessage$jscomp$2_routeId$jscomp$115$$ = "createMediaRouteController: Provider not found for " + $errorMessage$jscomp$2_routeId$jscomp$115$$, this.$logger_$.error($errorMessage$jscomp$2_routeId$jscomp$115$$), $controllerRequest$jscomp$9$$.close(), $observer$jscomp$10$$.ptr.reset(), Promise.reject(Error($errorMessage$jscomp$2_routeId$jscomp$115$$)));
};
$JSCompiler_prototypeAlias$$.onMediaRemoterCreated = function($tabId$jscomp$37$$, $remoter$$, $remotingSourceRequest$$) {
  this.$b$.onMediaRemoterCreated($tabId$jscomp$37$$, $remoter$$, $remotingSourceRequest$$);
};
$JSCompiler_prototypeAlias$$.getMediaSinkServiceStatus = function() {
  return "function" != typeof this.$b$.getMediaSinkServiceStatus ? Promise.resolve({status:""}) : this.$b$.getMediaSinkServiceStatus();
};
$JSCompiler_prototypeAlias$$.getMirroringServiceHostForTab = function($targetTabId$jscomp$2$$, $request$jscomp$67$$) {
  this.$b$.getMirroringServiceHostForTab($targetTabId$jscomp$2$$, $request$jscomp$67$$);
};
$JSCompiler_prototypeAlias$$.getMirroringServiceHostForDesktop = function($initiatorTabId$jscomp$2$$, $desktopStreamId$jscomp$2$$, $request$jscomp$68$$) {
  this.$b$.getMirroringServiceHostForDesktop($initiatorTabId$jscomp$2$$, $desktopStreamId$jscomp$2$$, $request$jscomp$68$$);
};
$JSCompiler_prototypeAlias$$.getMirroringServiceHostForOffscreenTab = function($presentationUrl$jscomp$19$$, $presentationId$jscomp$41$$, $request$jscomp$69$$) {
  this.$b$.getMirroringServiceHostForOffscreenTab($presentationUrl$jscomp$19$$, $presentationId$jscomp$41$$, $request$jscomp$69$$);
};
var $mr$ProviderManager$PersistentData_$$ = function($providerNames$$, $sinkQueries$$, $routeQueries$$, $routeIdToProviderName$$, $sinkAvailabilityMap$$, $lastUsedMirrorService$jscomp$1$$) {
  this.$l$ = $sinkQueries$$;
  this.$g$ = $routeQueries$$;
  this.$f$ = $routeIdToProviderName$$;
  this.$h$ = $sinkAvailabilityMap$$;
  this.$b$ = $lastUsedMirrorService$jscomp$1$$;
};

